{"version":3,"file":"js/app.f9b748b8.js","mappings":"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","sources":["webpack://@cosmicds/planet-parade/./src/timezones.ts","webpack://@cosmicds/planet-parade/./src/utils.ts","webpack://@cosmicds/planet-parade/./src/horizon_sky.ts","webpack://@cosmicds/planet-parade/./src/text.ts","webpack://@cosmicds/planet-parade/./src/wwt-hacks.ts","webpack://@cosmicds/planet-parade/./src/useSun.ts","webpack://@cosmicds/planet-parade/./src/PlanetParade.vue?6c3a","webpack://@cosmicds/planet-parade/./src/PlanetParade.vue","webpack://@cosmicds/planet-parade/./src/PlanetParade.vue?1954","webpack://@cosmicds/planet-parade/./plugins/vuetify.ts","webpack://@cosmicds/planet-parade/./src/components/TapToInput.vue?d3b9","webpack://@cosmicds/planet-parade/./src/components/TapToInput.vue","webpack://@cosmicds/planet-parade/./src/components/TapToInput.vue?f02f","webpack://@cosmicds/planet-parade/./src/components/DateTimePicker.vue?0264","webpack://@cosmicds/planet-parade/./src/components/DateTimePicker.vue","webpack://@cosmicds/planet-parade/./src/components/DateTimePicker.vue?ef30","webpack://@cosmicds/planet-parade/./src/components/LocationSearch.vue?4f80","webpack://@cosmicds/planet-parade/./src/components/LocationSearch.vue","webpack://@cosmicds/planet-parade/./src/components/LocationSearch.vue?99f6","webpack://@cosmicds/planet-parade/./src/components/PlaybackControl.vue?8cc6","webpack://@cosmicds/planet-parade/./src/components/PlaybackControl.vue","webpack://@cosmicds/planet-parade/./src/components/symlog.ts","webpack://@cosmicds/planet-parade/./src/components/PlaybackControl.vue?53b1","webpack://@cosmicds/planet-parade/./src/wwt_playback_control.ts","webpack://@cosmicds/planet-parade/./src/components/SpeedControl.vue?e115","webpack://@cosmicds/planet-parade/./src/components/SpeedControl.vue","webpack://@cosmicds/planet-parade/./src/components/SpeedControl.vue?9751","webpack://@cosmicds/planet-parade/./src/components/TimeDisplay.vue?8b16","webpack://@cosmicds/planet-parade/./src/components/TimeDisplay.vue","webpack://@cosmicds/planet-parade/./src/components/TimeDisplay.vue?2cde","webpack://@cosmicds/planet-parade/./src/SplashScreen.vue?d226","webpack://@cosmicds/planet-parade/./src/SplashScreen.vue","webpack://@cosmicds/planet-parade/./src/SplashScreen.vue?b8e9","webpack://@cosmicds/planet-parade/./src/main.ts","webpack://@cosmicds/planet-parade/webpack/bootstrap","webpack://@cosmicds/planet-parade/webpack/runtime/chunk loaded","webpack://@cosmicds/planet-parade/webpack/runtime/compat get default export","webpack://@cosmicds/planet-parade/webpack/runtime/define property getters","webpack://@cosmicds/planet-parade/webpack/runtime/global","webpack://@cosmicds/planet-parade/webpack/runtime/hasOwnProperty shorthand","webpack://@cosmicds/planet-parade/webpack/runtime/make namespace object","webpack://@cosmicds/planet-parade/webpack/runtime/jsonp chunk loading","webpack://@cosmicds/planet-parade/webpack/startup"],"sourcesContent":["import { Ref, computed} from 'vue';\nimport { getTimezoneOffset, formatInTimeZone } from \"date-fns-tz\";\nimport tzlookup from \"tz-lookup\";\nimport { LocationDeg } from './types';\n\n\nexport function useTimezone(selectedLocation: Ref<LocationDeg>) {\n  // selectedDate keeps track of the time the user has selected\n  \n  const selectedTimezone = computed(() => tzlookup(selectedLocation.value.latitudeDeg, selectedLocation.value.longitudeDeg));\n\n  // what we add to utc time to get the localized time\n  const selectedTimezoneOffset = computed(() => getTimezoneOffset(selectedTimezone.value));\n  const shortTimezone = computed(() => formatInTimeZone(new Date(), selectedTimezone.value, \"zzz\"));\n\n  const browserTimezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n  // this is added to (new Date()).getHours() to get UTC hours\n  const browserTimezoneOffset = new Date().getTimezoneOffset() * 60 * 1000; // in milliseconds\n  \n  console.log('Browser timezone:', browserTimezone);\n  console.log('Browser timezone offset:', browserTimezoneOffset);\n  console.log('Selected timezone:', selectedTimezone.value);\n  console.log('Selected timezone offset:', selectedTimezoneOffset.value);\n  \n  return {\n    selectedTimezone,\n    shortTimezone,\n    selectedTimezoneOffset,\n    browserTimezone,\n    browserTimezoneOffset,\n  };\n}\n","import { D2R, R2D } from \"@cosmicds/vue-toolkit\";\nimport { HorizontalRad, EquatorialRad } from \"./types\";\n\n// WWT does have all of this functionality built in\n// but it doesn't seem to be exposed\n// We should do that, but for now we just copy the web engine code\n// https://github.com/Carifio24/wwt-webgl-engine/blob/master/engine/wwtlib/Coordinates.cs\nexport function altAzToHADec(altRad: number, azRad: number, latRad: number): { ra: number; dec: number; } {\n  azRad = Math.PI - azRad;\n  if (azRad < 0) {\n    azRad += 2 * Math.PI;\n  }\n  let ra = Math.atan2(Math.sin(azRad), Math.cos(azRad) * Math.sin(latRad) + Math.tan(altRad) * Math.cos(latRad));\n  if (ra < 0) {\n    ra += 2 * Math.PI;\n  }\n  const dec = Math.asin(Math.sin(latRad) * Math.sin(altRad) - Math.cos(latRad) * Math.cos(altRad) * Math.cos(azRad));\n  return { ra, dec };\n}\n\nexport function getJulian(utc: Date): number {\n  let year = utc.getUTCFullYear();\n  let month = utc.getUTCMonth()+1;\n  const day = utc.getUTCDate();\n  const hour = utc.getUTCHours();\n  const minute = utc.getUTCMinutes();\n  const second = utc.getUTCSeconds() + utc.getUTCMilliseconds() / 1000.0;\n\n  if (month == 1 || month == 2)\n  {\n    year -= 1;\n    month += 12;\n  }\n\n  const a = Math.floor(year / 100);\n  const b = 2 - a + Math.floor(a / 4.0);\n  const c = Math.floor(365.25 * year);\n  const d = Math.floor(30.6001 * (month + 1));\n\n  // gives julian date: number of days since Jan 1, 4713 BC\n  const jd = b + c + d + 1720994.5 + day + (hour + minute / 60.00 + second / 3600.00) / 24.00;\n  return jd;\n}\n\nexport function mstFromUTC2(utc: Date, longRad: number): number {\n  const lng = longRad * R2D;\n\n  const modifiedJD = getJulian(utc)  - 2451545;\n\n  const julianCenturies = modifiedJD / 36525.0;\n  // this form wants julianDays - 2451545\n  let mst = 280.46061837 + 360.98564736629 * modifiedJD + 0.000387933 * julianCenturies * julianCenturies - julianCenturies * julianCenturies * julianCenturies / 38710000 + lng;\n\n  if (mst > 0.0) {\n    while (mst > 360.0) {\n      mst = mst - 360.0;\n    }\n  } else {\n    while (mst < 0.0) {\n      mst = mst + 360.0;\n    }\n  }\n\n  return mst;\n}\n\nexport function horizontalToEquatorial(altRad: number, azRad: number, latRad: number, longRad: number, utc: Date): EquatorialRad {\n  const st = mstFromUTC2(utc, longRad); // siderial time \n\n  const haDec = altAzToHADec(altRad, azRad, latRad); // get Hour Angle and Declination\n  \n  const ha = haDec.ra * R2D;\n\n  let ra = st + ha;\n  if (ra < 0) {\n    ra += 360;\n  }\n  if (ra > 360) {\n    ra -= 360;\n  }\n  // ra -= 180;\n  // console.log(`Alt: ${(altRad*R2D).toFixed(2)} Az: ${(azRad*R2D).toFixed(2)} Ra: ${ra.toFixed(2)} Dec: ${(haDec.dec*R2D).toFixed(2)}`)\n\n  return { raRad: D2R * ra, decRad: haDec.dec };\n}\n\nexport function equatorialToHorizontal(raRad: number, decRad: number, latRad: number, longRad: number, utc: Date): HorizontalRad {\n  let hourAngle = mstFromUTC2(utc, longRad) - R2D * raRad;\n  if (hourAngle < 0) {\n    hourAngle += 360;\n  }\n\n  const ha = D2R * hourAngle;\n  const dec = decRad;\n  const lat = latRad;\n  \n  const sinAlt = Math.sin(dec) * Math.sin(lat) + Math.cos(dec) * Math.cos(lat) * Math.cos(ha);\n  const altitude = Math.asin(sinAlt);\n  const cosAz = (Math.sin(dec) - Math.sin(altitude) * Math.sin(lat)) / (Math.cos(altitude) * Math.cos(lat));\n  let azimuth = Math.acos(cosAz);\n\n  azimuth = azimuth + (Math.PI * 80) % (Math.PI * 2);\n\n  if (Math.sin(ha) > 0) {\n    azimuth = 2 * Math.PI - azimuth;\n  }\n  return { altRad: altitude, azRad: azimuth };\n\n}\n\nexport function skyOpacityForSunAlt(sunAltRad: number) {\n  const civilTwilight = -6 * D2R;\n  const astronomicalTwilight = 3 * civilTwilight;\n  \n  return Math.min(Math.max((1 + Math.atan(Math.PI * sunAltRad / (-astronomicalTwilight))) / 2, 0), 1);\n}\n\nexport const API_BASE_URL = \"https://api.cosmicds.cfa.harvard.edu\";\nexport const MINIDS_BASE_URL = `${API_BASE_URL}/minids`;\n\nexport type UserExperienceRating = \"very_bad\" | \"poor\" | \"good\" | \"excellent\";\nexport const DEFAULT_RATING_COLORS = [\"red\", \"orange\", \"lightgreen\", \"green\"];\n\nexport interface UserExperienceSubmissionInfo {\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  story_name: string;\n  uuid: string;\n  comments?: string;\n  rating?: UserExperienceRating;\n}\n\nexport async function submitUserExperienceRating(\n  info: UserExperienceSubmissionInfo,\n  apiKey: string,\n  url?: string\n): Promise<Response | null> {\n  const body: UserExperienceSubmissionInfo = {\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    story_name: info.story_name,\n    uuid: info.uuid,\n  };\n  if (info.comments) {\n    body.comments = info.comments;\n  }\n  if (info.rating) {\n    body.rating == info.rating;\n  }\n  const destination = url ?? `${API_BASE_URL}/stories/user-experience`;\n  return fetch(destination, {\n    method: \"PUT\",\n    body: JSON.stringify(body),\n    headers: {\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      \"Authorization\": apiKey,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      \"Content-Type\": \"application/json\",\n    },\n  })\n    .catch(error => {\n      console.error(error);\n      return null;\n    });\n}\n\n","// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-nocheck\n\n/* eslint-disable */\n\n\n// We need this import for WWT types that aren't exported\n// from the engine at the JS level\nimport * as wwtlib from \"@wwtelescope/engine\";\nimport {\n  Color,\n  Coordinates,\n  Matrix3d,\n  Place,\n  RenderContext,\n  Settings,\n  SpaceTimeController,\n  WWTControl,\n} from \"@wwtelescope/engine\";\nimport { Classification, SolarSystemObjects } from \"@wwtelescope/engine-types\";\nimport { HorizonSkyOptions } from \"./types\";\nimport { equatorialToHorizontal, horizontalToEquatorial, skyOpacityForSunAlt } from \"./utils\";\nimport { D2R, R2D } from \"@cosmicds/vue-toolkit\";\n\nconst sunPlace = new Place();\nsunPlace.set_names([\"Sun\"]);\nsunPlace.set_classification(Classification.solarSystem);\nsunPlace.set_target(SolarSystemObjects.sun);\nsunPlace.set_zoomLevel(20);\n\n\nexport const drawHorizon = (renderContext: RenderContext, options: HorizonSkyOptions) => {\n  const n = 6;\n  const delta = 2 * Math.PI / n;\n  const triangleList = new wwtlib.TriangleList();\n  const color = Color.load(options.color);\n  color.a = Math.round(255 * options.opacity ?? 1);\n  const settings = Settings.get_active();\n  const longitudeRad = settings.get_locationLng() * D2R;\n  const latitudeRad = settings.get_locationLat() * D2R;\n  const now = SpaceTimeController.get_now();\n  for (let i = 0; i < n; i++) {\n    let points: [number, number][] = [\n      [0, i * delta],\n      [-Math.PI / 2, i * delta],\n      [0, (i + 1) * delta]\n    ];\n    points = points.map((point) => {\n      const raDecRad = horizontalToEquatorial(...point, latitudeRad, longitudeRad, now);\n      return Coordinates.raDecTo3d(R2D * raDecRad.raRad / 15, R2D * raDecRad.decRad);\n    });\n    triangleList.addSubdividedTriangles(...points, color, new wwtlib.Dates(0, 1), 2);\n    \n  }\n  triangleList.draw(renderContext, 1, true);\n\n};\n\n\nexport const drawSky = (renderContext: RenderContext, options: HorizonSkyOptions) => {\n  const n = 6;\n  const delta = 2 * Math.PI / n;\n  const triangleList = new wwtlib.TriangleList();\n  const color = Color.load(options.color);\n  const settings = Settings.get_active();\n  const longitudeRad = settings.get_locationLng() * D2R;\n  const latitudeRad = settings.get_locationLat() * D2R;\n\n  const sunAltAz = equatorialToHorizontal(sunPlace.get_RA() * 15 * D2R,\n                                          sunPlace.get_dec() * D2R,\n                                          latitudeRad,\n                                          longitudeRad,\n                                          SpaceTimeController.get_now());\n  const opacity = skyOpacityForSunAlt(sunAltAz.altRad);\n  color.a = Math.round(255 * opacity);\n  WWTControl.scriptInterface.setForegroundOpacity((1 - opacity) * 100);\n  const now = SpaceTimeController.get_now();\n  for (let i = 0; i < n; i++) {\n    let points: [number, number][] = [\n      [0, i * delta],\n      [0, (i + 1) * delta],\n      [Math.PI / 2, i * delta] // In addition to using +pi/2 instead of -pi/2, I had to switch the order of the 2nd & 3rd points relative to the horizon set. I don't know why, but before I switched them, the polygons didn't render.\n    ];\n    points = points.map((point) => {\n      const raDecRad = horizontalToEquatorial(...point, latitudeRad, longitudeRad, now);\n      return Coordinates.raDecTo3d(R2D * raDecRad.raRad / 15, R2D * raDecRad.decRad);\n    });\n    triangleList.addSubdividedTriangles(...points, color, new wwtlib.Dates(0, 1), 2);\n    \n  }\n  triangleList.draw(renderContext, 1, true);\n\n};\n","// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-nocheck\n\n/* eslint-disable */\n\nimport { Coordinates, Place, RenderContext, SpaceTimeController, Text3d, Text3dBatch, Vector3d } from \"@wwtelescope/engine\";\nimport { Classification, SolarSystemObjects } from \"@wwtelescope/engine-types\";\n\nfunction nameForObject(object: SolarSystemObjects): string {\n  // For creating a place based on a name, WWT requires that the name be capitalized\n  let name = SolarSystemObjects[object];\n  name = name.charAt(0).toUpperCase() + name.slice(1);\n  return name;\n}\n\nfunction placeForObject(object: SolarSystemObjects): Place {\n  const place = new Place();\n  const name = nameForObject(object);\n  place.set_names([name]);\n  place.set_classification(Classification.solarSystem);\n  place.set_target(object);\n  return place;\n}\n\nconst maxFOV = 90;\nconst minFOV = 0.1;\nconst maxFactor = 0.9;\nconst minFactor = 0.1;\nconst gMax = Math.log(maxFactor / (1 - maxFactor));\nconst gMin = Math.log(minFactor/ (1 - minFactor));\nconst b = (gMax - gMin) / (maxFOV - minFOV);\nconst a = gMax - b * maxFOV;\n\nconst planetTextOffsetsY = [\n  115,  // Sun\n  -60,  // Mercury\n  85,  // Venus\n  100,  // Mars\n  100,  // Jupiter\n  120,  // Saturn\n  90,  // Uranus\n  90,  // Neptune\n  100,  // Pluto\n  -70,  // Moon\n];\n\nconst planetTextOffsetsX = [\n  85,  // Sun\n  -275,  // Mercury\n  0,  // Venus\n  0,  // Mars\n  0,  // Jupiter\n  0,  // Saturn\n  0,  // Uranus\n  0,  // Neptune\n  0,  // Pluto\n  0,  // Moon\n];\n\nfunction textOverlayForSolarSystemObject(renderContext: RenderContext, object: SolarSystemObjects, text: string, glyphHeight: number): Text3d {\n  const zoom = renderContext.viewCamera.zoom;\n  const fov = zoom / 6;\n  const exp = Math.exp(a + b * fov);\n  const scale = 0.0002 * ((1.4 * exp / (1 + exp)) + 1);\n  const sign = SpaceTimeController.get_location().get_lat() < 0 ? -1 : 1;\n  const up = Vector3d.create(0, sign, 0);\n\n  const place = placeForObject(object);\n  const location = Coordinates.raDecTo3d(place.get_RA(), place.get_dec());\n  location.y -= planetTextOffsetsY[object] * scale ?? 0.035;\n  location.x -= planetTextOffsetsX[object] * scale ?? 0;\n  return new Text3d(location, up, text, glyphHeight, scale);\n}\n\nexport function makeTextOverlays(renderContext: RenderContext): Text3dBatch {\n  const glyphHeight = 75 * 0.5;\n  const batch = new Text3dBatch(glyphHeight);\n  const values = Object.keys(SolarSystemObjects).filter(key => !isNaN(Number(key)))\n  values.forEach(object => {\n    if (Number(object) <= SolarSystemObjects.moon) {\n      const name = nameForObject(object);\n      const text = textOverlayForSolarSystemObject(renderContext, object, name, glyphHeight);\n      batch.add(text);\n    }\n  });\n  return batch;\n}\n","// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-nocheck\n\n/* eslint-disable */\n\nimport {\n  Annotation,\n  Color,\n  Colors,\n  Constellations,\n  Coordinates,\n  CT,\n  DT,\n  GlyphCache,\n  Grids,\n  Matrix3d,\n  Planets,\n  RenderContext,\n  RenderTriangle,\n  Settings,\n  SimpleLineList,\n  SpaceTimeController,\n  Text3d,\n  Text3dBatch,\n  Texture,\n  Tile,\n  TileCache,\n  TourPlayer,\n  URLHelpers,\n  Vector3d,\n  WebFile,\n  WWTControl,\n} from \"@wwtelescope/engine\";\n\nimport { drawHorizon, drawSky } from \"./horizon_sky\";\nimport { makeTextOverlays } from \"./text\";\n\nexport function resetAltAzGridText() {\n  Grids._altAzTextBatch = null;\n}\n\nexport function makeAltAzGridText() {\n  if (Grids._altAzTextBatch == null) {\n    const glyphHeight = 70;\n    Grids._altAzTextBatch = new Text3dBatch(glyphHeight);\n    const sign = SpaceTimeController.get_location().get_lat() < 0 ? -1 : 1;\n    const alt = 0.03 * sign;\n    const up = Vector3d.create(0, sign, 0);\n    const directions = [\n      [[0, alt, -1], \"N\"],\n      [[-sign, alt, 0], \"E\"],\n      [[0, alt, 1], \"S\"],\n      [[sign, alt,  0], \"W\"],\n    ]\n    directions.forEach(([v, text]) => {\n      Grids._altAzTextBatch.add(new Text3d(Vector3d.create(...v), up, text, 75, 0.00018));\n    });\n    useCustomGlyphs(Grids._altAzTextBatch);\n  }\n}\n\nconst GLYPH_CACHE = function(): GlyphCache {\n  const cache = new GlyphCache();\n  let root = window.location.origin + window.location.pathname;\n  if (root.endsWith(\"/\")) {\n    root= root.slice(0, root.length - 1);\n  }\n  const imageUrl = `${root}/glyphs2.png`;\n  const xmlUrl = `${root}/glyphs2.xml`;\n  cache._texture = Texture.fromUrl(imageUrl);\n  cache._webFile = new WebFile(xmlUrl);\n  cache._webFile.onStateChange = GlyphCache.prototype._glyphXmlReady.bind(cache);\n  cache._webFile.send();\n\n  return cache;\n}();\n\nexport function useCustomGlyphs(batch: Text3dBatch) {\n  batch._glyphCache = GLYPH_CACHE;\n  batch.prepareBatch();\n}\n\nexport function drawPlanets(renderContext: RenderContext, _opacity: number) {\n  if (Planets._planetTextures == null) {\n      Planets._loadPlanetTextures();\n    }\n    var elong = Planets._geocentricElongation(Planets._planetLocations[9].RA, Planets._planetLocations[9].dec, Planets._planetLocations[0].RA, Planets._planetLocations[0].dec);\n    var raDif = Planets._planetLocations[9].RA - Planets._planetLocations[0].RA;\n    if (Planets._planetLocations[9].RA < Planets._planetLocations[0].RA) {\n      raDif += 24;\n    }\n    var phaseAngle = Planets._phaseAngle(elong, Planets._planetLocations[9].distance, Planets._planetLocations[0].distance);\n    // var limbAngle = Planets._positionAngle(Planets._planetLocations[9].RA, Planets._planetLocations[9].dec, Planets._planetLocations[0].RA, Planets._planetLocations[0].dec);\n    if (raDif < 12) {\n      phaseAngle += 180;\n    }\n    var dista = (Math.abs(Planets._planetLocations[9].RA - Planets._planetLocations[0].RA) * 15) * Math.cos(Coordinates.degreesToRadians(Planets._planetLocations[0].dec));\n    var distb = Math.abs(Planets._planetLocations[9].dec - Planets._planetLocations[0].dec);\n    var sunMoonDist = Math.sqrt(dista * dista + distb * distb);\n    var eclipse = false;\n    var coronaOpacity = 0;\n    var moonEffect = (Planets._planetScales[9] / 2 - sunMoonDist);\n    // var darkLimb = Math.min(32, sunMoonDist * 32);\n    if (moonEffect > (Planets._planetScales[0] / 4)) {\n      eclipse = true;\n      coronaOpacity = Math.min(1, (moonEffect - (Planets._planetScales[0] / 2)) / 0.001);\n      Planets._drawPlanet(renderContext, 18, coronaOpacity);\n    }\n    for (const key in Planets._planetDrawOrder) {\n      // 0: Sun, 9: Moon, 19: Earth\n      var planetId = Planets._planetDrawOrder[key];\n      if (planetId <= 9) {\n        Planets._drawPlanet(renderContext, planetId, 1);\n      }\n    }\n    return true;\n}\n\nexport function renderOneFrame(showHorizon=true,\n                               showSky=true,\n                               showPlanetLabels=true) {\n  if (this.renderContext.get_backgroundImageset() != null) {\n    this.renderType = this.renderContext.get_backgroundImageset().get_dataSetType();\n  } else {\n    this.renderType = 2;\n  }\n\n  var sizeChange = false;\n  if (this.canvas.width !== this.canvas.parentNode.clientWidth) {\n    this.canvas.width = this.canvas.parentNode.clientWidth;\n    sizeChange = true;\n  }\n  if (this.canvas.height !== this.canvas.parentNode.clientHeight) {\n    this.canvas.height = this.canvas.parentNode.clientHeight;\n    sizeChange = true;\n  }\n  if (sizeChange && this.explorer != null) {\n    this.explorer.refresh();\n  }\n  if (this.canvas.width < 1 || this.canvas.height < 1) {\n    return;\n  }\n  if (sizeChange) {\n    this._crossHairs = null;\n  }\n  Tile.lastDeepestLevel = Tile.deepestLevel;\n  RenderTriangle.width = this.renderContext.width = this.canvas.width;\n  RenderTriangle.height = this.renderContext.height = this.canvas.height;\n  Tile.tilesInView = 0;\n  Tile.tilesTouched = 0;\n  Tile.deepestLevel = 0;\n  SpaceTimeController.set_metaNow(new Date());\n  if (this.get__mover() != null) {\n    SpaceTimeController.set_now(this.get__mover().get_currentDateTime());\n    Planets.updatePlanetLocations(this.get_solarSystemMode());\n    if (this.get__mover() != null) {\n      const newCam = this.get__mover().get_currentPosition();\n      this.renderContext.targetCamera = newCam.copy();\n      this.renderContext.viewCamera = newCam.copy();\n      if (this.renderContext.space && Settings.get_active().get_galacticMode()) {\n        const gPoint = Coordinates.j2000toGalactic(newCam.get_RA() * 15, newCam.get_dec());\n        this.renderContext.targetAlt = this.renderContext.alt = gPoint[1];\n        this.renderContext.targetAz = this.renderContext.az = gPoint[0];\n      }\n      else if (this.renderContext.space && Settings.get_active().get_localHorizonMode()) {\n        const currentAltAz = Coordinates.equitorialToHorizon(Coordinates.fromRaDec(newCam.get_RA(), newCam.get_dec()), SpaceTimeController.get_location(), SpaceTimeController.get_now());\n        this.renderContext.targetAlt = this.renderContext.alt = currentAltAz.get_alt();\n        this.renderContext.targetAz = this.renderContext.az = currentAltAz.get_az();\n      }\n      if (this.get__mover().get_complete()) {\n        WWTControl.scriptInterface._fireArrived(this.get__mover().get_currentPosition().get_RA(), this.get__mover().get_currentPosition().get_dec(), WWTControl.singleton.renderContext.viewCamera.zoom);\n        this.set__mover(null);\n        this._notifyMoveComplete();\n      }\n    }\n  }\n  else {\n    SpaceTimeController.updateClock();\n    Planets.updatePlanetLocations(this.get_solarSystemMode());\n    this._updateViewParameters();\n  }\n  this.renderContext.clear();\n\n  this.renderContext.setupMatricesSpace3d(this.renderContext.width, this.renderContext.height);\n  this.renderContext.drawImageSet(this.renderContext.get_backgroundImageset(), 100);\n  if (this.renderContext.get_foregroundImageset() != null) {\n    if (this.renderContext.get_foregroundImageset().get_dataSetType() !== this.renderContext.get_backgroundImageset().get_dataSetType()) {\n      this.renderContext.set_foregroundImageset(null);\n    }\n    else {\n      if (this.renderContext.viewCamera.opacity !== 100 && this.renderContext.gl == null) {\n        if (this._foregroundCanvas.width !== this.renderContext.width || this._foregroundCanvas.height !== this.renderContext.height) {\n          this._foregroundCanvas.width = this.renderContext.width;\n          this._foregroundCanvas.height = this.renderContext.height;\n        }\n        var saveDevice = this.renderContext.device;\n        this._fgDevice.clearRect(0, 0, this.renderContext.width, this.renderContext.height);\n        this.renderContext.device = this._fgDevice;\n        this.renderContext.drawImageSet(this.renderContext.get_foregroundImageset(), 100);\n        this.renderContext.device = saveDevice;\n        this.renderContext.device.save();\n        this.renderContext.device.globalAlpha = this.renderContext.viewCamera.opacity / 100;\n        this.renderContext.device.drawImage(this._foregroundCanvas, 0, 0);\n        this.renderContext.device.restore();\n      }\n      else {\n        this.renderContext.drawImageSet(this.renderContext.get_foregroundImageset(), this.renderContext.viewCamera.opacity);\n      }\n    }\n  }\n  if (this.uiController != null) {\n    this.uiController.render(this.renderContext);\n  }\n  else {\n    if (showSky) {\n      drawSky(this.renderContext, { opacity: 0.95, color: \"#4190ED\" });\n    }\n    Annotation.prepBatch(this.renderContext);\n    for (const item of this._annotations) {\n      item.draw(this.renderContext);\n    }\n    Annotation.drawBatch(this.renderContext);\n    if ((Date.now() - this._lastMouseMove) > 400) {\n      var raDecDown = this.getCoordinatesForScreenPoint(this._hoverTextPoint.x, this._hoverTextPoint.y);\n      this._annotationHover(raDecDown.x, raDecDown.y, this._hoverTextPoint.x, this._hoverTextPoint.y);\n      this._lastMouseMove = new Date(2100, 1, 1);\n    }\n    if (this._hoverText) {\n      this._drawHoverText(this.renderContext);\n    }\n  }\n\n  for (const imageset in this.renderContext.get_catalogHipsImagesets()) {\n    if (imageset.get_hipsProperties().get_catalogSpreadSheetLayer().enabled && imageset.get_hipsProperties().get_catalogSpreadSheetLayer().lastVersion === imageset.get_hipsProperties().get_catalogSpreadSheetLayer().get_version()) {\n      this.renderContext.drawImageSet(imageset, 100);\n    }\n  }\n  this.constellation = Constellations.containment.findConstellationForPoint(this.renderContext.viewCamera.get_RA(), this.renderContext.viewCamera.get_dec());\n  this._drawSkyOverlays();\n  Planets.drawPlanets(this.renderContext, 1);\n\n  if (showPlanetLabels) {\n    this._planetTextOverlays = makeTextOverlays(this.renderContext);\n    useCustomGlyphs(this._planetTextOverlays);\n    this._planetTextOverlays.viewTransform = Grids._altAzTextBatch?.viewTransform;\n    this._planetTextOverlays.draw(this.renderContext, 1, Color.fromArgb(255, 255, 255, 255));\n  }\n\n  if (showHorizon) {\n    drawHorizon(this.renderContext, { opacity: 0.95, color: \"#01362C\" });\n  }\n\n  const worldSave = this.renderContext.get_world();\n  const viewSave = this.renderContext.get_view();\n  const projSave = this.renderContext.get_projection();\n  if (Settings.get_current().get_showCrosshairs()) {\n    this._drawCrosshairs(this.renderContext);\n  }\n\n  const tilesAllLoaded = !TileCache.get_queueCount();\n  this.renderContext.setupMatricesOverlays();\n  this._fadeFrame();\n  this._frameCount++;\n  TileCache.decimateQueue();\n  TileCache.processQueue(this.renderContext);\n  Tile.currentRenderGeneration++;\n  if (!TourPlayer.get_playing()) {\n    this.set_crossFadeFrame(false);\n  }\n  this.renderContext.set_world(worldSave);\n  this.renderContext.set_view(viewSave);\n  this.renderContext.set_projection(projSave);\n  const now = Date.now();\n  const ms = now - this._lastUpdate;\n  if (ms > 1000) {\n    this._lastUpdate = now;\n    this._frameCount = 0;\n    RenderTriangle.trianglesRendered = 0;\n    RenderTriangle.trianglesCulled = 0;\n  }\n  if (this.capturingVideo) {\n    if ((this.dumpFrameParams != null) && (!this.dumpFrameParams.waitDownload || tilesAllLoaded)) {\n      this.captureFrameForVideo(this._videoBlobReady, this.dumpFrameParams.width, this.dumpFrameParams.height, this.dumpFrameParams.format);\n      SpaceTimeController.nextFrame();\n    }\n    if (SpaceTimeController.get_doneDumping()) {\n      SpaceTimeController.frameDumping = false;\n      SpaceTimeController.cancelFrameDump = false;\n      this.capturingVideo = false;\n    }\n  }\n}\n\nexport function drawEcliptic(renderContext: RenderContext, opacity: number, drawColor: Color, drawCircle: boolean = true) {\n    var col = drawColor;\n    var year = SpaceTimeController.get_now().getUTCFullYear();\n    if (Grids._eclipticOverviewLineList == null || year !== Grids._eclipticYear) {\n        if (Grids._eclipticOverviewLineList != null) {\n            Grids._eclipticOverviewLineList.clear();\n            Grids._eclipticOverviewLineList = null;\n        }\n        Grids._eclipticYear = year;\n        var obliquity = Coordinates.meanObliquityOfEcliptic(SpaceTimeController.get_jNow());\n        var mat = Matrix3d._rotationX((-obliquity / 360 * (Math.PI * 2)));\n        var daysPerYear = 365.25;\n        if (DT.isLeap(year, true)) {\n            Grids._monthDays[1] = 29;\n            daysPerYear = 366;\n        } else {\n            Grids._monthDays[1] = 28;\n            daysPerYear = 365;\n        }\n        var count = 2 * daysPerYear;\n        Grids._eclipticCount = daysPerYear;\n        var jYear = SpaceTimeController.utcToJulian(new Date(year, 0, 1, 12, 0, 0));\n        var index = 0;\n        var d = 0;\n        var dPrev = 0;\n        var dStart = 0;\n        Grids._eclipticOverviewLineList = new SimpleLineList();\n        Grids._eclipticOverviewLineList.set_depthBuffered(false);\n        for (var m = 0; m < 12; m++) {\n            var daysThisMonth = Grids._monthDays[m];\n            for (var i = 0; i < daysThisMonth; i++) {\n                var sunRaDec = Planets.getPlanetLocationJD('Sun', jYear);\n                var sunEcliptic = CT.eq2Ec(sunRaDec.RA, sunRaDec.dec, obliquity);\n                d = sunEcliptic.x;\n                if (i == 0 && m == 0) {\n                  dStart = d;\n                }\n                var width = 0.005;\n                if (!i) {\n                    width = 0.01;\n                }\n                var dd = d;\n                Grids._eclipticOverviewLineList.addLine(Vector3d._transformCoordinate(Vector3d.create(Math.cos((dd * Math.PI * 2) / 360), width, Math.sin((dd * Math.PI * 2) / 360)), mat), Vector3d._transformCoordinate(Vector3d.create(Math.cos((dd * Math.PI * 2) / 360), -width, Math.sin((dd * Math.PI * 2) / 360)), mat));\n                if (drawCircle && !(i == 0 && m == 0)) {\n                  Grids._eclipticOverviewLineList.addLine(Vector3d._transformCoordinate(Vector3d.create(Math.cos((dd * Math.PI * 2) / 360), 0, Math.sin((dd * Math.PI * 2) / 360)), mat), Vector3d._transformCoordinate(Vector3d.create(Math.cos((dPrev * Math.PI * 2) / 360), 0, Math.sin((dPrev * Math.PI * 2) / 360)), mat));\n                }\n                index++;\n                jYear += 1;\n                dPrev = d;\n            }\n            d += Grids._monthDays[m];\n        }\n        if (drawCircle) {\n          Grids._eclipticOverviewLineList.addLine(Vector3d._transformCoordinate(Vector3d.create(Math.cos((dStart * Math.PI * 2) / 360), 0, Math.sin((dStart * Math.PI * 2) / 360)), mat), Vector3d._transformCoordinate(Vector3d.create(Math.cos((dd * Math.PI * 2) / 360), 0, Math.sin((dd * Math.PI * 2) / 360)), mat));\n        }\n    }\n    Grids._eclipticOverviewLineList.drawLines(renderContext, opacity, drawColor);\n    return true;\n};\n\nexport function drawSkyOverlays() {\n    if (Settings.get_active().get_showConstellationPictures() && !this.freestandingMode) {\n        Constellations.drawArtwork(this.renderContext);\n    }\n    if (Settings.get_active().get_showConstellationFigures()) {\n        if (WWTControl.constellationsFigures == null) {\n            WWTControl.constellationsFigures = Constellations.create(\n                'Constellations',\n                URLHelpers.singleton.engineAssetUrl('figures.txt'),\n                false,  // \"boundry\"\n                false,  // \"noInterpollation\"\n                false,  // \"resource\"\n            );\n        }\n        WWTControl.constellationsFigures.draw(this.renderContext, false, 'UMA', false);\n    }\n    if (Settings.get_active().get_showEclipticGrid()) {\n        Grids.drawEclipticGrid(this.renderContext, 1, Settings.get_active().get_eclipticGridColor());\n        if (Settings.get_active().get_showEclipticGridText()) {\n            Grids.drawEclipticGridText(this.renderContext, 1, Settings.get_active().get_eclipticGridColor());\n        }\n    }\n    if (Settings.get_active().get_showGalacticGrid()) {\n        Grids.drawGalacticGrid(this.renderContext, 1, Settings.get_active().get_galacticGridColor());\n        if (Settings.get_active().get_showGalacticGridText()) {\n            Grids.drawGalacticGridText(this.renderContext, 1, Settings.get_active().get_galacticGridColor());\n        }\n    }\n    if (Settings.get_active().get_showAltAzGrid()) {\n        Grids.drawAltAzGrid(this.renderContext, 1, Settings.get_active().get_altAzGridColor());\n    }\n    if (Settings.get_active().get_showAltAzGridText()) {\n        Grids.drawAltAzGridText(this.renderContext, 1, Settings.get_active().get_altAzGridColor());\n    }\n    if (Settings.get_active().get_showPrecessionChart()) {\n        Grids.drawPrecessionChart(this.renderContext, 1, Settings.get_active().get_precessionChartColor());\n    }\n    if (Settings.get_active().get_showEcliptic()) {\n        Grids.drawEcliptic(this.renderContext, 1, Settings.get_active().get_eclipticColor());\n        if (Settings.get_active().get_showEclipticOverviewText()) {\n            Grids.drawEclipticText(this.renderContext, 1, Settings.get_active().get_eclipticColor());\n        }\n    }\n    if (Settings.get_active().get_showGrid()) {\n        Grids.drawEquitorialGrid(this.renderContext, 1, Settings.get_active().get_equatorialGridColor());\n        if (Settings.get_active().get_showEquatorialGridText()) {\n            Grids.drawEquitorialGridText(this.renderContext, 1, Settings.get_active().get_equatorialGridColor());\n        }\n    }\n    if (Settings.get_active().get_showConstellationBoundries()) {\n        if (WWTControl.constellationsBoundries == null) {\n            WWTControl.constellationsBoundries = Constellations.create(\n                'Constellations',\n                URLHelpers.singleton.engineAssetUrl('constellations.txt'),\n                true,   // \"boundry\"\n                false,  // \"noInterpollation\"\n                false,  // \"resource\"\n            );\n        }\n        WWTControl.constellationsBoundries.draw(this.renderContext, Settings.get_active().get_showConstellationSelection(), this.constellation, false);\n    }\n    if (Settings.get_active().get_showConstellationLabels()) {\n        Constellations.drawConstellationNames(this.renderContext, 1, Colors.get_yellow());\n    }\n}\n","import { Ref, ref, computed } from \"vue\";\nimport { Classification, SolarSystemObjects } from \"@wwtelescope/engine-types\";\nimport { Place} from \"@wwtelescope/engine\";\nimport { AltAzRad, EquatorialRad, LocationDeg, LocationRad } from \"./types\";\nimport { equatorialToHorizontal } from \"./utils\";\nimport { D2R } from \"@cosmicds/vue-toolkit\";\nimport { engineStore } from \"@wwtelescope/engine-pinia\";\ntype WWTEngineStore = ReturnType<typeof engineStore>;\n\n\nconst SECONDS_PER_DAY = 60 * 60 * 24;\nconst MILLISECONDS_PER_DAY = 1000 * SECONDS_PER_DAY;\n\nconst secondsInterval = 40;\nconst MILLISECONDS_PER_INTERVAL = 1000 * secondsInterval;\n\nexport function useSun(store: WWTEngineStore, location: Ref<LocationDeg>, _selectedTime: Ref<number> | number, _selectedTimezoneOffset: Ref<number> | number) {\n  \n  store.waitForReady().then(async ()=>{\n    // setup any watchers here\n  });\n  \n  const selectedTime = ref(_selectedTime);\n  const selectedTimezoneOffset = ref(_selectedTimezoneOffset);\n  \n  const locationRad = computed<LocationRad>(() => {\n    return {\n      latitudeRad: location.value.latitudeDeg * D2R,\n      longitudeRad: location.value.longitudeDeg * D2R,\n    };\n  });\n\n  const sunPlace = new Place();\n  sunPlace.set_names([\"Sun\"]);\n  sunPlace.set_classification(Classification.solarSystem);\n  sunPlace.set_target(SolarSystemObjects.sun);\n  sunPlace.set_zoomLevel(20);\n  \n  const sunPosition = computed<EquatorialRad>(() =>{\n    return {\n      raRad: sunPlace.get_RA() * 15 * D2R,\n      decRad: sunPlace.get_dec() * D2R,\n    } as EquatorialRad;\n  });\n\n  function getSunPositionAtTime(time: Date): AltAzRad {\n    const sunAltAz = equatorialToHorizontal(sunPosition.value.raRad, sunPosition.value.decRad, locationRad.value.latitudeRad, locationRad.value.longitudeRad, time);\n    return sunAltAz;\n  }\n\n  // function that finds at what time the sun will reach a given altitude during the current day to within 15 minutes\n  function getTimeforSunAlt(altDeg: number): { rising: number | null; setting: number | null; } {\n    // takes about 45ms to run\n    // search for time when sun is at given altitude\n    // start at 12:00am and search every MINUTES_PER_INTERVAL\n    const minTime = selectedTime.value - (selectedTime.value % MILLISECONDS_PER_DAY) - selectedTimezoneOffset.value + MILLISECONDS_PER_DAY * 0.5;\n    const maxTime = minTime + MILLISECONDS_PER_DAY * 0.5;\n    // const ehr = eclipticHorizonAngle(location.latitudeRad, dateTime);\n    let time = minTime;\n    let sunAlt = getSunPositionAtTime(new Date(time)).altRad; // negative\n    // find the two times it crosses the given altitude\n    while ((sunAlt < altDeg * D2R) && (time < maxTime)) {\n      time += MILLISECONDS_PER_INTERVAL;\n      sunAlt = getSunPositionAtTime(new Date(time)).altRad;\n    }\n    const rising = time == maxTime ? null : time;\n    while ((sunAlt > altDeg * D2R) && (time < maxTime)) {\n      time += MILLISECONDS_PER_INTERVAL;\n      sunAlt = getSunPositionAtTime(new Date(time)).altRad;\n    }\n    const setting = time == maxTime ? null : time;\n\n    return {\n      'rising': (rising !== null && setting !== null) ? Math.min(rising, setting) : rising,\n      'setting': (rising !== null && setting !== null) ? Math.max(rising, setting) : setting\n    };\n  }\n  \n  \n  return { getTimeforSunAlt, getSunPositionAtTime, sunPlace, sunPosition };\n}\n","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, withKeys as _withKeys, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, unref as _unref, vShow as _vShow, withDirectives as _withDirectives, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, Transition as _Transition, normalizeClass as _normalizeClass, toDisplayString as _toDisplayString, createBlock as _createBlock, mergeProps as _mergeProps, normalizeStyle as _normalizeStyle, resolveDirective as _resolveDirective } from \"vue\"\n\nconst _hoisted_1 = { id: \"main-content\" }\nconst _hoisted_2 = {\n  key: 0,\n  id: \"introduction-overlay\"\n}\nconst _hoisted_3 = { id: \"intro-window-close-button\" }\nconst _hoisted_4 = { class: \"intro-text\" }\nconst _hoisted_5 = { style: {\"color\":\"#f4ba3e\"} }\nconst _hoisted_6 = { style: {\"color\":\"#f4ba3e\"} }\nconst _hoisted_7 = {\n  class: \"modal\",\n  id: \"modal-loading\"\n}\nconst _hoisted_8 = { id: \"top-content\" }\nconst _hoisted_9 = { id: \"left-buttons\" }\nconst _hoisted_10 = { id: \"center-buttons\" }\nconst _hoisted_11 = { id: \"geolocation-close\" }\nconst _hoisted_12 = { id: \"geolocation-controls\" }\nconst _hoisted_13 = { id: \"right-buttons\" }\nconst _hoisted_14 = {\n  id: \"controls\",\n  class: \"collapsable-control control-icon-wrapper\"\n}\nconst _hoisted_15 = { class: \"controls-top-row\" }\nconst _hoisted_16 = {\n  key: 0,\n  id: \"control-checkboxes\"\n}\nconst _hoisted_17 = {\n  id: \"planet-visibility-box\",\n  class: \"collapsable-control control-icon-wrapper\"\n}\nconst _hoisted_18 = { class: \"controls-top-row planet-visibility\" }\nconst _hoisted_19 = {\n  key: 0,\n  id: \"planet-visibility-label\"\n}\nconst _hoisted_20 = { id: \"bottom-content\" }\nconst _hoisted_21 = { id: \"date-picker\" }\nconst _hoisted_22 = { id: \"change-flags\" }\nconst _hoisted_23 = {\n  key: 0,\n  id: \"body-logos\"\n}\nconst _hoisted_24 = { class: \"video-wrapper\" }\n\nimport { ref, reactive, computed, markRaw, onMounted, nextTick, watch } from \"vue\";\nimport { Color, Grids, Planets, Settings, WWTControl, AstroCalc } from \"@wwtelescope/engine\";\nimport { SolarSystemObjects } from \"@wwtelescope/engine-types\";\nimport { engineStore } from \"@wwtelescope/engine-pinia\";\nimport { BackgroundImageset, LocationDeg, skyBackgroundImagesets, supportsTouchscreen, blurActiveElement, useWWTKeyboardControls, API_BASE_URL, D2R } from \"@cosmicds/vue-toolkit\";\nimport { useDisplay } from \"vuetify\";\nimport { v4 } from \"uuid\";\n\nimport { useTimezone } from \"./timezones\";\nimport { horizontalToEquatorial, skyOpacityForSunAlt, getJulian, equatorialToHorizontal, type UserExperienceRating } from \"./utils\";\nimport { resetAltAzGridText, makeAltAzGridText, drawPlanets, renderOneFrame, drawEcliptic, drawSkyOverlays } from \"./wwt-hacks\";\nimport { MapBoxFeature, MapBoxFeatureCollection, geocodingInfoForSearch, textForLocation } from \"@cosmicds/vue-toolkit/src/mapbox\";\n// import { useGeolocation } from \"@cosmicds/vue-toolkit\";\nimport { useSun } from './useSun';\n\nconst UUID_KEY = \"eclipse-mini-uuid\" as const;\nconst OPT_OUT_KEY = \"eclipse-mini-optout\" as const;\nconst SKIP_INTRO_CONTENT_KEY = \"skip-intro-content\" as const;\ntype SheetType = \"text\" | \"video\";\nexport interface PlanetParadeProps {\n  wwtNamespace?: string;\n}\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'PlanetParade',\n  props: {\n    wwtNamespace: { default: \"planet-parade\" }\n  },\n  setup(__props: any) {\n\nconst STORY_DATA_URL = `${API_BASE_URL}/planet-parade/data`;\nconst STORY_RATING_URL = `${API_BASE_URL}/stories/user-experience/planet-parade`;\n\nconst maybeUUID = window.localStorage.getItem(UUID_KEY);\nconst storedOptOut = window.localStorage.getItem(OPT_OUT_KEY);\nconst skipIntroContent = window.localStorage.getItem(SKIP_INTRO_CONTENT_KEY)?.toLowerCase() === \"true\";\nconst existingUser = maybeUUID !== null;\nconst uuid = maybeUUID ?? v4();\nconst question = Math.random() > 0.5 ? \n  \"Is this interesting?\" :\n  \"Are you learning something new?\";\nconst currentRating = ref<UserExperienceRating | null>(null);\nconst currentComments = ref<string | null>(null);\nif (!existingUser) {\n  window.localStorage.setItem(UUID_KEY, uuid);\n}\nlet infoTimeMs = 0;\nlet videoPlayingTimeMs = 0;\nlet videoPlaying = false;\nlet videoOpened = false;\nlet videoPlayed = false;\nlet appStartTimestamp = Date.now();\nlet infoStartTimestamp = null as number | null;\nlet videoPlayingStartTimestamp = null as number | null;\n\nlet userSelectedSearchLocations: [number, number][] = [];\nlet userSelectedMapLocations: [number, number][] = [];\n\nconst store = engineStore();\n\nuseWWTKeyboardControls(store);\n\nconst touchscreen = supportsTouchscreen();\nconst { smAndDown, smAndUp, xs } = useDisplay();\n\nconst _props = __props;\n\nconst queryHideSplash = new URLSearchParams(window.location.search).get(\"splash\")?.toLowerCase() === \"false\";\nconst splash = !(queryHideSplash || skipIntroContent);\nconst showSplashScreen = ref(splash);\nconst backgroundImagesets = reactive<BackgroundImageset[]>([]);\nconst sheet = ref<SheetType | null>(null);\nconst layersLoaded = ref(false);\nconst positionSet = ref(false);\nconst accentColor = ref(\"#f4ba3e\");\nconst accentColor2 = ref(\"#6793ff\");\nconst buttonColor = ref(\"#f4ba3e\");\nconst tab = ref(0);\nconst showHorizon = ref(true);\nconst showAltAzGrid = ref(true);\nconst showEcliptic = ref(true);\nconst showLocationSelector = ref(false);\nconst playing = ref(false);\nconst showControls = ref(smAndUp.value);\nconst showConstellations = ref(false);\nconst showPlanetLabels = ref(true);\nconst inIntro = ref(false);\nconst showPrivacyDialog = ref(false);\nconst datePickerOpen = ref(false);\nconst skipIntroChecked = ref(skipIntroContent);\nconst showPlanetVisiblity = ref(true);\n\nconst wwtStats = markRaw({\n  timeResetCount: 0,\n  reverseCount: 0,\n  playPauseCount: 0,\n  speedups: [] as number[],\n  slowdowns: [] as number[],\n  rateSelections: [] as number[],\n  startTime: Date.now(),\n});\n\nconst optOut = typeof storedOptOut === \"string\" ? storedOptOut === \"true\" : null;\nconst responseOptOut = ref(optOut);\n\nconst showRating = ref(false);\n\nconst geocodingOptions = {\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  access_token: process.env.VUE_APP_MAPBOX_ACCESS_TOKEN ?? \"\", \n};\n\nconst selectedLocation = ref<LocationDeg>({\n  longitudeDeg: -71.1056,\n  latitudeDeg: 42.3581,\n});\nconst selectedLocationText = ref(\"\");\nupdateSelectedLocationText();\n\n// const { geolocation, geolocate} = useGeolocation();\n// function useGeolocated() {\n//   if (!geolocation.value) {return;}\n//   selectedLocation.value = { latitudeDeg: geolocation.value.latitude, longitudeDeg: geolocation.value.longitude };\n// }\n// watch(\n//   geolocation,\n//   (location) => {\n//     if (location) {\n//       selectedLocation.value = { latitudeDeg: location?.latitude, longitudeDeg: location?.longitude };\n//     }\n//   }\n// );\n\nconst searchErrorMessage = ref<string | null>(null);\nconst { selectedTimezoneOffset, shortTimezone, browserTimezoneOffset } = useTimezone(selectedLocation);\n\nconst selectedTime = ref(Date.now());\n\nconst { getTimeforSunAlt, getSunPositionAtTime } = useSun(store, selectedLocation, selectedTime, selectedTimezoneOffset);\n// faking localization because\n// <date-time-picker> and <time-display> are not timezone aware\nconst localSelectedDate = computed({\n  // if you console log this date it will still say the local timezone \n  // as determined by the browser Intl.DateTimeFormat().resolvedOptions().timeZone\n  // but we have manually offset it so the hours are correct for the selected timezone\n  get: () => {\n    const time = selectedTime.value;\n    const fakeUTC = time + browserTimezoneOffset;\n    return new Date(fakeUTC + selectedTimezoneOffset.value);\n  },\n  set: (value: Date) => {\n    // get local time\n    const time = value.getTime();\n    // undo fake localization\n    const newTime = time - selectedTimezoneOffset.value - browserTimezoneOffset;\n    selectedTime.value = new Date(newTime).getTime();\n  }\n});\n\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nconst wwtSettings: Settings = Settings.get_active();\n\nfunction doWWTModifications() {\n\n  Grids._makeAltAzGridText = makeAltAzGridText;\n  Grids.drawEcliptic = drawEcliptic;\n\n  // We need to render one frame ahead of time\n  // as there's a lot of setup done on the first frame\n  // render that we need to use\n  WWTControl.singleton.renderOneFrame();\n\n  const boundRenderOneFrame = renderOneFrame.bind(WWTControl.singleton);\n  const newFrameRender = function() { \n    boundRenderOneFrame(\n      showHorizon.value,\n      showHorizon.value,\n      showPlanetLabels.value,\n    );\n  };\n\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  WWTControl.singleton._drawSkyOverlays = drawSkyOverlays.bind(WWTControl.singleton);\n\n  // as well as our custom text overlays\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  WWTControl.singleton.renderOneFrame = newFrameRender;\n\n  const originalUpdatePlanetLocations = Planets.updatePlanetLocations;\n  const planetScales = [\n    8,  // Sun\n    1.25,  // Mercury\n    1.25,  // Venus\n    1.25,  // Mars\n    2.5,  // Jupiter\n    4.5,  // Saturn\n    2,  // Uranus\n    2,  // Neptune\n    1,  // Pluto\n    1.25,  // Moon\n  ];\n  function newUpdatePlanetLocations(threeD: boolean) {\n    originalUpdatePlanetLocations(threeD);\n    for (let i = 0; i <= SolarSystemObjects.moon; i++) {\n      Planets._planetScales[i] = planetScales[i];\n    }\n  }\n  Planets.updatePlanetLocations = newUpdatePlanetLocations;\n  Planets.drawPlanets = drawPlanets;\n\n  // Recall that zoom = 6 * FOV, in WWT\n  const maxFOV = 90;\n  WWTControl.singleton.set_zoomMax(maxFOV * 6);\n\n}\n\n\nfunction planetIsVisible(planetName, date: Date, location: LocationDeg) {\n  // Get planet position\n  const planetPos = AstroCalc.getPlanet(getJulian(date), planetName, location.latitudeDeg * D2R, location.longitudeDeg * D2R, 0);\n  // Convert to horizontal\n  const altAz = equatorialToHorizontal(planetPos.RA * 15 * D2R, planetPos.dec * D2R, location.latitudeDeg * D2R, location.longitudeDeg * D2R, date);\n  // Check if planet is above minimum altitude\n  return altAz.altRad > 0;\n}\n\nconst sunVis = computed(() => planetIsVisible(SolarSystemObjects.sun, dateTime.value, selectedLocation.value));\nconst mercuryVis = computed(() => planetIsVisible(SolarSystemObjects.mercury, dateTime.value, selectedLocation.value));\nconst venusVis = computed(() => planetIsVisible(SolarSystemObjects.venus, dateTime.value, selectedLocation.value));\nconst marsVis = computed(() => planetIsVisible(SolarSystemObjects.mars, dateTime.value, selectedLocation.value));\nconst jupiterVis = computed(() => planetIsVisible(SolarSystemObjects.jupiter, dateTime.value, selectedLocation.value));\nconst saturnVis = computed(() => planetIsVisible(SolarSystemObjects.saturn, dateTime.value, selectedLocation.value));\nconst uranusVis = computed(() => planetIsVisible(SolarSystemObjects.uranus, dateTime.value, selectedLocation.value));\nconst neptuneVis = computed(() => planetIsVisible(SolarSystemObjects.neptune, dateTime.value, selectedLocation.value));\n\nonMounted(() => {\n  store.waitForReady().then(async () => {\n    skyBackgroundImagesets.forEach(iset => backgroundImagesets.push(iset));\n\n    // If there are layers to set up, do that here!\n    layersLoaded.value = true;\n\n    const altTime = getTimeforSunAlt(2).setting;\n    if (altTime) {\n      selectedTime.value = altTime;\n    }\n    wwtStats.startTime = selectedTime.value;\n    setTimeout(() => resetCamera().then(() => positionSet.value = true), 300);\n\n    store.applySetting([\"localHorizonMode\", true]);\n    store.applySetting([\"altAzGridColor\", Color.fromArgb(180, 133, 201, 254)]);\n    store.applySetting([\"eclipticColor\", Color.fromArgb(255, 255, 0, 255)]);\n    store.applySetting([\"actualPlanetScale\", false]);\n    updateAltAzGrid(showAltAzGrid.value);\n    updateAltAzGridText(showAltAzGrid.value || showHorizon.value);\n    updateEcliptic(showEcliptic.value);\n    updateConstellations(showConstellations.value);\n    updateWWTLocation(selectedLocation.value);\n    store.setClockSync(false);\n    store.setClockRate(1800);\n\n    doWWTModifications();\n    // geolocate().then(() => {\n    //   console.log('got location');\n    //   useGeolocated(); \n    //   selectedTime.value = todayAt4pm.value;\n    //   resetCamera();\n    // });\n    \n    createUserEntry();\n    ratingDisplaySetup();\n\n    setInterval(() => {\n      if (playing.value) {\n        const time = store.currentTime;\n        selectedTime.value = time.getTime();\n      }\n      const sunPosition = getSunPositionAtTime(store.currentTime);\n      updateEclipticColor(sunPosition.altRad);\n    }, 500);\n\n    window.addEventListener(\"keyup\", (event: KeyboardEvent) => {\n      if ([\"Esc\", \"Escape\"].includes(event.key) && showVideoSheet.value) {\n        showVideoSheet.value = false;\n      }\n    });\n\n    window.addEventListener(\"visibilitychange\", () => {\n      if (document.visibilityState === \"hidden\") {\n        updateUserData();\n      } else {\n        resetData();\n      }\n    });\n  });\n});\n\nconst ready = computed(() => layersLoaded.value && positionSet.value);\n\n/* `isLoading` is a bit redundant here, but it could potentially have independent logic */\nconst isLoading = computed(() => !ready.value);\n\n// It doesn't really matter which one we note here\nconst inNorthernHemisphere = computed(() => selectedLocation.value.latitudeDeg > 0);\n\nconst dateTime = computed(() => new Date(selectedTime.value));\n\n/* Properties related to device/screen characteristics */\nconst smallSize = computed(() => smAndDown.value);\n\nconst mobile = computed(() => smallSize.value && touchscreen);\n\nconst xSmallSize = computed(() => xs.value);\n\n/* This lets us inject component data into element CSS */\nconst cssVars = computed(() => {\n  return {\n    \"--accent-color\": accentColor.value,\n    \"--accent-color2\": accentColor2.value,\n    \"--app-content-height\": showTextSheet.value ? \"66%\" : \"100%\",\n    // \"--rating-width\": smallSize.value ? \"40%\" : \"40%\",\n  };\n});\n\n\n/**\n  Computed flags that control whether the relevant dialogs display.\n  The `sheet` data member stores which sheet is open, so these are just\n  computed wrappers around modifying/querying that which can be used as\n  dialog v-model values\n*/\nconst showTextSheet = computed({\n  get() {\n    return sheet.value === \"text\";\n  },\n  set(_value: boolean) {\n    selectSheet(\"text\");\n  }\n});\n\nconst showVideoSheet = computed({\n  get() {\n    return sheet.value === \"video\";\n  },\n  set(value: boolean) {\n    selectSheet(\"video\");\n    if (!value) {\n      const video = document.querySelector(\"#info-video\") as HTMLVideoElement;\n      video.pause();\n    } else {\n      nextTick(() => {\n        const video = document.querySelector(\"#info-video\") as HTMLVideoElement;\n        video.addEventListener(\"play\", (_event: Event) => {\n          videoPlaying = true;\n          videoPlayingStartTimestamp = Date.now();\n          videoPlayed = true;\n        });\n\n        video.addEventListener(\"pause\", (_event: Event) => {\n          videoPlaying = false;\n          const now = Date.now();\n          if (videoPlayingStartTimestamp !== null) {\n            videoPlayingTimeMs += (now - videoPlayingStartTimestamp);\n            videoPlayingStartTimestamp = null;\n          }\n        });\n      });\n    }\n  }\n});\n\n/**\n  This is convenient if there's any other logic that we want to run\n  when the splash screen is closed\n*/\nfunction closeSplashScreen() {\n  showSplashScreen.value = false;\n}\n\nfunction selectSheet(sheetType: SheetType | null) {\n  if (sheet.value === sheetType) {\n    sheet.value = null;\n    nextTick(() => {\n      blurActiveElement();\n    });\n  } else {\n    sheet.value = sheetType;\n  }\n}\n\nfunction getTextForLocation(longitudeDeg: number, latitudeDeg: number): Promise<string> {\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  return textForLocation(longitudeDeg, latitudeDeg, geocodingOptions);\n}\n\nfunction setLocationFromFeature(feature: MapBoxFeature) {\n  selectedLocation.value = { longitudeDeg: feature.center[0], latitudeDeg: feature.center[1] };\n  getTextForLocation(feature.center[0], feature.center[1]).then(text => {\n    selectedLocationText.value = text;\n  }).catch(_err => {\n    searchErrorMessage.value = \"An error occurred while searching\";\n  });\n}\n\nfunction setLocationFromSearchFeature(feature: MapBoxFeature) {\n  setLocationFromFeature(feature);\n  userSelectedSearchLocations.push(feature.center);\n}\n\nasync function updateSelectedLocationText() {\n  selectedLocationText.value = await getTextForLocation(selectedLocation.value.longitudeDeg, selectedLocation.value.latitudeDeg);\n}\n\nfunction searchProvider(text: string): Promise<MapBoxFeatureCollection> {\n  return geocodingInfoForSearch(text, geocodingOptions);\n}\n\nfunction updateLocationFromMap(location: LocationDeg) {\n  selectedLocation.value = location;\n  userSelectedMapLocations.push([location.latitudeDeg, location.longitudeDeg]);\n}\n\nasync function ratingDisplaySetup() {\n  if (responseOptOut.value) {\n    return;\n  }\n\n  const existsResponse = await fetch(`${STORY_RATING_URL}/${uuid}`, {\n    method: \"GET\",\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    headers: { \"Authorization\": process.env.VUE_APP_CDS_API_KEY ?? \"\" }\n  });\n\n  // NB: If we want to ask multiple questions, this logic can be adjusted\n  const existsContent = await existsResponse.json();\n  const exists = existsResponse.status === 200 && existsContent.ratings?.length > 0;\n\n  if (exists) {\n    return;\n  }\n\n  setTimeout(() => {\n    showRating.value = true; \n  }, 40_000);\n}\n\nfunction updateUserExperienceInfo(rating: UserExperienceRating | null, comments: string | null) {\n  const body: Record<string, unknown> = {\n    uuid,\n    question,\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    story_name: \"planet-parade\",\n  };\n  if (rating) {\n    body.rating = rating;\n  }\n  if (comments) {\n    body.comments = comments;\n  }\n  fetch(STORY_RATING_URL, {\n    method: \"PUT\",\n    headers: {\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      \"Authorization\": process.env.VUE_APP_CDS_API_KEY ?? \"\",\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(body),\n  });\n}\n\nasync function createUserEntry() {\n  if (responseOptOut.value) {\n    return;\n  }\n\n  const response = await fetch(`${STORY_DATA_URL}/${uuid}`, {\n    method: \"GET\",\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    headers: { \"Authorization\": process.env.VUE_APP_CDS_API_KEY ?? \"\" },\n  });\n  const content = await response.json();\n  const exists = response.status === 200 && content.response?.user_uuid != undefined;\n  if (exists) {\n    return;\n  }\n\n  fetch(`${STORY_DATA_URL}`, {\n    method: \"PUT\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      \"Authorization\": process.env.VUE_APP_CDS_API_KEY ?? \"\",\n    },\n    body: JSON.stringify({\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      user_uuid: uuid,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      user_selected_search_locations: userSelectedSearchLocations,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      user_selected_map_locations: userSelectedMapLocations,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      app_time_ms: 0, info_time_ms: 0, video_time_ms: 0,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      video_opened: videoOpened, video_played: videoPlayed,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      wwt_time_reset_count: wwtStats.timeResetCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      wwt_reverse_count: wwtStats.reverseCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      wwt_play_pause_count: wwtStats.playPauseCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      wwt_speedups: wwtStats.speedups,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      wwt_slowdowns: wwtStats.slowdowns,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      wwt_rate_selections: wwtStats.rateSelections,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      wwt_start_stop_times: [wwtStats.startTime, selectedTime.value],\n    }),\n  });\n}\n\nfunction resetData() {\n  userSelectedMapLocations = [];\n  userSelectedSearchLocations = [];\n  infoTimeMs = 0;\n  videoPlayingTimeMs = 0;\n  const now = Date.now();\n  appStartTimestamp = now;\n  infoStartTimestamp = showTextSheet.value ? now : null;\n  videoPlayingStartTimestamp = videoPlaying ? now : null;\n  Object.assign(wwtStats, {\n    timeResetCount: 0,\n    reverseCount: 0,\n    playPauseCount: 0,\n    speedups: [],\n    slowdowns: [],\n    rateSelections: [],\n    startTime: selectedTime.value,\n  });\n}\n\nasync function updateUserData() {\n  if (responseOptOut.value) {\n    return;\n  }\n\n  const now = Date.now();\n  const infoTime = (showTextSheet.value && infoStartTimestamp !== null) ? now - infoStartTimestamp : infoTimeMs;\n  const videoTime = (videoPlaying && videoPlayingStartTimestamp !== null) ? now - videoPlayingStartTimestamp : videoPlayingTimeMs;\n\n  fetch(`${STORY_DATA_URL}/${uuid}`, {\n    method: \"PATCH\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      \"Authorization\": process.env.VUE_APP_CDS_API_KEY ?? \"\",\n    },\n    body: JSON.stringify({\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      user_selected_search_locations: userSelectedSearchLocations,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      user_selected_map_locations: userSelectedMapLocations,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_app_time_ms: now - appStartTimestamp,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_info_time_ms: infoTime,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_video_time_ms: videoTime,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      video_opened: videoOpened, video_played: videoPlayed,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_wwt_time_reset_count: wwtStats.timeResetCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_wwt_reverse_count: wwtStats.reverseCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_wwt_play_pause_count: wwtStats.playPauseCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      wwt_speedups: wwtStats.speedups,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      wwt_slowdowns: wwtStats.slowdowns,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      wwt_rate_selections: wwtStats.rateSelections,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      wwt_start_stop_times: [wwtStats.startTime, selectedTime.value],\n    }),\n    keepalive: true,\n  }).then(() => {\n    resetData();\n  });\n}\n\nasync function resetCamera(): Promise<void> {\n  const time = store.currentTime;\n\n  const latRad = selectedLocation.value.latitudeDeg * D2R;\n  const lonRad = selectedLocation.value.longitudeDeg * D2R;\n\n  const sunAltAz = getSunPositionAtTime(time);\n  const sunAz = sunAltAz.azRad;\n  const startAlt = smallSize.value ? 15 * D2R : 20 * D2R;\n  const startRADec = horizontalToEquatorial(\n    startAlt,\n    sunAz,\n    latRad,\n    lonRad,\n    time,\n  );\n\n  return store.gotoRADecZoom({\n    raRad: startRADec.raRad,\n    decRad: startRADec.decRad,\n    zoomDeg: 360,\n    instant: true,\n  });\n  \n}\n\nfunction updateWWTLocation(location: LocationDeg) {\n  wwtSettings.set_locationLat(location.latitudeDeg);\n  wwtSettings.set_locationLng(location.longitudeDeg);\n}\n\nfunction updateAltAzGrid(show: boolean) {\n  store.applySetting([\"showAltAzGrid\", show]);\n}\n\nfunction updateAltAzGridText(show: boolean) {\n  store.applySetting([\"showAltAzGridText\", show]);\n}\n\nfunction updateEcliptic(show: boolean) {\n  store.applySetting([\"showEcliptic\", show]);\n  // store.applySetting([\"showEclipticOverviewText\", show]);\n}\n\nfunction updateEclipticColor(sunAlt: number) {\n  const opacity = skyOpacityForSunAlt(sunAlt);\n  const component = 255 - opacity * (255 - 119);\n  const color = Color.fromArgb(255, component, 0, component);\n  store.applySetting([\"eclipticColor\", color]);\n}\n\nfunction updateConstellations(show: boolean) {\n  store.applySetting([\"showConstellationFigures\", show]);\n  store.applySetting([\"showConstellationLabels\", show]);\n}\n\nwatch(selectedLocation, (location: LocationDeg) => {\n  console.log('selectedLocation changed', location);\n  updateSelectedLocationText();\n  updateWWTLocation(location);\n  resetCamera();\n  WWTControl.singleton.renderOneFrame();\n});\n\n// watch(selectedTime, (value: number) => {\n//   console.log(value);});\nwatch(playing, (play: boolean) => {\n  store.setClockSync(play);\n});\n\nwatch(showAltAzGrid, (show: boolean) => {\n  updateAltAzGrid(show);\n  updateAltAzGridText(show || showHorizon.value);\n});\nwatch(showEcliptic, updateEcliptic);\nwatch(showConstellations, updateConstellations);\nwatch(showHorizon, (show: boolean) => {\n  updateAltAzGridText(show || showAltAzGrid.value);\n});\n\nwatch(dateTime, (dt: Date) => {\n  store.setTime(dt);\n});\n\nwatch(skipIntroChecked, (checked: boolean) => {\n  window.localStorage.setItem(SKIP_INTRO_CONTENT_KEY, String(checked));\n});\n\nwatch(showTextSheet, (show: boolean) => {\n  const now = Date.now();\n  if (show) {\n    infoStartTimestamp = now; \n  } else if (infoStartTimestamp !== null) {\n    infoTimeMs += (now - infoStartTimestamp);\n    infoStartTimestamp = null;\n  }\n});\n\nwatch(showVideoSheet, (show: boolean) => {\n  if (show) {\n    videoOpened = true;\n  }\n});\n\nwatch(inNorthernHemisphere, (_inNorth: boolean) => resetAltAzGridText());\n\nwatch(showSplashScreen, (show: boolean) => {\n  if (!show) {\n    inIntro.value = true;\n  }\n});\n\nwatch(inIntro, (intro: boolean) => {\n  if (!intro) {\n    if (!showSplashScreen.value && responseOptOut.value === null) {\n      showPrivacyDialog.value = true;\n    }\n  }\n});\n\nwatch(responseOptOut, (optOut: boolean | null) => {\n  if (optOut !== null) {\n    window.localStorage.setItem(OPT_OUT_KEY, String(optOut));\n  }\n});\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_WorldWideTelescope = _resolveComponent(\"WorldWideTelescope\")!\n  const _component_splash_screen = _resolveComponent(\"splash-screen\")!\n  const _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\")!\n  const _component_v_checkbox = _resolveComponent(\"v-checkbox\")!\n  const _component_v_card = _resolveComponent(\"v-card\")!\n  const _component_v_dialog = _resolveComponent(\"v-dialog\")!\n  const _component_icon_button = _resolveComponent(\"icon-button\")!\n  const _component_geolocation_button = _resolveComponent(\"geolocation-button\")!\n  const _component_location_search = _resolveComponent(\"location-search\")!\n  const _component_location_selector = _resolveComponent(\"location-selector\")!\n  const _component_v_icon = _resolveComponent(\"v-icon\")!\n  const _component_time_display = _resolveComponent(\"time-display\")!\n  const _component_date_time_picker = _resolveComponent(\"date-time-picker\")!\n  const _component_v_overlay = _resolveComponent(\"v-overlay\")!\n  const _component_speed_control = _resolveComponent(\"speed-control\")!\n  const _component_credit_logos = _resolveComponent(\"credit-logos\")!\n  const _component_v_card_text = _resolveComponent(\"v-card-text\")!\n  const _component_v_spacer = _resolveComponent(\"v-spacer\")!\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n  const _component_v_card_actions = _resolveComponent(\"v-card-actions\")!\n  const _component_v_tab = _resolveComponent(\"v-tab\")!\n  const _component_v_tabs = _resolveComponent(\"v-tabs\")!\n  const _component_v_window_item = _resolveComponent(\"v-window-item\")!\n  const _component_v_chip = _resolveComponent(\"v-chip\")!\n  const _component_v_col = _resolveComponent(\"v-col\")!\n  const _component_v_row = _resolveComponent(\"v-row\")!\n  const _component_funding_acknowledgement = _resolveComponent(\"funding-acknowledgement\")!\n  const _component_v_container = _resolveComponent(\"v-container\")!\n  const _component_v_window = _resolveComponent(\"v-window\")!\n  const _component_user_experience = _resolveComponent(\"user-experience\")!\n  const _component_v_expand_transition = _resolveComponent(\"v-expand-transition\")!\n  const _component_v_app = _resolveComponent(\"v-app\")!\n  const _directive_hide = _resolveDirective(\"hide\")!\n\n  return (_openBlock(), _createBlock(_component_v_app, {\n    id: \"app\",\n    style: _normalizeStyle(cssVars.value)\n  }, {\n    default: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createVNode(_component_WorldWideTelescope, { \"wwt-namespace\": _ctx.wwtNamespace }, null, 8, [\"wwt-namespace\"]),\n        _createVNode(_component_splash_screen, {\n          title: \"Planetary Parade\",\n          cssVars: cssVars.value,\n          onClose: closeSplashScreen\n        }, null, 8, [\"cssVars\"]),\n        _createVNode(_component_v_dialog, {\n          modelValue: inIntro.value,\n          \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((inIntro).value = $event))\n        }, {\n          default: _withCtx(() => [\n            (inIntro.value)\n              ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n                  _createVNode(_component_v_card, { class: \"info-card elevation-5\" }, {\n                    default: _withCtx(() => [\n                      _createElementVNode(\"div\", _hoisted_3, [\n                        _createVNode(_component_font_awesome_icon, {\n                          size: \"xl\",\n                          class: \"ma-1\",\n                          color: accentColor.value,\n                          icon: \"xmark\",\n                          onClick: _cache[0] || (_cache[0] = ($event: any) => (inIntro.value = !inIntro.value)),\n                          onKeyup: _cache[1] || (_cache[1] = _withKeys(($event: any) => (inIntro.value = !inIntro.value), [\"enter\"])),\n                          tabindex: \"0\",\n                          \"tooltip-location\": \"start\"\n                        }, null, 8, [\"color\"])\n                      ]),\n                      _createElementVNode(\"div\", _hoisted_4, [\n                        _cache[69] || (_cache[69] = _createElementVNode(\"h3\", {\n                          style: {\"color\":\"#f4ba3e\"},\n                          class: \"mb-2\"\n                        }, \"Quick Start\", -1)),\n                        _createElementVNode(\"ol\", null, [\n                          _createElementVNode(\"li\", null, [\n                            _cache[56] || (_cache[56] = _createTextVNode(\"Set desired location using \")),\n                            _createVNode(_component_font_awesome_icon, {\n                              class: \"bullet-icon\",\n                              icon: \"location-dot\",\n                              style: {\"color\":\"#f4ba3e\"}\n                            }),\n                            _cache[57] || (_cache[57] = _createTextVNode()),\n                            _cache[58] || (_cache[58] = _createElementVNode(\"strong\", null, [\n                              _createElementVNode(\"span\", { style: {\"color\":\"#f4ba3e\"} }, \"(top-center)\")\n                            ], -1)),\n                            _cache[59] || (_cache[59] = _createTextVNode(\".\"))\n                          ]),\n                          _createElementVNode(\"li\", null, [\n                            _cache[60] || (_cache[60] = _createTextVNode(\"Click box that displays date/time \")),\n                            _createElementVNode(\"strong\", null, [\n                              _withDirectives(_createElementVNode(\"span\", _hoisted_5, \"(bottom-left)\", 512), [\n                                [_vShow, !_unref(xs)]\n                              ]),\n                              _withDirectives(_createElementVNode(\"span\", _hoisted_6, \"(bottom-center)\", 512), [\n                                [_vShow, _unref(xs)]\n                              ])\n                            ]),\n                            _cache[61] || (_cache[61] = _createTextVNode(\" to update, or press \")),\n                            _createVNode(_component_font_awesome_icon, {\n                              class: \"bullet-icon\",\n                              icon: \"play\",\n                              style: {\"color\":\"#f4ba3e\"}\n                            }),\n                            _cache[62] || (_cache[62] = _createTextVNode(\" to advance time.\"))\n                          ]),\n                          _cache[68] || (_cache[68] = _createElementVNode(\"li\", null, \"Go outdoors and find the planet parade!\", -1)),\n                          _createElementVNode(\"li\", null, [\n                            _cache[63] || (_cache[63] = _createTextVNode(\"Learn more using \")),\n                            _createVNode(_component_font_awesome_icon, {\n                              class: \"bullet-icon\",\n                              icon: \"book-open\",\n                              style: {\"color\":\"#f4ba3e\"}\n                            }),\n                            _cache[64] || (_cache[64] = _createTextVNode(\" and \")),\n                            _createVNode(_component_font_awesome_icon, {\n                              class: \"bullet-icon\",\n                              icon: \"video\",\n                              style: {\"color\":\"#f4ba3e\"}\n                            }),\n                            _cache[65] || (_cache[65] = _createTextVNode()),\n                            _cache[66] || (_cache[66] = _createElementVNode(\"strong\", null, [\n                              _createElementVNode(\"span\", { style: {\"color\":\"#f4ba3e\"} }, \"(upper-left)\")\n                            ], -1)),\n                            _cache[67] || (_cache[67] = _createTextVNode(\". \"))\n                          ])\n                        ])\n                      ]),\n                      _createVNode(_component_v_checkbox, {\n                        modelValue: skipIntroChecked.value,\n                        \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((skipIntroChecked).value = $event)),\n                        label: \"Do not display Intro Content again\",\n                        density: \"default\",\n                        \"hide-details\": \"\"\n                      }, null, 8, [\"modelValue\"])\n                    ]),\n                    _: 1\n                  })\n                ]))\n              : _createCommentVNode(\"\", true)\n          ]),\n          _: 1\n        }, 8, [\"modelValue\"]),\n        _createVNode(_Transition, { name: \"fade\" }, {\n          default: _withCtx(() => [\n            _withDirectives(_createElementVNode(\"div\", _hoisted_7, _cache[70] || (_cache[70] = [\n              _createElementVNode(\"div\", { class: \"container\" }, [\n                _createElementVNode(\"div\", { class: \"spinner\" }),\n                _createElementVNode(\"p\", null, \"Loading …\")\n              ], -1)\n            ]), 512), [\n              [_vShow, isLoading.value]\n            ])\n          ]),\n          _: 1\n        }),\n        _createElementVNode(\"div\", _hoisted_8, [\n          _createElementVNode(\"div\", _hoisted_9, [\n            _createVNode(_component_icon_button, {\n              modelValue: showTextSheet.value,\n              \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((showTextSheet).value = $event)),\n              \"fa-icon\": \"book-open\",\n              color: buttonColor.value,\n              \"tooltip-text\": showTextSheet.value ? 'Hide Info' : 'Learn More',\n              \"tooltip-location\": \"start\"\n            }, null, 8, [\"modelValue\", \"color\", \"tooltip-text\"]),\n            _createVNode(_component_icon_button, {\n              modelValue: showVideoSheet.value,\n              \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((showVideoSheet).value = $event)),\n              \"fa-icon\": \"video\",\n              color: buttonColor.value,\n              \"tooltip-text\": \"Watch video\",\n              \"tooltip-location\": \"start\"\n            }, null, 8, [\"modelValue\", \"color\"])\n          ]),\n          _createElementVNode(\"div\", _hoisted_10, [\n            _createVNode(_component_icon_button, {\n              modelValue: showLocationSelector.value,\n              \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event: any) => ((showLocationSelector).value = $event)),\n              \"fa-icon\": \"location-dot\",\n              color: buttonColor.value,\n              \"tooltip-text\": \"Select Location\",\n              \"tooltip-location\": \"start\"\n            }, null, 8, [\"modelValue\", \"color\"]),\n            _createVNode(_component_v_dialog, {\n              modelValue: showLocationSelector.value,\n              \"onUpdate:modelValue\": _cache[11] || (_cache[11] = ($event: any) => ((showLocationSelector).value = $event)),\n              \"max-width\": \"fit-content\",\n              transition: \"slide-y-transition\"\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_v_card, null, {\n                  default: _withCtx(() => [\n                    _createElementVNode(\"div\", _hoisted_11, [\n                      _createVNode(_component_font_awesome_icon, {\n                        style: {\"cursor\":\"pointer\",\"z-index\":\"1000\"},\n                        icon: \"xmark\",\n                        size: \"xl\",\n                        onClick: _cache[7] || (_cache[7] = ($event: any) => (showLocationSelector.value = false)),\n                        onKeyup: _cache[8] || (_cache[8] = _withKeys(($event: any) => (showLocationSelector.value = false), [\"enter\"])),\n                        tabindex: \"0\",\n                        color: \"black\"\n                      })\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_12, [\n                      _createVNode(_component_geolocation_button, {\n                        id: \"location\",\n                        size: \"30px\",\n                        density: \"default\",\n                        elevation: \"5\",\n                        color: accentColor.value,\n                        onGeolocation: _cache[9] || (_cache[9] = ($event: any) => (selectedLocation.value = {longitudeDeg: $event.longitude, latitudeDeg: $event.latitude}))\n                      }, null, 8, [\"color\"]),\n                      _createVNode(_component_location_search, {\n                        class: _normalizeClass(['location-search']),\n                        small: \"\",\n                        \"button-size\": \"xl\",\n                        \"accent-color\": accentColor.value,\n                        \"search-provider\": searchProvider,\n                        onSetLocation: setLocationFromSearchFeature,\n                        onError: _cache[10] || (_cache[10] = ($event: any) => (searchErrorMessage.value = $event))\n                      }, null, 8, [\"accent-color\"])\n                    ]),\n                    _createVNode(_component_location_selector, {\n                      \"model-value\": selectedLocation.value,\n                      \"onUpdate:modelValue\": updateLocationFromMap\n                    }, null, 8, [\"model-value\"])\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            }, 8, [\"modelValue\"]),\n            _createElementVNode(\"span\", {\n              tabindex: \"0\",\n              id: \"my-location-label\",\n              class: \"elevation-1\",\n              onClick: _cache[12] || (_cache[12] = ($event: any) => (showLocationSelector.value=true)),\n              onKeyup: _cache[13] || (_cache[13] = _withKeys(($event: any) => (showLocationSelector.value=true), [\"enter\"]))\n            }, _toDisplayString(xSmallSize.value ? 'Location' : 'Current location') + \": \" + _toDisplayString(selectedLocationText.value != '' ? selectedLocationText.value : 'Cambridge, MA (default)'), 33)\n          ]),\n          _createElementVNode(\"div\", _hoisted_13, [\n            _createElementVNode(\"div\", _hoisted_14, [\n              _createElementVNode(\"div\", _hoisted_15, [\n                _createVNode(_component_font_awesome_icon, {\n                  size: \"lg\",\n                  class: \"tab-focusable\",\n                  color: accentColor.value,\n                  icon: showControls.value ? `chevron-down` : `gear`,\n                  onClick: _cache[14] || (_cache[14] = ($event: any) => (showControls.value = !showControls.value)),\n                  onKeyup: _cache[15] || (_cache[15] = _withKeys(($event: any) => (showControls.value = !showControls.value), [\"enter\"])),\n                  tabindex: \"0\"\n                }, null, 8, [\"color\", \"icon\"])\n              ]),\n              (showControls.value)\n                ? (_openBlock(), _createElementBlock(\"div\", _hoisted_16, [\n                    _createVNode(_component_v_checkbox, {\n                      color: accentColor.value,\n                      modelValue: showEcliptic.value,\n                      \"onUpdate:modelValue\": _cache[16] || (_cache[16] = ($event: any) => ((showEcliptic).value = $event)),\n                      onKeyup: _cache[17] || (_cache[17] = _withKeys(($event: any) => (showEcliptic.value = !showEcliptic.value), [\"enter\"])),\n                      label: \"Ecliptic\",\n                      \"hide-details\": \"\"\n                    }, null, 8, [\"color\", \"modelValue\"]),\n                    _createVNode(_component_v_checkbox, {\n                      color: accentColor.value,\n                      modelValue: showAltAzGrid.value,\n                      \"onUpdate:modelValue\": _cache[18] || (_cache[18] = ($event: any) => ((showAltAzGrid).value = $event)),\n                      onKeyup: _cache[19] || (_cache[19] = _withKeys(($event: any) => (showAltAzGrid.value = !showAltAzGrid.value), [\"enter\"])),\n                      label: \"Sky Grid\",\n                      \"hide-details\": \"\"\n                    }, null, 8, [\"color\", \"modelValue\"]),\n                    _createVNode(_component_v_checkbox, {\n                      color: accentColor.value,\n                      modelValue: showHorizon.value,\n                      \"onUpdate:modelValue\": _cache[20] || (_cache[20] = ($event: any) => ((showHorizon).value = $event)),\n                      onKeyup: _cache[21] || (_cache[21] = _withKeys(($event: any) => (showHorizon.value = !showHorizon.value), [\"enter\"])),\n                      label: \"Horizon/Sky\",\n                      \"hide-details\": \"\"\n                    }, null, 8, [\"color\", \"modelValue\"]),\n                    _createVNode(_component_v_checkbox, {\n                      color: accentColor.value,\n                      modelValue: showPlanetLabels.value,\n                      \"onUpdate:modelValue\": _cache[22] || (_cache[22] = ($event: any) => ((showPlanetLabels).value = $event)),\n                      onKeyup: _cache[23] || (_cache[23] = _withKeys(($event: any) => (showPlanetLabels.value = !showPlanetLabels.value), [\"enter\"])),\n                      label: \"Planet Labels\",\n                      \"hide-details\": \"\"\n                    }, null, 8, [\"color\", \"modelValue\"]),\n                    _createVNode(_component_v_checkbox, {\n                      color: accentColor.value,\n                      modelValue: showConstellations.value,\n                      \"onUpdate:modelValue\": _cache[24] || (_cache[24] = ($event: any) => ((showConstellations).value = $event)),\n                      onKeyup: _cache[25] || (_cache[25] = _withKeys(($event: any) => (showConstellations.value = !showConstellations.value), [\"enter\"])),\n                      label: \"Constellations\",\n                      \"hide-details\": \"\"\n                    }, null, 8, [\"color\", \"modelValue\"])\n                  ]))\n                : _createCommentVNode(\"\", true)\n            ]),\n            _createElementVNode(\"div\", _hoisted_17, [\n              _createElementVNode(\"div\", _hoisted_18, [\n                _cache[71] || (_cache[71] = _createElementVNode(\"div\", { class: \"planet-visibility-title\" }, \"Above Horizon\", -1)),\n                _createVNode(_component_font_awesome_icon, {\n                  size: \"lg\",\n                  class: \"tab-focusable\",\n                  color: accentColor.value,\n                  icon: showPlanetVisiblity.value ? `chevron-down` : `chevron-up`,\n                  onClick: _cache[26] || (_cache[26] = ($event: any) => (showPlanetVisiblity.value = !showPlanetVisiblity.value)),\n                  onKeyup: _cache[27] || (_cache[27] = _withKeys(($event: any) => (showPlanetVisiblity.value = !showPlanetVisiblity.value), [\"enter\"])),\n                  tabindex: \"0\"\n                }, null, 8, [\"color\", \"icon\"])\n              ]),\n              (showPlanetVisiblity.value)\n                ? (_openBlock(), _createElementBlock(\"div\", _hoisted_19, [\n                    _createElementVNode(\"p\", {\n                      class: _normalizeClass(['planet-label','sun', sunVis.value ? '' : 'not-visible' ])\n                    }, [\n                      _createVNode(_component_v_icon, null, {\n                        default: _withCtx(() => _cache[72] || (_cache[72] = [\n                          _createTextVNode(\"mdi-weather-sunny\")\n                        ])),\n                        _: 1\n                      }),\n                      _cache[73] || (_cache[73] = _createTextVNode(\" Sun\"))\n                    ], 2),\n                    _createElementVNode(\"p\", {\n                      class: _normalizeClass(['planet-label', mercuryVis.value ? '' : 'not-visible' ])\n                    }, [\n                      _createVNode(_component_v_icon, null, {\n                        default: _withCtx(() => _cache[74] || (_cache[74] = [\n                          _createTextVNode(\"mdi-eye-outline\")\n                        ])),\n                        _: 1\n                      }),\n                      _cache[75] || (_cache[75] = _createTextVNode(\" Mercury\"))\n                    ], 2),\n                    _createElementVNode(\"p\", {\n                      class: _normalizeClass(['planet-label', venusVis.value   ? '' : 'not-visible' ])\n                    }, [\n                      _createVNode(_component_v_icon, null, {\n                        default: _withCtx(() => _cache[76] || (_cache[76] = [\n                          _createTextVNode(\"mdi-eye-outline\")\n                        ])),\n                        _: 1\n                      }),\n                      _cache[77] || (_cache[77] = _createTextVNode(\" Venus\"))\n                    ], 2),\n                    _createElementVNode(\"p\", {\n                      class: _normalizeClass(['planet-label', marsVis.value    ? '' : 'not-visible' ])\n                    }, [\n                      _createVNode(_component_v_icon, null, {\n                        default: _withCtx(() => _cache[78] || (_cache[78] = [\n                          _createTextVNode(\"mdi-eye-outline\")\n                        ])),\n                        _: 1\n                      }),\n                      _cache[79] || (_cache[79] = _createTextVNode(\" Mars\"))\n                    ], 2),\n                    _createElementVNode(\"p\", {\n                      class: _normalizeClass(['planet-label', jupiterVis.value ? '' : 'not-visible' ])\n                    }, [\n                      _createVNode(_component_v_icon, null, {\n                        default: _withCtx(() => _cache[80] || (_cache[80] = [\n                          _createTextVNode(\"mdi-eye-outline\")\n                        ])),\n                        _: 1\n                      }),\n                      _cache[81] || (_cache[81] = _createTextVNode(\" Jupiter\"))\n                    ], 2),\n                    _createElementVNode(\"p\", {\n                      class: _normalizeClass(['planet-label', saturnVis.value  ? '' : 'not-visible' ])\n                    }, [\n                      _createVNode(_component_v_icon, null, {\n                        default: _withCtx(() => _cache[82] || (_cache[82] = [\n                          _createTextVNode(\"mdi-eye-outline\")\n                        ])),\n                        _: 1\n                      }),\n                      _cache[83] || (_cache[83] = _createTextVNode(\" Saturn\"))\n                    ], 2),\n                    _createElementVNode(\"p\", {\n                      class: _normalizeClass(['planet-label', uranusVis.value  ? '' : 'not-visible' ])\n                    }, [\n                      _createVNode(_component_v_icon, null, {\n                        default: _withCtx(() => _cache[84] || (_cache[84] = [\n                          _createTextVNode(\"mdi-binoculars\")\n                        ])),\n                        _: 1\n                      }),\n                      _cache[85] || (_cache[85] = _createTextVNode(\" Uranus\"))\n                    ], 2),\n                    _createElementVNode(\"p\", {\n                      class: _normalizeClass(['planet-label', neptuneVis.value ? '' : 'not-visible' ])\n                    }, [\n                      _createVNode(_component_v_icon, null, {\n                        default: _withCtx(() => _cache[86] || (_cache[86] = [\n                          _createTextVNode(\"mdi-telescope\")\n                        ])),\n                        _: 1\n                      }),\n                      _cache[87] || (_cache[87] = _createTextVNode(\" Neptune\"))\n                    ], 2)\n                  ]))\n                : _createCommentVNode(\"\", true)\n            ])\n          ])\n        ]),\n        _createElementVNode(\"div\", _hoisted_20, [\n          _createElementVNode(\"div\", _hoisted_21, [\n            _createVNode(_component_v_overlay, {\n              modelValue: datePickerOpen.value,\n              \"onUpdate:modelValue\": _cache[32] || (_cache[32] = ($event: any) => ((datePickerOpen).value = $event)),\n              activator: \"parent\",\n              \"location-strategy\": \"connected\",\n              location: \"top end\",\n              origin: \"bottom end\",\n              scrim: false,\n              style: _normalizeStyle(cssVars.value)\n            }, {\n              activator: _withCtx(({props}) => [\n                _createVNode(_component_v_card, _mergeProps(props, {\n                  class: \"td__card\",\n                  width: \"fit-content\",\n                  rounded: \"lg\",\n                  tabindex: \"0\",\n                  onKeyup: _withKeys(props.onClick, [\"enter\"])\n                }), {\n                  default: _withCtx(() => [\n                    _createVNode(_component_time_display, {\n                      class: \"bsn__time\",\n                      date: localSelectedDate.value,\n                      ampm: \"\",\n                      \"short-time-date\": true,\n                      \"show-timezone\": \"\",\n                      timezone: _unref(shortTimezone)\n                    }, null, 8, [\"date\", \"timezone\"]),\n                    (!(_unref(smAndDown) || mobile.value))\n                      ? (_openBlock(), _createBlock(_component_v_icon, {\n                          key: 0,\n                          class: \"td__icon\"\n                        }, {\n                          default: _withCtx(() => _cache[88] || (_cache[88] = [\n                            _createTextVNode(\"mdi-cursor-default-click\")\n                          ])),\n                          _: 1\n                        }))\n                      : _createCommentVNode(\"\", true)\n                  ]),\n                  _: 2\n                }, 1040, [\"onKeyup\"])\n              ]),\n              default: _withCtx(() => [\n                _createVNode(_component_v_card, {\n                  ref: \"dtpCard\",\n                  tabindex: \"0\",\n                  width: \"fit-content\",\n                  elevation: \"5\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_v_icon, {\n                      tabindex: \"0\",\n                      class: \"dtp-close-button\",\n                      onClick: _cache[28] || (_cache[28] = ($event: any) => (datePickerOpen.value=false)),\n                      onKeyup: _cache[29] || (_cache[29] = _withKeys(($event: any) => (datePickerOpen.value=false), [\"enter\"])),\n                      color: accentColor.value,\n                      size: \"18\"\n                    }, {\n                      default: _withCtx(() => _cache[89] || (_cache[89] = [\n                        _createTextVNode(\"mdi-close\")\n                      ])),\n                      _: 1\n                    }, 8, [\"color\"]),\n                    _createVNode(_component_date_time_picker, {\n                      tabindex: \"0\",\n                      modelValue: localSelectedDate.value,\n                      \"onUpdate:modelValue\": _cache[31] || (_cache[31] = ($event: any) => ((localSelectedDate).value = $event)),\n                      \"editable-time\": true\n                    }, {\n                      default: _withCtx(() => [\n                        _createElementVNode(\"button\", {\n                          class: \"dtp__button\",\n                          onClick: _cache[30] || (_cache[30] = () => {selectedTime.value = Date.now()}),\n                          name: \"set-now\",\n                          \"aria-label\": \"Set time to Now\"\n                        }, \"Now\")\n                      ]),\n                      _: 1\n                    }, 8, [\"modelValue\"])\n                  ]),\n                  _: 1\n                }, 512)\n              ]),\n              _: 1\n            }, 8, [\"modelValue\", \"style\"])\n          ]),\n          _createVNode(_component_speed_control, {\n            playing: playing.value,\n            \"onUpdate:playing\": [\n              _cache[33] || (_cache[33] = ($event: any) => ((playing).value = $event)),\n              _cache[36] || (_cache[36] = (_playing) => {\n          _unref(wwtStats).playPauseCount += 1;\n        })\n            ],\n            store: _unref(store),\n            color: accentColor.value,\n            defaultRate: 1000,\n            useInline: _unref(xs),\n            maxSpeed: 10000,\n            \"show-text\": \"\",\n            onReset: _cache[34] || (_cache[34] = () => {\n          selectedTime.value = Date.now();\n          _unref(wwtStats).timeResetCount += 1;\n        }),\n            \"onUpdate:reverse\": _cache[35] || (_cache[35] = (_reverse) => {\n          _unref(wwtStats).reverseCount += 1;\n        }),\n            onSlowDown: _cache[37] || (_cache[37] = (rate) => {\n          _unref(wwtStats).slowdowns.push(rate);\n        }),\n            onSpeedUp: _cache[38] || (_cache[38] = (rate) => {\n          _unref(wwtStats).speedups.push(rate);\n        }),\n            onSetRate: _cache[39] || (_cache[39] = (rate) => {\n          _unref(wwtStats).rateSelections.push(rate);\n        })\n          }, null, 8, [\"playing\", \"store\", \"color\", \"useInline\"]),\n          _createElementVNode(\"div\", _hoisted_22, [\n            _createVNode(_component_icon_button, {\n              \"md-icon\": \"mdi-information-outline\",\n              onActivate: _cache[40] || (_cache[40] = () => inIntro.value = true),\n              color: accentColor.value,\n              \"focus-color\": accentColor.value,\n              \"tooltip-text\": \"Show Quick Start Guide\",\n              \"tooltip-location\": \"bottom\",\n              \"tooltip-offset\": \"5px\",\n              \"show-tooltip\": !mobile.value,\n              mdSize: \"1.2em\"\n            }, null, 8, [\"color\", \"focus-color\", \"show-tooltip\"]),\n            _createVNode(_component_icon_button, {\n              \"md-icon\": \"mdi-lock\",\n              onActivate: _cache[41] || (_cache[41] = () => showPrivacyDialog.value = true),\n              color: accentColor.value,\n              \"focus-color\": accentColor.value,\n              \"tooltip-text\": \"Change privacy settings\",\n              \"tooltip-location\": \"bottom\",\n              \"tooltip-offset\": \"5px\",\n              \"show-tooltip\": !mobile.value,\n              mdSize: \"1.2em\"\n            }, null, 8, [\"color\", \"focus-color\", \"show-tooltip\"])\n          ]),\n          (!smallSize.value)\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_23, [\n                _createVNode(_component_credit_logos, { \"default-logos\": ['cosmicds', 'wwt', 'sciact', 'nasa'] })\n              ]))\n            : _createCommentVNode(\"\", true)\n        ]),\n        _createVNode(_component_v_dialog, {\n          id: \"video-container\",\n          modelValue: showVideoSheet.value,\n          \"onUpdate:modelValue\": _cache[44] || (_cache[44] = ($event: any) => ((showVideoSheet).value = $event)),\n          transition: \"slide-y-transition\",\n          fullscreen: \"\"\n        }, {\n          default: _withCtx(() => [\n            _createElementVNode(\"div\", _hoisted_24, [\n              _createVNode(_component_font_awesome_icon, {\n                id: \"video-close-icon\",\n                class: \"close-icon\",\n                icon: \"times\",\n                size: \"lg\",\n                onClick: _cache[42] || (_cache[42] = ($event: any) => (showVideoSheet.value = false)),\n                onKeyup: _cache[43] || (_cache[43] = _withKeys(($event: any) => (showVideoSheet.value = false), [\"enter\"])),\n                tabindex: \"0\"\n              }),\n              _cache[90] || (_cache[90] = _createElementVNode(\"video\", {\n                controls: \"\",\n                id: \"info-video\"\n              }, [\n                _createElementVNode(\"source\", {\n                  src: \"CosmicDS Planet Parade Overhead View.mp4\",\n                  type: \"video/mp4\"\n                })\n              ], -1))\n            ])\n          ]),\n          _: 1\n        }, 8, [\"modelValue\"]),\n        _createVNode(_component_v_dialog, {\n          scrim: \"false\",\n          modelValue: showPrivacyDialog.value,\n          \"onUpdate:modelValue\": _cache[47] || (_cache[47] = ($event: any) => ((showPrivacyDialog).value = $event)),\n          \"max-width\": \"400px\",\n          id: \"privacy-popup-dialog\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_v_card, null, {\n              default: _withCtx(() => [\n                _createVNode(_component_v_card_text, null, {\n                  default: _withCtx(() => _cache[91] || (_cache[91] = [\n                    _createTextVNode(\" To evaluate usage of this app, \"),\n                    _createElementVNode(\"strong\", null, \"anonymized\", -1),\n                    _createTextVNode(\" data may be collected, including locations searched or selected on map. Places selected via geolocation services on your device are NOT collected. \")\n                  ])),\n                  _: 1\n                }),\n                _createVNode(_component_v_card_actions, { class: \"pt-3\" }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_v_spacer),\n                    _createVNode(_component_v_btn, {\n                      color: \"#BDBDBD\",\n                      href: \"https://www.cfa.harvard.edu/privacy-statement\",\n                      target: \"_blank\",\n                      rel: \"noopener noreferrer\"\n                    }, {\n                      default: _withCtx(() => _cache[92] || (_cache[92] = [\n                        _createTextVNode(\" Privacy Policy \")\n                      ])),\n                      _: 1\n                    }),\n                    _createVNode(_component_v_btn, {\n                      color: \"#ff6666\",\n                      onClick: _cache[45] || (_cache[45] = () => {\n              responseOptOut.value = true;\n              showPrivacyDialog.value = false;\n            })\n                    }, {\n                      default: _withCtx(() => _cache[93] || (_cache[93] = [\n                        _createTextVNode(\" Opt out \")\n                      ])),\n                      _: 1\n                    }),\n                    _createVNode(_component_v_btn, {\n                      color: \"green\",\n                      onClick: _cache[46] || (_cache[46] = () => {\n              responseOptOut.value = false;\n              showPrivacyDialog.value = false;\n            })\n                    }, {\n                      default: _withCtx(() => _cache[94] || (_cache[94] = [\n                        _createTextVNode(\" Allow \")\n                      ])),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }, 8, [\"modelValue\"]),\n        _createVNode(_component_v_dialog, {\n          style: _normalizeStyle(cssVars.value),\n          class: \"bottom-sheet\",\n          id: \"text-bottom-sheet\",\n          \"hide-overlay\": \"\",\n          persistent: \"\",\n          \"no-click-animation\": \"\",\n          absolute: \"\",\n          width: \"100%\",\n          scrim: false,\n          location: \"bottom\",\n          modelValue: showTextSheet.value,\n          \"onUpdate:modelValue\": _cache[52] || (_cache[52] = ($event: any) => ((showTextSheet).value = $event)),\n          transition: \"dialog-bottom-transition\",\n          \"retain-focus\": !showRating.value\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_v_card, { height: \"100%\" }, {\n              default: _withCtx(() => [\n                _createVNode(_component_v_tabs, {\n                  modelValue: tab.value,\n                  \"onUpdate:modelValue\": _cache[48] || (_cache[48] = ($event: any) => ((tab).value = $event)),\n                  height: \"32px\",\n                  color: accentColor.value,\n                  \"slider-color\": accentColor.value,\n                  id: \"tabs\",\n                  dense: \"\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_v_tab, {\n                      class: \"info-tabs\",\n                      tabindex: \"0\"\n                    }, {\n                      default: _withCtx(() => _cache[95] || (_cache[95] = [\n                        _createElementVNode(\"h3\", null, \"Information\", -1)\n                      ])),\n                      _: 1\n                    }),\n                    _createVNode(_component_v_tab, {\n                      class: \"info-tabs\",\n                      tabindex: \"0\"\n                    }, {\n                      default: _withCtx(() => _cache[96] || (_cache[96] = [\n                        _createElementVNode(\"h3\", null, \"Using WWT\", -1)\n                      ])),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                }, 8, [\"modelValue\", \"color\", \"slider-color\"]),\n                _createVNode(_component_font_awesome_icon, {\n                  id: \"close-text-icon\",\n                  class: \"control-icon\",\n                  icon: \"times\",\n                  size: \"lg\",\n                  onClick: _cache[49] || (_cache[49] = ($event: any) => (showTextSheet.value = false)),\n                  onKeyup: _cache[50] || (_cache[50] = _withKeys(($event: any) => (showTextSheet.value = false), [\"enter\"])),\n                  tabindex: \"0\"\n                }),\n                _createVNode(_component_v_window, {\n                  modelValue: tab.value,\n                  \"onUpdate:modelValue\": _cache[51] || (_cache[51] = ($event: any) => ((tab).value = $event)),\n                  id: \"tab-items\",\n                  class: \"pb-2 no-bottom-border-radius\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_v_window_item, null, {\n                      default: _withCtx(() => [\n                        _createVNode(_component_v_card, { class: \"no-bottom-border-radius scrollable\" }, {\n                          default: _withCtx(() => [\n                            _createVNode(_component_v_card_text, { class: \"info-text no-bottom-border-radius\" }, {\n                              default: _withCtx(() => [\n                                _cache[104] || (_cache[104] = _createElementVNode(\"h3\", null, \"What is the planet parade?\", -1)),\n                                _cache[105] || (_cache[105] = _createElementVNode(\"p\", null, \" During February 2025, seven planets—Mercury, Saturn, Neptune, Venus, Uranus, Jupiter, and Mars—will be visible in the night sky all at once! \", -1)),\n                                _cache[106] || (_cache[106] = _createElementVNode(\"p\", null, \" Which planets will be visible to your eye depends on how dark your night sky is. For most of the month, from a reasonably dark, clear sky, you should be able to see four of the seven planets (Saturn, Venus, Jupiter, and Mars) by eye. Uranus and Neptune will also be up, but you will likely need binoculars or a small telescope to see them. \", -1)),\n                                _cache[107] || (_cache[107] = _createElementVNode(\"p\", null, \" At the end of February, Mercury, which is usually difficult to spot, will move far enough away from the Sun to also become visible. \", -1)),\n                                _cache[108] || (_cache[108] = _createElementVNode(\"h3\", null, \"Cool! How do I see the planet parade?\", -1)),\n                                _cache[109] || (_cache[109] = _createElementVNode(\"p\", null, \" The best time to see the planet parade will be shortly after it gets dark, maybe 20-30 minutes after sunset. In the Northern Hemisphere, you'll want a clear view towards the southern half of the sky, from west to east. \", -1)),\n                                _cache[110] || (_cache[110] = _createElementVNode(\"p\", null, \" You can use this resource to simulate the planet parade where you are. \", -1)),\n                                _createElementVNode(\"ul\", null, [\n                                  _createElementVNode(\"li\", null, [\n                                    _cache[97] || (_cache[97] = _createTextVNode(\"Click \")),\n                                    _createVNode(_component_font_awesome_icon, {\n                                      class: \"bullet-icon\",\n                                      icon: \"location-dot\"\n                                    }),\n                                    _cache[98] || (_cache[98] = _createTextVNode(\" in the top-center of the view and choose your location. (The default location is Cambridge, MA.)\"))\n                                  ]),\n                                  _cache[99] || (_cache[99] = _createElementVNode(\"li\", null, \"The display defaults to the current day just before sunset. Use the time controls to advance time until just after sunset.\", -1)),\n                                  _cache[100] || (_cache[100] = _createElementVNode(\"li\", null, [\n                                    _createTextVNode(\" If \"),\n                                    _createElementVNode(\"span\", { style: {\"color\":\"var(--accent-color)\"} }, \"Horizon/Sky\"),\n                                    _createTextVNode(\" is checked, you can see the Sun rise above the horizon in the morning and set in the evening. The sky will lighten and darken with the Sun's changing position. \")\n                                  ], -1)),\n                                  _cache[101] || (_cache[101] = _createElementVNode(\"li\", null, [\n                                    _createTextVNode(\" Display the cardinal directions in the view to help orient yourself by checking \"),\n                                    _createElementVNode(\"span\", { style: {\"color\":\"var(--accent-color)\"} }, \"Sky Grid\"),\n                                    _createTextVNode(\". \")\n                                  ], -1))\n                                ]),\n                                _cache[111] || (_cache[111] = _createElementVNode(\"h3\", null, \"How do I find my way around the sky?\", -1)),\n                                _cache[112] || (_cache[112] = _createElementVNode(\"p\", null, \" Here are some tips for finding the planets in the sky from the Northern Hemisphere. \", -1)),\n                                _cache[113] || (_cache[113] = _createElementVNode(\"ul\", null, [\n                                  _createElementVNode(\"li\", null, \" Venus is the brightest planet and should be easiest to spot above the western horizon. \"),\n                                  _createElementVNode(\"li\", null, \" Once you've found Venus, look down toward the horizon to find Saturn. \"),\n                                  _createElementVNode(\"li\", null, \" Imagine a line between Saturn and Venus that points along a big arc towards Jupiter (which is above and to the right of Orion). \"),\n                                  _createElementVNode(\"li\", null, \" Keep following that path to a bright, red object, which is Mars. \"),\n                                  _createElementVNode(\"li\", null, \" Mercury's position will change throughout the month, but it will be near the horizon, close to Venus and Saturn. \")\n                                ], -1)),\n                                _cache[114] || (_cache[114] = _createElementVNode(\"h3\", null, \"What is the significance of the planet parade?\", -1)),\n                                _cache[115] || (_cache[115] = _createElementVNode(\"p\", null, \" The planet parade happens when all the planets happen to be on the same side of their orbits around the Sun as Earth, so they all are on Earth's night-time side. (When a planet is on the opposite side of the Sun during Earth, that means it is up in the sky during the day when the Sun outshines it.) \", -1)),\n                                _cache[116] || (_cache[116] = _createElementVNode(\"p\", null, [\n                                  _createElementVNode(\"strong\", null, \"The planets are not really all in a line.\"),\n                                  _createTextVNode(\" It only appears that way from Earth because Earth and the other planets all orbit the Sun in roughly the same plane (as if they were on a vinyl record). From Earth's point of view, all the other solar system objects appear to move along a circular path around the sky, which ancient astronomers called the \\\"ecliptic.\\\" The \"),\n                                  _createElementVNode(\"span\", { style: {\"color\":\"var(--accent-color)\"} }, \"Ecliptic\"),\n                                  _createTextVNode(\" is displayed as a purple or magenta path in the virtual sky. \")\n                                ], -1)),\n                                _createElementVNode(\"p\", null, [\n                                  _cache[102] || (_cache[102] = _createTextVNode(\" Click \")),\n                                  _createVNode(_component_font_awesome_icon, {\n                                    class: \"bullet-icon\",\n                                    icon: \"video\",\n                                    style: {\"color\":\"#f4ba3e\"}\n                                  }),\n                                  _cache[103] || (_cache[103] = _createTextVNode(\" in the upper left to watch a (silent) video showing an overhead view of the planets and how their positions lead to the planet parade. \"))\n                                ]),\n                                _cache[117] || (_cache[117] = _createElementVNode(\"h3\", null, \"What else can I do to learn more?\", -1)),\n                                _cache[118] || (_cache[118] = _createElementVNode(\"p\", null, [\n                                  _createTextVNode(\" Take your own images of the planets using \"),\n                                  _createElementVNode(\"strong\", null, [\n                                    _createElementVNode(\"a\", {\n                                      href: \"https://mo-www.cfa.harvard.edu/OWN/todays_solar_system.html#SS\",\n                                      target: \"_blank\",\n                                      rel: \"noopener noreferrer\"\n                                    }, \"MicroObservatory's Observing With NASA\")\n                                  ]),\n                                  _createTextVNode(\" program! \")\n                                ], -1)),\n                                _cache[119] || (_cache[119] = _createElementVNode(\"h3\", null, \"Will the planets be this big in my sky?\", -1)),\n                                _cache[120] || (_cache[120] = _createElementVNode(\"p\", null, \" Unfortunately, no. In this visualization, we scaled up the size of the solar system objects so you would be able to see them when zoomed out to a large swath of sky. In reality, the planets will appear in the sky as points of light (or very small disks through binoculars or a telescope). \", -1)),\n                                _createVNode(_component_v_spacer, { class: \"end-spacer\" })\n                              ]),\n                              _: 1\n                            })\n                          ]),\n                          _: 1\n                        })\n                      ]),\n                      _: 1\n                    }),\n                    _createVNode(_component_v_window_item, null, {\n                      default: _withCtx(() => [\n                        _createVNode(_component_v_card, { class: \"no-bottom-border-radius scrollable\" }, {\n                          default: _withCtx(() => [\n                            _createVNode(_component_v_card_text, { class: \"info-text no-bottom-border-radius\" }, {\n                              default: _withCtx(() => [\n                                _createVNode(_component_v_container, null, {\n                                  default: _withCtx(() => [\n                                    _createVNode(_component_v_row, { align: \"center\" }, {\n                                      default: _withCtx(() => [\n                                        _createVNode(_component_v_col, { cols: \"4\" }, {\n                                          default: _withCtx(() => [\n                                            _createVNode(_component_v_chip, {\n                                              label: \"\",\n                                              outlined: \"\"\n                                            }, {\n                                              default: _withCtx(() => _cache[121] || (_cache[121] = [\n                                                _createTextVNode(\" Pan \")\n                                              ])),\n                                              _: 1\n                                            })\n                                          ]),\n                                          _: 1\n                                        }),\n                                        _createVNode(_component_v_col, {\n                                          cols: \"8\",\n                                          class: \"pt-1\"\n                                        }, {\n                                          default: _withCtx(() => [\n                                            _createElementVNode(\"strong\", null, _toDisplayString(_unref(touchscreen) ? \"press + drag\" : \"click + drag\"), 1),\n                                            _createTextVNode(\" \" + _toDisplayString(_unref(touchscreen) ? \":\" : \"or\") + \" \", 1),\n                                            _createElementVNode(\"strong\", null, _toDisplayString(_unref(touchscreen) ? \":\" : \"W-A-S-D\"), 1),\n                                            _createTextVNode(\" \" + _toDisplayString(_unref(touchscreen) ? \":\" : \"keys\"), 1),\n                                            _cache[122] || (_cache[122] = _createElementVNode(\"br\", null, null, -1))\n                                          ]),\n                                          _: 1\n                                        })\n                                      ]),\n                                      _: 1\n                                    }),\n                                    _createVNode(_component_v_row, { align: \"center\" }, {\n                                      default: _withCtx(() => [\n                                        _createVNode(_component_v_col, { cols: \"4\" }, {\n                                          default: _withCtx(() => [\n                                            _createVNode(_component_v_chip, {\n                                              label: \"\",\n                                              outlined: \"\"\n                                            }, {\n                                              default: _withCtx(() => _cache[123] || (_cache[123] = [\n                                                _createTextVNode(\" Zoom \")\n                                              ])),\n                                              _: 1\n                                            })\n                                          ]),\n                                          _: 1\n                                        }),\n                                        _createVNode(_component_v_col, {\n                                          cols: \"8\",\n                                          class: \"pt-1\"\n                                        }, {\n                                          default: _withCtx(() => [\n                                            _createElementVNode(\"strong\", null, _toDisplayString(_unref(touchscreen) ? \"pinch in and out\" : \"scroll in and out\"), 1),\n                                            _createTextVNode(\" \" + _toDisplayString(_unref(touchscreen) ? \":\" : \"or\") + \" \", 1),\n                                            _createElementVNode(\"strong\", null, _toDisplayString(_unref(touchscreen) ? \":\" : \"I-O\"), 1),\n                                            _createTextVNode(\" \" + _toDisplayString(_unref(touchscreen) ? \":\" : \"keys\"), 1),\n                                            _cache[124] || (_cache[124] = _createElementVNode(\"br\", null, null, -1))\n                                          ]),\n                                          _: 1\n                                        })\n                                      ]),\n                                      _: 1\n                                    }),\n                                    _createVNode(_component_v_row, null, {\n                                      default: _withCtx(() => [\n                                        _createVNode(_component_v_col, { cols: \"12\" }, {\n                                          default: _withCtx(() => [\n                                            _cache[125] || (_cache[125] = _createElementVNode(\"div\", { class: \"credits\" }, [\n                                              _createElementVNode(\"h3\", null, \"Credits:\"),\n                                              _createElementVNode(\"h4\", null, [\n                                                _createElementVNode(\"a\", {\n                                                  href: \"https://www.cosmicds.cfa.harvard.edu/\",\n                                                  target: \"_blank\",\n                                                  rel: \"noopener noreferrer\"\n                                                }, \"CosmicDS\"),\n                                                _createTextVNode(\" Vue Data Stories Team:\")\n                                              ]),\n                                              _createTextVNode(\" Jon Carifio\"),\n                                              _createElementVNode(\"br\"),\n                                              _createTextVNode(\" Pat Udomprasert\"),\n                                              _createElementVNode(\"br\"),\n                                              _createTextVNode(\" John Lewis\"),\n                                              _createElementVNode(\"br\"),\n                                              _createTextVNode(\" Alyssa Goodman\"),\n                                              _createElementVNode(\"br\"),\n                                              _createTextVNode(\" Mary Dussault\"),\n                                              _createElementVNode(\"br\"),\n                                              _createTextVNode(\" Harry Houghton\"),\n                                              _createElementVNode(\"br\"),\n                                              _createTextVNode(\" Evaluator: Sue Sunbury\"),\n                                              _createElementVNode(\"br\"),\n                                              _createElementVNode(\"br\"),\n                                              _createElementVNode(\"h4\", null, \"WorldWide Telescope Team:\"),\n                                              _createTextVNode(\" Peter Williams\"),\n                                              _createElementVNode(\"br\"),\n                                              _createTextVNode(\" A. David Weigel\"),\n                                              _createElementVNode(\"br\"),\n                                              _createTextVNode(\" Jon Carifio\"),\n                                              _createElementVNode(\"br\")\n                                            ], -1)),\n                                            _createVNode(_component_v_spacer, { class: \"end-spacer\" })\n                                          ]),\n                                          _: 1\n                                        })\n                                      ]),\n                                      _: 1\n                                    }),\n                                    _createVNode(_component_v_row, null, {\n                                      default: _withCtx(() => [\n                                        _createVNode(_component_v_col, null, {\n                                          default: _withCtx(() => [\n                                            _createVNode(_component_funding_acknowledgement)\n                                          ]),\n                                          _: 1\n                                        })\n                                      ]),\n                                      _: 1\n                                    })\n                                  ]),\n                                  _: 1\n                                })\n                              ]),\n                              _: 1\n                            })\n                          ]),\n                          _: 1\n                        })\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                }, 8, [\"modelValue\"])\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }, 8, [\"style\", \"modelValue\", \"retain-focus\"]),\n        _createVNode(_component_v_container, null, {\n          default: _withCtx(() => [\n            _createVNode(_component_v_expand_transition, null, {\n              default: _withCtx(() => [\n                _withDirectives((_openBlock(), _createBlock(_component_user_experience, {\n                  question: _unref(question),\n                  \"icon-size\": \"3x\",\n                  onDismiss: _cache[53] || (_cache[53] = (_rating, _comments) => {\n          showRating.value = false;\n        }),\n                  onRating: _cache[54] || (_cache[54] = (rating) => {\n          currentRating.value = rating;\n          updateUserExperienceInfo(currentRating.value, currentComments.value);\n        }),\n                  onFinish: _cache[55] || (_cache[55] = (rating, comments) => {\n          currentRating.value = rating;\n          currentComments.value = comments;\n          updateUserExperienceInfo(currentRating.value, currentComments.value)\n          showRating.value = false;\n        })\n                }, {\n                  footer: _withCtx(() => [\n                    _createVNode(_component_v_btn, {\n                      class: \"privacy-button\",\n                      color: \"#BDBDBD\",\n                      href: \"https://www.cfa.harvard.edu/privacy-statement\",\n                      target: \"_blank\",\n                      rel: \"noopener noreferrer\"\n                    }, {\n                      default: _withCtx(() => _cache[126] || (_cache[126] = [\n                        _createTextVNode(\" Privacy Policy \")\n                      ])),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                }, 8, [\"question\"])), [\n                  [_directive_hide, true]\n                ])\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        })\n      ])\n    ]),\n    _: 1\n  }, 8, [\"style\"]))\n}\n}\n\n})","<template>\n<v-app\n  id=\"app\"\n  :style=\"cssVars\"\n>\n  <div\n    id=\"main-content\"\n  >\n    <WorldWideTelescope\n      :wwt-namespace=\"wwtNamespace\"\n    ></WorldWideTelescope>\n\n\n    <!-- This contains the splash screen content -->\n\n    <splash-screen \n      title=\"Planetary Parade\" \n      :cssVars=\"cssVars\" \n      @close=\"closeSplashScreen\"\n      />\n    <v-dialog\n      v-model=\"inIntro\"\n    >\n      <div v-if=\"inIntro\" id=\"introduction-overlay\">\n        <v-card class=\"info-card elevation-5\">\n\n          <div id=\"intro-window-close-button\">\n            <font-awesome-icon\n              size=\"xl\"\n              class=\"ma-1\"\n              :color=\"accentColor\"\n              icon='xmark'\n              @click=\"inIntro = !inIntro\"\n              @keyup.enter=\"inIntro = !inIntro\"\n              tabindex=\"0\"\n              tooltip-location=\"start\"\n            /> \n          </div>\n\n\n          <div class=\"intro-text\">\n            <h3 style=\"color: #f4ba3e\" class=\"mb-2\">Quick Start</h3>\n            <ol>\n              <li>Set desired location using <font-awesome-icon class=\"bullet-icon\" icon=\"location-dot\" style=\"color: #f4ba3e\" /> <strong><span style=\"color: #f4ba3e\">(top-center)</span></strong>.</li>\n              <li>Click box that displays date/time \n                <strong>\n                <span v-show=\"!xs\" style=\"color: #f4ba3e\">(bottom-left)</span>\n                <span v-show=\"xs\" style=\"color: #f4ba3e\">(bottom-center)</span>\n              </strong>\n              to update, or press <font-awesome-icon class=\"bullet-icon\" icon=\"play\" style=\"color: #f4ba3e\" /> to advance time.</li>\n              <li>Go outdoors and find the planet parade!</li>\n              <li>Learn more using <font-awesome-icon class=\"bullet-icon\" icon=\"book-open\" style=\"color: #f4ba3e\" /> and <font-awesome-icon class=\"bullet-icon\" icon=\"video\" style=\"color: #f4ba3e\" /> <strong><span style=\"color: #f4ba3e\">(upper-left)</span></strong>.   </li>\n            </ol>\n          </div>\n\n          <v-checkbox\n            v-model=\"skipIntroChecked\"\n            label=\"Do not display Intro Content again\"\n            density=\"default\"\n            hide-details\n          >\n          </v-checkbox>\n        </v-card>\n      </div>\n\n    </v-dialog>\n\n    <transition name=\"fade\">\n      <div\n        class=\"modal\"\n        id=\"modal-loading\"\n        v-show=\"isLoading\"\n      >\n        <div class=\"container\">\n          <div class=\"spinner\"></div>\n          <p>Loading …</p>\n        </div>\n      </div>\n    </transition>\n\n\n    <!-- This block contains the elements (e.g. icon buttons displayed at/near the top of the screen -->\n\n    <div id=\"top-content\">\n      <div id=\"left-buttons\">\n        <icon-button\n          v-model=\"showTextSheet\"\n          fa-icon=\"book-open\"\n          :color=\"buttonColor\"\n          :tooltip-text=\"showTextSheet ? 'Hide Info' : 'Learn More'\"\n          tooltip-location=\"start\"\n        >\n        </icon-button>\n        <icon-button\n          v-model=\"showVideoSheet\"\n          fa-icon=\"video\"\n          :color=\"buttonColor\"\n          tooltip-text=\"Watch video\"\n          tooltip-location=\"start\"\n        >\n        </icon-button>\n      </div>\n      <div id=\"center-buttons\">\n        <icon-button\n          v-model=\"showLocationSelector\"\n          fa-icon=\"location-dot\"\n          :color=\"buttonColor\"\n          tooltip-text=\"Select Location\"\n          tooltip-location=\"start\"\n        ></icon-button>\n        <v-dialog\n          v-model=\"showLocationSelector\"\n          max-width=\"fit-content\"\n          transition=\"slide-y-transition\"\n        >\n          <v-card>\n            <div id=\"geolocation-close\">\n              <font-awesome-icon\n                style=\"cursor: pointer; z-index: 1000;\"\n                icon=\"xmark\"\n                size=\"xl\"\n                @click=\"showLocationSelector = false\"\n                @keyup.enter=\"showLocationSelector = false\"\n                tabindex=\"0\"\n                color=\"black\"\n              ></font-awesome-icon>\n            </div>\n            <div id=\"geolocation-controls\">\n              <geolocation-button\n                id=\"location\"\n                size=\"30px\"\n                density=\"default\"\n                elevation=\"5\"\n                :color=\"accentColor\"\n                @geolocation=\"selectedLocation = {longitudeDeg: $event.longitude, latitudeDeg: $event.latitude}\"\n              />\n              <location-search\n                :class=\"['location-search']\"\n                small\n                button-size=\"xl\"\n                :accent-color=\"accentColor\"\n                :search-provider=\"searchProvider\"\n                @set-location=\"setLocationFromSearchFeature\"\n                @error=\"searchErrorMessage = $event\"\n              >\n              </location-search>\n            </div>\n            <location-selector\n              :model-value=\"selectedLocation\"\n              @update:modelValue=\"updateLocationFromMap\"\n            />\n\n          </v-card>\n        </v-dialog>\n        <span tabindex=\"0\" id=\"my-location-label\" class=\"elevation-1\" @click=\"showLocationSelector=true\" @keyup.enter=\"showLocationSelector=true\">{{ xSmallSize ? 'Location' : 'Current location'}}: {{ selectedLocationText != '' ? selectedLocationText : 'Cambridge, MA (default)' }}</span>\n      </div>\n      <div id=\"right-buttons\">\n        <div id=\"controls\" class=\"collapsable-control control-icon-wrapper\">\n          <div class=\"controls-top-row\">\n            <font-awesome-icon\n              size=\"lg\"\n              class=\"tab-focusable\"\n              :color=\"accentColor\"\n              :icon=\"showControls ? `chevron-down` : `gear`\"\n              @click=\"showControls = !showControls\" \n              @keyup.enter=\"showControls = !showControls\"\n              tabindex=\"0\" />\n          </div>\n        \n          <div v-if=\"showControls\" id=\"control-checkboxes\">\n            <v-checkbox :color=\"accentColor\" v-model=\"showEcliptic\" @keyup.enter=\"showEcliptic = !showEcliptic\"\n            label=\"Ecliptic\" hide-details />\n            <v-checkbox :color=\"accentColor\" v-model=\"showAltAzGrid\" @keyup.enter=\"showAltAzGrid = !showAltAzGrid\"\n              label=\"Sky Grid\" hide-details />\n            <v-checkbox :color=\"accentColor\" v-model=\"showHorizon\" @keyup.enter=\"showHorizon = !showHorizon\"\n              label=\"Horizon/Sky\" hide-details />\n              <v-checkbox :color=\"accentColor\" v-model=\"showPlanetLabels\" @keyup.enter=\"showPlanetLabels = !showPlanetLabels\"\n              label=\"Planet Labels\" hide-details />\n              <v-checkbox :color=\"accentColor\" v-model=\"showConstellations\" @keyup.enter=\"showConstellations = !showConstellations\"\n              label=\"Constellations\" hide-details />\n\n          </div>\n        </div>\n        \n        <div id=\"planet-visibility-box\" class=\"collapsable-control control-icon-wrapper\">\n          <div class=\"controls-top-row planet-visibility\">\n            <div class=\"planet-visibility-title\">Above Horizon</div>\n            <font-awesome-icon\n              size=\"lg\"\n              class=\"tab-focusable\"\n              :color=\"accentColor\"\n              :icon=\"showPlanetVisiblity ? `chevron-down` : `chevron-up`\"\n              @click=\"showPlanetVisiblity = !showPlanetVisiblity\" \n              @keyup.enter=\"showPlanetVisiblity = !showPlanetVisiblity\"\n              tabindex=\"0\" />\n          </div>\n          <!-- {{ planetIsVisible(SolarSystemObjects.sun, dateTime,  selectedLocation) }} -->\n          <div v-if=\"showPlanetVisiblity\" id=\"planet-visibility-label\">\n            <p :class=\"['planet-label','sun', sunVis ? '' : 'not-visible' ]\"><v-icon>mdi-weather-sunny</v-icon> Sun</p>\n            <p :class=\"['planet-label', mercuryVis ? '' : 'not-visible' ]\"><v-icon>mdi-eye-outline</v-icon> Mercury</p>\n            <p :class=\"['planet-label', venusVis   ? '' : 'not-visible' ]\"><v-icon>mdi-eye-outline</v-icon> Venus</p>\n            <p :class=\"['planet-label', marsVis    ? '' : 'not-visible' ]\"><v-icon>mdi-eye-outline</v-icon> Mars</p>\n            <p :class=\"['planet-label', jupiterVis ? '' : 'not-visible' ]\"><v-icon>mdi-eye-outline</v-icon> Jupiter</p>\n            <p :class=\"['planet-label', saturnVis  ? '' : 'not-visible' ]\"><v-icon>mdi-eye-outline</v-icon> Saturn</p>\n            <p :class=\"['planet-label', uranusVis  ? '' : 'not-visible' ]\"><v-icon>mdi-binoculars</v-icon> Uranus</p>\n            <p :class=\"['planet-label', neptuneVis ? '' : 'not-visible' ]\"><v-icon>mdi-telescope</v-icon> Neptune</p>\n          </div>\n        </div>\n      </div>\n    </div>\n\n\n    <!-- This block contains the elements (e.g. the project icons) displayed along the bottom of the screen -->\n\n    <div id=\"bottom-content\">\n      <div id=\"date-picker\">\n        <v-overlay \n          v-model=\"datePickerOpen\"\n          activator=\"parent\"\n          location-strategy=\"connected\"\n          location=\"top end\"\n          origin=\"bottom end\"\n          :scrim=\"false\"\n          :style=\"cssVars\"\n        >\n        <template #activator=\"{props}\">\n          <!-- any props added are passed directly to v-card -->\n          <v-card \n            v-bind=\"props\"\n            class=\"td__card\"\n            width=\"fit-content\"\n            rounded=\"lg\"\n            tabindex=\"0\"\n            @keyup.enter=\"props.onClick\"\n            >\n            <time-display class=\"bsn__time\" :date=\"localSelectedDate\" ampm :short-time-date=\"true\" show-timezone :timezone=\"shortTimezone\" />\n            <v-icon v-if=\"!(smAndDown || mobile)\" class=\"td__icon\"  >mdi-cursor-default-click</v-icon>\n          </v-card>\n        </template>\n          <v-card ref=\"dtpCard\" tabindex=\"0\" width=\"fit-content\" elevation=\"5\">\n            <v-icon tabindex=\"0\" class=\"dtp-close-button\" @click=\"datePickerOpen=false\" @keyup.enter=\"datePickerOpen=false\" :color=\"accentColor\" size=\"18\">mdi-close</v-icon>\n            <date-time-picker tabindex=\"0\" v-model=\"localSelectedDate\" :editable-time=\"true\">\n              <!-- <button class=\"dtp__button\" @click=\"() => {playbackControl.pause(); set9pm(); goToTCrB()}\" name=\"set-9pm\" aria-label=\"Set time to 9pm\">9pm</button>\n              <button class=\"dtp__button\" @click=\"() => {playbackControl.pause(); setMidnight(); goToTCrB()}\" name=\"set-midnight\" aria-label=\"Set time to Midnight\">Midnight</button>-->\n              <button class=\"dtp__button\" @click=\"() => {selectedTime = Date.now()}\" name=\"set-now\" aria-label=\"Set time to Now\">Now</button> \n            </date-time-picker>\n          </v-card>\n        </v-overlay>\n      </div>\n      \n      <!-- eslint-disable-next-line vue/no-v-model-argument -->\n      <speed-control v-model:playing=\"playing\" \n        :store=\"store\"\n        :color=\"accentColor\" \n        :defaultRate=\"1000\"\n        :useInline=\"xs\"\n        :maxSpeed=\"10000\"\n        show-text\n        @reset=\"() => {\n          selectedTime = Date.now();\n          wwtStats.timeResetCount += 1;\n        }\"\n        @update:reverse=\"(_reverse: boolean) => {\n          wwtStats.reverseCount += 1;\n        }\"\n        @update:playing=\"(_playing: boolean) => {\n          wwtStats.playPauseCount += 1;\n        }\"\n        @slow-down=\"(rate: number) => {\n          wwtStats.slowdowns.push(rate);\n        }\"\n        @speed-up=\"(rate: number) => {\n          wwtStats.speedups.push(rate);\n        }\"\n        @set-rate=\"(rate: number) => {\n          wwtStats.rateSelections.push(rate);\n        }\"\n        />\n      <div id=\"change-flags\">\n        <icon-button\n          md-icon=\"mdi-information-outline\"\n          @activate=\"() => inIntro = true\"\n          :color=\"accentColor\"\n          :focus-color=\"accentColor\"\n          tooltip-text=\"Show Quick Start Guide\"\n          tooltip-location=\"bottom\"\n          tooltip-offset=\"5px\"\n          :show-tooltip=\"!mobile\"\n          mdSize=\"1.2em\"\n        >\n        </icon-button>\n        <icon-button\n          md-icon=\"mdi-lock\"\n          @activate=\"() => showPrivacyDialog = true\"\n          :color=\"accentColor\"\n          :focus-color=\"accentColor\"\n          tooltip-text=\"Change privacy settings\"\n          tooltip-location=\"bottom\"\n          tooltip-offset=\"5px\"\n          :show-tooltip=\"!mobile\"\n          mdSize=\"1.2em\"\n        >\n        </icon-button>\n      </div>\n      <div id=\"body-logos\" v-if=\"!smallSize\">\n        <credit-logos\n          :default-logos=\"['cosmicds', 'wwt', 'sciact', 'nasa']\"\n        />\n      </div>\n    </div>\n\n\n    <!-- This dialog contains the video that is displayed when the video icon is clicked -->\n\n    <v-dialog\n      id=\"video-container\"\n      v-model=\"showVideoSheet\"\n      transition=\"slide-y-transition\"\n      fullscreen\n    >\n      <div class=\"video-wrapper\">\n        <font-awesome-icon\n          id=\"video-close-icon\"\n          class=\"close-icon\"\n          icon=\"times\"\n          size=\"lg\"\n          @click=\"showVideoSheet = false\"\n          @keyup.enter=\"showVideoSheet = false\"\n          tabindex=\"0\"\n        ></font-awesome-icon>\n        <video\n          controls\n          id=\"info-video\"\n        >\n          <source src=\"CosmicDS Planet Parade Overhead View.mp4\" type=\"video/mp4\">\n        </video>\n      </div>\n    </v-dialog>\n\n    <!-- Data collection opt-out dialog -->\n    <v-dialog\n      scrim=\"false\"\n      v-model=\"showPrivacyDialog\"\n      max-width=\"400px\"\n      id=\"privacy-popup-dialog\"\n    >\n      <v-card>\n        <v-card-text>\n          To evaluate usage of this app, <strong>anonymized</strong> data may be collected, including locations searched or selected on map. Places selected via geolocation services on your device are NOT collected.\n        </v-card-text>\n        <v-card-actions class=\"pt-3\">\n          <v-spacer></v-spacer>\n          <v-btn\n            color=\"#BDBDBD\"\n            href=\"https://www.cfa.harvard.edu/privacy-statement\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n          Privacy Policy\n          </v-btn>\n          <v-btn\n            color=\"#ff6666\"\n            @click=\"() => {\n              responseOptOut = true;\n              showPrivacyDialog = false;\n            }\"\n          >\n          Opt out\n          </v-btn>\n          <v-btn \n            color=\"green\"\n            @click=\"() => {\n              responseOptOut = false;\n              showPrivacyDialog = false;\n            }\"\n          >\n            Allow\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n\n\n    <!-- This dialog contains the informational content that is displayed when the book icon is clicked -->\n\n    <v-dialog\n      :style=\"cssVars\"\n      class=\"bottom-sheet\"\n      id=\"text-bottom-sheet\"\n      hide-overlay\n      persistent\n      no-click-animation\n      absolute\n      width=\"100%\"\n      :scrim=\"false\"\n      location=\"bottom\"\n      v-model=\"showTextSheet\"\n      transition=\"dialog-bottom-transition\"\n      :retain-focus=\"!showRating\"\n    >\n      <v-card height=\"100%\">\n        <v-tabs\n          v-model=\"tab\"\n          height=\"32px\"\n          :color=\"accentColor\"\n          :slider-color=\"accentColor\"\n          id=\"tabs\"\n          dense\n        >\n          <v-tab class=\"info-tabs\" tabindex=\"0\"><h3>Information</h3></v-tab>\n          <v-tab class=\"info-tabs\" tabindex=\"0\"><h3>Using WWT</h3></v-tab>\n        </v-tabs>\n        <font-awesome-icon\n          id=\"close-text-icon\"\n          class=\"control-icon\"\n          icon=\"times\"\n          size=\"lg\"\n          @click=\"showTextSheet = false\"\n          @keyup.enter=\"showTextSheet = false\"\n          tabindex=\"0\"\n        ></font-awesome-icon>\n        <v-window v-model=\"tab\" id=\"tab-items\" class=\"pb-2 no-bottom-border-radius\">\n          <v-window-item>\n            <v-card class=\"no-bottom-border-radius scrollable\">\n              <v-card-text class=\"info-text no-bottom-border-radius\">\n                <h3>What is the planet parade?</h3>\n                <p>\n                  During February 2025, seven planets&#8212;Mercury, Saturn, Neptune, Venus, Uranus, Jupiter, and Mars&#8212;will be visible in the night sky all at once! \n                </p>\n                <p> \n                  Which planets will be visible to your eye depends on how dark your night sky is. For most of the month, from a reasonably dark, clear sky, you should be able to see four of the seven planets (Saturn, Venus, Jupiter, and Mars) by eye. Uranus and Neptune will also be up, but you will likely need binoculars or a small telescope to see them.\n                </p> \n                <p>\n                  At the end of February, Mercury, which is usually difficult to spot, will move far enough away from the Sun to also become visible.\n                </p>\n                <h3>Cool! How do I see the planet parade?</h3>\n                <p>\n                  The best time to see the planet parade will be shortly after it gets dark, maybe 20-30 minutes after sunset. In the Northern Hemisphere, you'll want a clear view towards the southern half of the sky, from west to east. \n                </p>\n                <p>\n                  You can use this resource to simulate the planet parade where you are.\n                </p>\n                <ul>\n                  <li>Click <font-awesome-icon class=\"bullet-icon\" icon=\"location-dot\"/> in the top-center of the view and choose your location. (The default location is Cambridge, MA.)</li>\n                  <li>The display defaults to the current day just before sunset. Use the time controls to advance time until just after sunset.</li>\n                  <li>\n                    If <span style=\"color: var(--accent-color)\">Horizon/Sky</span> is checked, you can see the Sun rise above the horizon in the morning and set in the evening. The sky will lighten and darken with the Sun's changing position. \n                  </li>\n                  <li>\n                    Display the cardinal directions in the view to help orient yourself by checking <span style=\"color: var(--accent-color)\">Sky Grid</span>.\n                  </li>\n                </ul>\n                <h3>How do I find my way around the sky?</h3>\n                <p>\n                  Here are some tips for finding the planets in the sky from the Northern Hemisphere.\n                </p>\n                <ul>\n                  <li>\n                    Venus is the brightest planet and should be easiest to spot above the western horizon.\n                  </li>\n                  <li>\n                    Once you've found Venus, look down toward the horizon to find Saturn.\n                  </li>\n                  <li>\n                     Imagine a line between Saturn and Venus that points along a big arc towards Jupiter (which is above and to the right of Orion).\n                  </li>\n                  <li> \n                    Keep following that path to a bright, red object, which is Mars.\n                  </li>\n                  <li>\n                    Mercury's position will change throughout the month, but it will be near the horizon, close to Venus and Saturn.\n                  </li>\n                </ul> \n                <h3>What is the significance of the planet parade?</h3>\n                <p>\n                  The planet parade happens when all the planets happen to be on the same side of their orbits around the Sun as Earth, so they all are on Earth's night-time side. (When a planet is on the opposite side of the Sun during Earth, that means it is up in the sky during the day when the Sun outshines it.) \n                </p>\n                <p>\n                  <strong>The planets are not really all in a line.</strong> It only appears that way from Earth because Earth and the other planets all orbit the Sun in roughly the same plane (as if they were on a vinyl record). From Earth's point of view, all the other solar system objects appear to move along a circular path around the sky, which ancient astronomers called the \"ecliptic.\" The <span style=\"color: var(--accent-color)\">Ecliptic</span> is displayed as a purple or magenta path in the virtual sky. \n                </p>\n                <p>\n                  Click <font-awesome-icon class=\"bullet-icon\" icon=\"video\" style=\"color: #f4ba3e\" /> in the upper left to watch a (silent) video showing an overhead view of the planets and how their positions lead to the planet parade.\n                </p>\n                <h3>What else can I do to learn more?</h3>\n                <p>\n                  Take your own images of the planets using <strong><a href=\"https://mo-www.cfa.harvard.edu/OWN/todays_solar_system.html#SS\" target=\"_blank\" rel=\"noopener noreferrer\">MicroObservatory's Observing With NASA</a></strong> program!\n                </p>\n                <h3>Will the planets be this big in my sky?</h3>\n                <p>\n                  Unfortunately, no. In this visualization, we scaled up the size of the solar system objects so you would be able to see them when zoomed out to a large swath of sky. In reality, the planets will appear in the sky as points of light (or very small disks through binoculars or a telescope).\n                </p>\n                <v-spacer class=\"end-spacer\"></v-spacer>\n              </v-card-text>\n            </v-card>\n          </v-window-item>\n          <v-window-item>\n            <v-card class=\"no-bottom-border-radius scrollable\">\n              <v-card-text class=\"info-text no-bottom-border-radius\">\n                <v-container>\n                  <v-row align=\"center\">\n                  <v-col cols=\"4\">\n                      <v-chip\n                        label\n                        outlined\n                      >\n                        Pan\n                      </v-chip>\n                    </v-col>\n                    <v-col cols=\"8\" class=\"pt-1\">\n                      <strong>{{ touchscreen ? \"press + drag\" : \"click + drag\" }}</strong>  {{ touchscreen ? \":\" : \"or\" }}  <strong>{{ touchscreen ? \":\" : \"W-A-S-D\" }}</strong> {{ touchscreen ? \":\" : \"keys\" }}<br>\n                    </v-col>\n                  </v-row>\n                  <v-row align=\"center\">\n                    <v-col cols=\"4\">\n                      <v-chip\n                        label\n                        outlined\n                      >\n                        Zoom\n                      </v-chip>\n                    </v-col>\n                    <v-col cols=\"8\" class=\"pt-1\">\n                      <strong>{{ touchscreen ? \"pinch in and out\" : \"scroll in and out\" }}</strong> {{ touchscreen ? \":\" : \"or\" }} <strong>{{ touchscreen ? \":\" : \"I-O\" }}</strong> {{ touchscreen ? \":\" : \"keys\" }}<br>\n                    </v-col>\n                  </v-row>\n                  <v-row>\n                    <v-col cols=\"12\">\n                      <div class=\"credits\">\n                      <h3>Credits:</h3>\n                      <h4><a href=\"https://www.cosmicds.cfa.harvard.edu/\" target=\"_blank\" rel=\"noopener noreferrer\">CosmicDS</a> Vue Data Stories Team:</h4>\n                      Jon Carifio<br>\n                      Pat Udomprasert<br>\n                      John Lewis<br>\n                      Alyssa Goodman<br>\n                      Mary Dussault<br>\n                      Harry Houghton<br>\n                      Evaluator: Sue Sunbury<br>\n                      <br>\n                      <h4>WorldWide Telescope Team:</h4>\n                      Peter Williams<br>\n                      A. David Weigel<br>\n                      Jon Carifio<br>\n                      </div>\n                      <v-spacer class=\"end-spacer\"></v-spacer>\n                    </v-col>\n                  </v-row>\n                  <v-row>\n                    <v-col>\n                      <funding-acknowledgement/>\n                    </v-col>\n                  </v-row>\n                </v-container>              \n              </v-card-text>\n            </v-card>\n          </v-window-item>\n        </v-window>\n      </v-card>\n    </v-dialog>\n\n  <v-container>\n    <v-expand-transition>\n      <user-experience\n        v-hide=\"true\"\n        :question=\"question\"\n        icon-size=\"3x\"\n        @dismiss=\"(_rating: UserExperienceRating | null, _comments: string | null) => {\n          showRating = false;\n        }\"\n        @rating=\"(rating: UserExperienceRating | null) => {\n          currentRating = rating;\n          updateUserExperienceInfo(currentRating, currentComments);\n        }\"\n        @finish=\"(rating: UserExperienceRating | null, comments: string | null) => {\n          currentRating = rating;\n          currentComments = comments;\n          updateUserExperienceInfo(currentRating, currentComments)\n          showRating = false;\n        }\"\n      >\n        <template #footer>\n          <v-btn\n            class=\"privacy-button\"\n            color=\"#BDBDBD\"\n            href=\"https://www.cfa.harvard.edu/privacy-statement\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n          Privacy Policy\n          </v-btn>\n        </template>\n      </user-experience>\n      </v-expand-transition>\n  </v-container>\n  </div>\n</v-app>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, reactive, computed, markRaw, onMounted, nextTick, watch } from \"vue\";\nimport { Color, Grids, Planets, Settings, WWTControl, AstroCalc } from \"@wwtelescope/engine\";\nimport { SolarSystemObjects } from \"@wwtelescope/engine-types\";\nimport { engineStore } from \"@wwtelescope/engine-pinia\";\nimport { BackgroundImageset, LocationDeg, skyBackgroundImagesets, supportsTouchscreen, blurActiveElement, useWWTKeyboardControls, API_BASE_URL, D2R } from \"@cosmicds/vue-toolkit\";\nimport { useDisplay } from \"vuetify\";\nimport { v4 } from \"uuid\";\n\nimport { useTimezone } from \"./timezones\";\nimport { horizontalToEquatorial, skyOpacityForSunAlt, getJulian, equatorialToHorizontal, type UserExperienceRating } from \"./utils\";\nimport { resetAltAzGridText, makeAltAzGridText, drawPlanets, renderOneFrame, drawEcliptic, drawSkyOverlays } from \"./wwt-hacks\";\nimport { MapBoxFeature, MapBoxFeatureCollection, geocodingInfoForSearch, textForLocation } from \"@cosmicds/vue-toolkit/src/mapbox\";\n// import { useGeolocation } from \"@cosmicds/vue-toolkit\";\nimport { useSun } from './useSun';\n\nconst STORY_DATA_URL = `${API_BASE_URL}/planet-parade/data`;\nconst STORY_RATING_URL = `${API_BASE_URL}/stories/user-experience/planet-parade`;\n\nconst UUID_KEY = \"eclipse-mini-uuid\" as const;\nconst OPT_OUT_KEY = \"eclipse-mini-optout\" as const;\nconst SKIP_INTRO_CONTENT_KEY = \"skip-intro-content\" as const;\nconst maybeUUID = window.localStorage.getItem(UUID_KEY);\nconst storedOptOut = window.localStorage.getItem(OPT_OUT_KEY);\nconst skipIntroContent = window.localStorage.getItem(SKIP_INTRO_CONTENT_KEY)?.toLowerCase() === \"true\";\nconst existingUser = maybeUUID !== null;\nconst uuid = maybeUUID ?? v4();\nconst question = Math.random() > 0.5 ? \n  \"Is this interesting?\" :\n  \"Are you learning something new?\";\nconst currentRating = ref<UserExperienceRating | null>(null);\nconst currentComments = ref<string | null>(null);\nif (!existingUser) {\n  window.localStorage.setItem(UUID_KEY, uuid);\n}\nlet infoTimeMs = 0;\nlet videoPlayingTimeMs = 0;\nlet videoPlaying = false;\nlet videoOpened = false;\nlet videoPlayed = false;\nlet appStartTimestamp = Date.now();\nlet infoStartTimestamp = null as number | null;\nlet videoPlayingStartTimestamp = null as number | null;\n\nlet userSelectedSearchLocations: [number, number][] = [];\nlet userSelectedMapLocations: [number, number][] = [];\n\ntype SheetType = \"text\" | \"video\";\nexport interface PlanetParadeProps {\n  wwtNamespace?: string;\n}\n\nconst store = engineStore();\n\nuseWWTKeyboardControls(store);\n\nconst touchscreen = supportsTouchscreen();\nconst { smAndDown, smAndUp, xs } = useDisplay();\n\nconst _props = withDefaults(defineProps<PlanetParadeProps>(), {\n  wwtNamespace: \"planet-parade\",\n});\n\nconst queryHideSplash = new URLSearchParams(window.location.search).get(\"splash\")?.toLowerCase() === \"false\";\nconst splash = !(queryHideSplash || skipIntroContent);\nconst showSplashScreen = ref(splash);\nconst backgroundImagesets = reactive<BackgroundImageset[]>([]);\nconst sheet = ref<SheetType | null>(null);\nconst layersLoaded = ref(false);\nconst positionSet = ref(false);\nconst accentColor = ref(\"#f4ba3e\");\nconst accentColor2 = ref(\"#6793ff\");\nconst buttonColor = ref(\"#f4ba3e\");\nconst tab = ref(0);\nconst showHorizon = ref(true);\nconst showAltAzGrid = ref(true);\nconst showEcliptic = ref(true);\nconst showLocationSelector = ref(false);\nconst playing = ref(false);\nconst showControls = ref(smAndUp.value);\nconst showConstellations = ref(false);\nconst showPlanetLabels = ref(true);\nconst inIntro = ref(false);\nconst showPrivacyDialog = ref(false);\nconst datePickerOpen = ref(false);\nconst skipIntroChecked = ref(skipIntroContent);\nconst showPlanetVisiblity = ref(true);\n\nconst wwtStats = markRaw({\n  timeResetCount: 0,\n  reverseCount: 0,\n  playPauseCount: 0,\n  speedups: [] as number[],\n  slowdowns: [] as number[],\n  rateSelections: [] as number[],\n  startTime: Date.now(),\n});\n\nconst optOut = typeof storedOptOut === \"string\" ? storedOptOut === \"true\" : null;\nconst responseOptOut = ref(optOut);\n\nconst showRating = ref(false);\n\nconst geocodingOptions = {\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  access_token: process.env.VUE_APP_MAPBOX_ACCESS_TOKEN ?? \"\", \n};\n\nconst selectedLocation = ref<LocationDeg>({\n  longitudeDeg: -71.1056,\n  latitudeDeg: 42.3581,\n});\nconst selectedLocationText = ref(\"\");\nupdateSelectedLocationText();\n\n// const { geolocation, geolocate} = useGeolocation();\n// function useGeolocated() {\n//   if (!geolocation.value) {return;}\n//   selectedLocation.value = { latitudeDeg: geolocation.value.latitude, longitudeDeg: geolocation.value.longitude };\n// }\n// watch(\n//   geolocation,\n//   (location) => {\n//     if (location) {\n//       selectedLocation.value = { latitudeDeg: location?.latitude, longitudeDeg: location?.longitude };\n//     }\n//   }\n// );\n\nconst searchErrorMessage = ref<string | null>(null);\nconst { selectedTimezoneOffset, shortTimezone, browserTimezoneOffset } = useTimezone(selectedLocation);\n\nconst selectedTime = ref(Date.now());\n\nconst { getTimeforSunAlt, getSunPositionAtTime } = useSun(store, selectedLocation, selectedTime, selectedTimezoneOffset);\n// faking localization because\n// <date-time-picker> and <time-display> are not timezone aware\nconst localSelectedDate = computed({\n  // if you console log this date it will still say the local timezone \n  // as determined by the browser Intl.DateTimeFormat().resolvedOptions().timeZone\n  // but we have manually offset it so the hours are correct for the selected timezone\n  get: () => {\n    const time = selectedTime.value;\n    const fakeUTC = time + browserTimezoneOffset;\n    return new Date(fakeUTC + selectedTimezoneOffset.value);\n  },\n  set: (value: Date) => {\n    // get local time\n    const time = value.getTime();\n    // undo fake localization\n    const newTime = time - selectedTimezoneOffset.value - browserTimezoneOffset;\n    selectedTime.value = new Date(newTime).getTime();\n  }\n});\n\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nconst wwtSettings: Settings = Settings.get_active();\n\nfunction doWWTModifications() {\n\n  Grids._makeAltAzGridText = makeAltAzGridText;\n  Grids.drawEcliptic = drawEcliptic;\n\n  // We need to render one frame ahead of time\n  // as there's a lot of setup done on the first frame\n  // render that we need to use\n  WWTControl.singleton.renderOneFrame();\n\n  const boundRenderOneFrame = renderOneFrame.bind(WWTControl.singleton);\n  const newFrameRender = function() { \n    boundRenderOneFrame(\n      showHorizon.value,\n      showHorizon.value,\n      showPlanetLabels.value,\n    );\n  };\n\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  WWTControl.singleton._drawSkyOverlays = drawSkyOverlays.bind(WWTControl.singleton);\n\n  // as well as our custom text overlays\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  WWTControl.singleton.renderOneFrame = newFrameRender;\n\n  const originalUpdatePlanetLocations = Planets.updatePlanetLocations;\n  const planetScales = [\n    8,  // Sun\n    1.25,  // Mercury\n    1.25,  // Venus\n    1.25,  // Mars\n    2.5,  // Jupiter\n    4.5,  // Saturn\n    2,  // Uranus\n    2,  // Neptune\n    1,  // Pluto\n    1.25,  // Moon\n  ];\n  function newUpdatePlanetLocations(threeD: boolean) {\n    originalUpdatePlanetLocations(threeD);\n    for (let i = 0; i <= SolarSystemObjects.moon; i++) {\n      Planets._planetScales[i] = planetScales[i];\n    }\n  }\n  Planets.updatePlanetLocations = newUpdatePlanetLocations;\n  Planets.drawPlanets = drawPlanets;\n\n  // Recall that zoom = 6 * FOV, in WWT\n  const maxFOV = 90;\n  WWTControl.singleton.set_zoomMax(maxFOV * 6);\n\n}\n\n\nfunction planetIsVisible(planetName, date: Date, location: LocationDeg) {\n  // Get planet position\n  const planetPos = AstroCalc.getPlanet(getJulian(date), planetName, location.latitudeDeg * D2R, location.longitudeDeg * D2R, 0);\n  // Convert to horizontal\n  const altAz = equatorialToHorizontal(planetPos.RA * 15 * D2R, planetPos.dec * D2R, location.latitudeDeg * D2R, location.longitudeDeg * D2R, date);\n  // Check if planet is above minimum altitude\n  return altAz.altRad > 0;\n}\n\nconst sunVis = computed(() => planetIsVisible(SolarSystemObjects.sun, dateTime.value, selectedLocation.value));\nconst mercuryVis = computed(() => planetIsVisible(SolarSystemObjects.mercury, dateTime.value, selectedLocation.value));\nconst venusVis = computed(() => planetIsVisible(SolarSystemObjects.venus, dateTime.value, selectedLocation.value));\nconst marsVis = computed(() => planetIsVisible(SolarSystemObjects.mars, dateTime.value, selectedLocation.value));\nconst jupiterVis = computed(() => planetIsVisible(SolarSystemObjects.jupiter, dateTime.value, selectedLocation.value));\nconst saturnVis = computed(() => planetIsVisible(SolarSystemObjects.saturn, dateTime.value, selectedLocation.value));\nconst uranusVis = computed(() => planetIsVisible(SolarSystemObjects.uranus, dateTime.value, selectedLocation.value));\nconst neptuneVis = computed(() => planetIsVisible(SolarSystemObjects.neptune, dateTime.value, selectedLocation.value));\n\nonMounted(() => {\n  store.waitForReady().then(async () => {\n    skyBackgroundImagesets.forEach(iset => backgroundImagesets.push(iset));\n\n    // If there are layers to set up, do that here!\n    layersLoaded.value = true;\n\n    const altTime = getTimeforSunAlt(2).setting;\n    if (altTime) {\n      selectedTime.value = altTime;\n    }\n    wwtStats.startTime = selectedTime.value;\n    setTimeout(() => resetCamera().then(() => positionSet.value = true), 300);\n\n    store.applySetting([\"localHorizonMode\", true]);\n    store.applySetting([\"altAzGridColor\", Color.fromArgb(180, 133, 201, 254)]);\n    store.applySetting([\"eclipticColor\", Color.fromArgb(255, 255, 0, 255)]);\n    store.applySetting([\"actualPlanetScale\", false]);\n    updateAltAzGrid(showAltAzGrid.value);\n    updateAltAzGridText(showAltAzGrid.value || showHorizon.value);\n    updateEcliptic(showEcliptic.value);\n    updateConstellations(showConstellations.value);\n    updateWWTLocation(selectedLocation.value);\n    store.setClockSync(false);\n    store.setClockRate(1800);\n\n    doWWTModifications();\n    // geolocate().then(() => {\n    //   console.log('got location');\n    //   useGeolocated(); \n    //   selectedTime.value = todayAt4pm.value;\n    //   resetCamera();\n    // });\n    \n    createUserEntry();\n    ratingDisplaySetup();\n\n    setInterval(() => {\n      if (playing.value) {\n        const time = store.currentTime;\n        selectedTime.value = time.getTime();\n      }\n      const sunPosition = getSunPositionAtTime(store.currentTime);\n      updateEclipticColor(sunPosition.altRad);\n    }, 500);\n\n    window.addEventListener(\"keyup\", (event: KeyboardEvent) => {\n      if ([\"Esc\", \"Escape\"].includes(event.key) && showVideoSheet.value) {\n        showVideoSheet.value = false;\n      }\n    });\n\n    window.addEventListener(\"visibilitychange\", () => {\n      if (document.visibilityState === \"hidden\") {\n        updateUserData();\n      } else {\n        resetData();\n      }\n    });\n  });\n});\n\nconst ready = computed(() => layersLoaded.value && positionSet.value);\n\n/* `isLoading` is a bit redundant here, but it could potentially have independent logic */\nconst isLoading = computed(() => !ready.value);\n\n// It doesn't really matter which one we note here\nconst inNorthernHemisphere = computed(() => selectedLocation.value.latitudeDeg > 0);\n\nconst dateTime = computed(() => new Date(selectedTime.value));\n\n/* Properties related to device/screen characteristics */\nconst smallSize = computed(() => smAndDown.value);\n\nconst mobile = computed(() => smallSize.value && touchscreen);\n\nconst xSmallSize = computed(() => xs.value);\n\n/* This lets us inject component data into element CSS */\nconst cssVars = computed(() => {\n  return {\n    \"--accent-color\": accentColor.value,\n    \"--accent-color2\": accentColor2.value,\n    \"--app-content-height\": showTextSheet.value ? \"66%\" : \"100%\",\n    // \"--rating-width\": smallSize.value ? \"40%\" : \"40%\",\n  };\n});\n\n\n/**\n  Computed flags that control whether the relevant dialogs display.\n  The `sheet` data member stores which sheet is open, so these are just\n  computed wrappers around modifying/querying that which can be used as\n  dialog v-model values\n*/\nconst showTextSheet = computed({\n  get() {\n    return sheet.value === \"text\";\n  },\n  set(_value: boolean) {\n    selectSheet(\"text\");\n  }\n});\n\nconst showVideoSheet = computed({\n  get() {\n    return sheet.value === \"video\";\n  },\n  set(value: boolean) {\n    selectSheet(\"video\");\n    if (!value) {\n      const video = document.querySelector(\"#info-video\") as HTMLVideoElement;\n      video.pause();\n    } else {\n      nextTick(() => {\n        const video = document.querySelector(\"#info-video\") as HTMLVideoElement;\n        video.addEventListener(\"play\", (_event: Event) => {\n          videoPlaying = true;\n          videoPlayingStartTimestamp = Date.now();\n          videoPlayed = true;\n        });\n\n        video.addEventListener(\"pause\", (_event: Event) => {\n          videoPlaying = false;\n          const now = Date.now();\n          if (videoPlayingStartTimestamp !== null) {\n            videoPlayingTimeMs += (now - videoPlayingStartTimestamp);\n            videoPlayingStartTimestamp = null;\n          }\n        });\n      });\n    }\n  }\n});\n\n/**\n  This is convenient if there's any other logic that we want to run\n  when the splash screen is closed\n*/\nfunction closeSplashScreen() {\n  showSplashScreen.value = false;\n}\n\nfunction selectSheet(sheetType: SheetType | null) {\n  if (sheet.value === sheetType) {\n    sheet.value = null;\n    nextTick(() => {\n      blurActiveElement();\n    });\n  } else {\n    sheet.value = sheetType;\n  }\n}\n\nfunction getTextForLocation(longitudeDeg: number, latitudeDeg: number): Promise<string> {\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  return textForLocation(longitudeDeg, latitudeDeg, geocodingOptions);\n}\n\nfunction setLocationFromFeature(feature: MapBoxFeature) {\n  selectedLocation.value = { longitudeDeg: feature.center[0], latitudeDeg: feature.center[1] };\n  getTextForLocation(feature.center[0], feature.center[1]).then(text => {\n    selectedLocationText.value = text;\n  }).catch(_err => {\n    searchErrorMessage.value = \"An error occurred while searching\";\n  });\n}\n\nfunction setLocationFromSearchFeature(feature: MapBoxFeature) {\n  setLocationFromFeature(feature);\n  userSelectedSearchLocations.push(feature.center);\n}\n\nasync function updateSelectedLocationText() {\n  selectedLocationText.value = await getTextForLocation(selectedLocation.value.longitudeDeg, selectedLocation.value.latitudeDeg);\n}\n\nfunction searchProvider(text: string): Promise<MapBoxFeatureCollection> {\n  return geocodingInfoForSearch(text, geocodingOptions);\n}\n\nfunction updateLocationFromMap(location: LocationDeg) {\n  selectedLocation.value = location;\n  userSelectedMapLocations.push([location.latitudeDeg, location.longitudeDeg]);\n}\n\nasync function ratingDisplaySetup() {\n  if (responseOptOut.value) {\n    return;\n  }\n\n  const existsResponse = await fetch(`${STORY_RATING_URL}/${uuid}`, {\n    method: \"GET\",\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    headers: { \"Authorization\": process.env.VUE_APP_CDS_API_KEY ?? \"\" }\n  });\n\n  // NB: If we want to ask multiple questions, this logic can be adjusted\n  const existsContent = await existsResponse.json();\n  const exists = existsResponse.status === 200 && existsContent.ratings?.length > 0;\n\n  if (exists) {\n    return;\n  }\n\n  setTimeout(() => {\n    showRating.value = true; \n  }, 40_000);\n}\n\nfunction updateUserExperienceInfo(rating: UserExperienceRating | null, comments: string | null) {\n  const body: Record<string, unknown> = {\n    uuid,\n    question,\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    story_name: \"planet-parade\",\n  };\n  if (rating) {\n    body.rating = rating;\n  }\n  if (comments) {\n    body.comments = comments;\n  }\n  fetch(STORY_RATING_URL, {\n    method: \"PUT\",\n    headers: {\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      \"Authorization\": process.env.VUE_APP_CDS_API_KEY ?? \"\",\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(body),\n  });\n}\n\nasync function createUserEntry() {\n  if (responseOptOut.value) {\n    return;\n  }\n\n  const response = await fetch(`${STORY_DATA_URL}/${uuid}`, {\n    method: \"GET\",\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    headers: { \"Authorization\": process.env.VUE_APP_CDS_API_KEY ?? \"\" },\n  });\n  const content = await response.json();\n  const exists = response.status === 200 && content.response?.user_uuid != undefined;\n  if (exists) {\n    return;\n  }\n\n  fetch(`${STORY_DATA_URL}`, {\n    method: \"PUT\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      \"Authorization\": process.env.VUE_APP_CDS_API_KEY ?? \"\",\n    },\n    body: JSON.stringify({\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      user_uuid: uuid,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      user_selected_search_locations: userSelectedSearchLocations,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      user_selected_map_locations: userSelectedMapLocations,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      app_time_ms: 0, info_time_ms: 0, video_time_ms: 0,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      video_opened: videoOpened, video_played: videoPlayed,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      wwt_time_reset_count: wwtStats.timeResetCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      wwt_reverse_count: wwtStats.reverseCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      wwt_play_pause_count: wwtStats.playPauseCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      wwt_speedups: wwtStats.speedups,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      wwt_slowdowns: wwtStats.slowdowns,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      wwt_rate_selections: wwtStats.rateSelections,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      wwt_start_stop_times: [wwtStats.startTime, selectedTime.value],\n    }),\n  });\n}\n\nfunction resetData() {\n  userSelectedMapLocations = [];\n  userSelectedSearchLocations = [];\n  infoTimeMs = 0;\n  videoPlayingTimeMs = 0;\n  const now = Date.now();\n  appStartTimestamp = now;\n  infoStartTimestamp = showTextSheet.value ? now : null;\n  videoPlayingStartTimestamp = videoPlaying ? now : null;\n  Object.assign(wwtStats, {\n    timeResetCount: 0,\n    reverseCount: 0,\n    playPauseCount: 0,\n    speedups: [],\n    slowdowns: [],\n    rateSelections: [],\n    startTime: selectedTime.value,\n  });\n}\n\nasync function updateUserData() {\n  if (responseOptOut.value) {\n    return;\n  }\n\n  const now = Date.now();\n  const infoTime = (showTextSheet.value && infoStartTimestamp !== null) ? now - infoStartTimestamp : infoTimeMs;\n  const videoTime = (videoPlaying && videoPlayingStartTimestamp !== null) ? now - videoPlayingStartTimestamp : videoPlayingTimeMs;\n\n  fetch(`${STORY_DATA_URL}/${uuid}`, {\n    method: \"PATCH\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      \"Authorization\": process.env.VUE_APP_CDS_API_KEY ?? \"\",\n    },\n    body: JSON.stringify({\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      user_selected_search_locations: userSelectedSearchLocations,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      user_selected_map_locations: userSelectedMapLocations,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_app_time_ms: now - appStartTimestamp,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_info_time_ms: infoTime,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_video_time_ms: videoTime,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      video_opened: videoOpened, video_played: videoPlayed,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_wwt_time_reset_count: wwtStats.timeResetCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_wwt_reverse_count: wwtStats.reverseCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_wwt_play_pause_count: wwtStats.playPauseCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      wwt_speedups: wwtStats.speedups,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      wwt_slowdowns: wwtStats.slowdowns,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      wwt_rate_selections: wwtStats.rateSelections,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      wwt_start_stop_times: [wwtStats.startTime, selectedTime.value],\n    }),\n    keepalive: true,\n  }).then(() => {\n    resetData();\n  });\n}\n\nasync function resetCamera(): Promise<void> {\n  const time = store.currentTime;\n\n  const latRad = selectedLocation.value.latitudeDeg * D2R;\n  const lonRad = selectedLocation.value.longitudeDeg * D2R;\n\n  const sunAltAz = getSunPositionAtTime(time);\n  const sunAz = sunAltAz.azRad;\n  const startAlt = smallSize.value ? 15 * D2R : 20 * D2R;\n  const startRADec = horizontalToEquatorial(\n    startAlt,\n    sunAz,\n    latRad,\n    lonRad,\n    time,\n  );\n\n  return store.gotoRADecZoom({\n    raRad: startRADec.raRad,\n    decRad: startRADec.decRad,\n    zoomDeg: 360,\n    instant: true,\n  });\n  \n}\n\nfunction updateWWTLocation(location: LocationDeg) {\n  wwtSettings.set_locationLat(location.latitudeDeg);\n  wwtSettings.set_locationLng(location.longitudeDeg);\n}\n\nfunction updateAltAzGrid(show: boolean) {\n  store.applySetting([\"showAltAzGrid\", show]);\n}\n\nfunction updateAltAzGridText(show: boolean) {\n  store.applySetting([\"showAltAzGridText\", show]);\n}\n\nfunction updateEcliptic(show: boolean) {\n  store.applySetting([\"showEcliptic\", show]);\n  // store.applySetting([\"showEclipticOverviewText\", show]);\n}\n\nfunction updateEclipticColor(sunAlt: number) {\n  const opacity = skyOpacityForSunAlt(sunAlt);\n  const component = 255 - opacity * (255 - 119);\n  const color = Color.fromArgb(255, component, 0, component);\n  store.applySetting([\"eclipticColor\", color]);\n}\n\nfunction updateConstellations(show: boolean) {\n  store.applySetting([\"showConstellationFigures\", show]);\n  store.applySetting([\"showConstellationLabels\", show]);\n}\n\nwatch(selectedLocation, (location: LocationDeg) => {\n  console.log('selectedLocation changed', location);\n  updateSelectedLocationText();\n  updateWWTLocation(location);\n  resetCamera();\n  WWTControl.singleton.renderOneFrame();\n});\n\n// watch(selectedTime, (value: number) => {\n//   console.log(value);});\nwatch(playing, (play: boolean) => {\n  store.setClockSync(play);\n});\n\nwatch(showAltAzGrid, (show: boolean) => {\n  updateAltAzGrid(show);\n  updateAltAzGridText(show || showHorizon.value);\n});\nwatch(showEcliptic, updateEcliptic);\nwatch(showConstellations, updateConstellations);\nwatch(showHorizon, (show: boolean) => {\n  updateAltAzGridText(show || showAltAzGrid.value);\n});\n\nwatch(dateTime, (dt: Date) => {\n  store.setTime(dt);\n});\n\nwatch(skipIntroChecked, (checked: boolean) => {\n  window.localStorage.setItem(SKIP_INTRO_CONTENT_KEY, String(checked));\n});\n\nwatch(showTextSheet, (show: boolean) => {\n  const now = Date.now();\n  if (show) {\n    infoStartTimestamp = now; \n  } else if (infoStartTimestamp !== null) {\n    infoTimeMs += (now - infoStartTimestamp);\n    infoStartTimestamp = null;\n  }\n});\n\nwatch(showVideoSheet, (show: boolean) => {\n  if (show) {\n    videoOpened = true;\n  }\n});\n\nwatch(inNorthernHemisphere, (_inNorth: boolean) => resetAltAzGridText());\n\nwatch(showSplashScreen, (show: boolean) => {\n  if (!show) {\n    inIntro.value = true;\n  }\n});\n\nwatch(inIntro, (intro: boolean) => {\n  if (!intro) {\n    if (!showSplashScreen.value && responseOptOut.value === null) {\n      showPrivacyDialog.value = true;\n    }\n  }\n});\n\nwatch(responseOptOut, (optOut: boolean | null) => {\n  if (optOut !== null) {\n    window.localStorage.setItem(OPT_OUT_KEY, String(optOut));\n  }\n});\n</script>\n\n<style lang=\"less\">\n@font-face {\n  font-family: \"Highway Gothic Narrow\";\n  src: url(\"./assets/HighwayGothicNarrow.ttf\");\n}\n\n:root {\n  --default-font-size: clamp(0.7rem, min(1.7vh, 1.7vw), 1.1rem);\n  --default-line-height: clamp(1rem, min(2.2vh, 2.2vw), 1.6rem);\n}\n\nhtml {\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  background-color: #000;\n  overflow: hidden;\n\n  \n  -ms-overflow-style: none;\n  // scrollbar-width: none;\n}\n\nbody {\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  overflow: hidden;\n\n  font-family: Verdana, Arial, Helvetica, sans-serif;\n}\n\n#main-content {\n  position: fixed;\n  width: 100%;\n  height: var(--app-content-height);\n  overflow: hidden;\n\n  transition: height 0.1s ease-in-out;\n}\n\n#app {\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  overflow: hidden;\n  font-size: 11pt;\n\n  .wwtelescope-component {\n    position: absolute;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    border-style: none;\n    border-width: 0;\n    margin: 0;\n    padding: 0;\n  }\n}\n\n\n.fade-enter-active,\n.fade-leave-active {\n  transition: opacity 0.3s;\n}\n.fade-enter,\n.fade-leave-to {\n  opacity: 0;\n}\n\n.modal {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  width: 100%;\n  height: 100%;\n  z-index: 100;\n  color: #fff;\n  background-color: rgba(0, 0, 0, 0.7);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n#modal-loading {\n  background-color: #000;\n  .container {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n    .spinner {\n      background-image: url(\"https://projects.cosmicds.cfa.harvard.edu/cds-website/misc/lunar_loader.gif\");\n      background-repeat: no-repeat;\n      background-size: contain;\n      width: 3rem;\n      height: 3rem;\n    }\n    p {\n      margin: 0 0 0 1rem;\n      padding: 0;\n      font-size: 150%;\n    }\n  }\n}\n\np {\n  margin-block: 10px;\n}\n\nli {\n  margin-left: 20px;\n  margin-block: 8px;\n}\n\n#top-content {\n  position: absolute;\n  top: 1rem;\n  left: 1rem;\n  width: calc(100% - 2rem);\n  pointer-events: none;\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n}\n\n#left-buttons {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n}\n\n#center-buttons {\n  position: absolute;\n  top: 0;\n  left: 50%;\n  transform: translateX(-50%);\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  gap: 1rem;\n  \n  #my-location-label {\n    background-color: #ccc;\n    padding-inline: 5px;\n    padding-block: 2px;\n    border-radius: 1em;\n    color: black;\n    font-size: var(--default-font-size);\n    pointer-events: auto;\n    cursor:pointer\n  }\n  \n  #my-location-label:hover {\n    filter: drop-shadow(0 0 2px white;)\n  }\n}\n\n#right-buttons {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  align-items: flex-end;\n  height: auto;\n}\n\n.collapsable-control {\n  pointer-events: auto;\n\n  background: black;\n  padding-block: 0.5em;\n  padding-right: 0.5em;\n  border-radius: 5px;\n  border: solid 1px var(--accent-color);\n  display: flex;\n  flex-direction: column;\n  pointer-events: auto;\n\n  .v-label {\n    color: var(--accent-color);\n    opacity: 1;\n    font-size: var(--default-font-size);\n  }\n\n  #control-checkboxes {\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    // padding-left: calc(0.5 * var(--default-line-height));\n\n    .v-checkbox .v-selection-control {\n      font-size: calc(1.1 * var(--default-font-size));\n      height: calc(1.2 * var(--default-line-height));\n      min-height: calc(1.2 * var(--default-line-height));\n    }\n    \n    .v-selection-control .v-label {\n      white-space: nowrap;\n    }\n\n    .v-checkbox .v-selection-control__input {\n      width: calc(1.2 * var(--default-line-height));\n      height: calc(1.2 * var(--default-line-height));\n    }\n\n    .v-checkbox .v-selection-control__wrapper {\n      width: calc(1.2 * var(--default-line-height));\n      height: calc(1.2 * var(--default-line-height));\n    }\n\n    .v-btn {\n      align-self: center;\n      padding-left: 5px;\n      padding-right: 5px;\n      border: solid 1px #899499;\n\n      &:focus {\n        border: 2px solid white;\n      }\n    }\n\n    .v-btn__content {\n      color: black;\n      font-weight: 900;\n      white-space: break-spaces;\n      width: 150px;\n    }\n  }\n  \n  .controls-top-row {\n    padding-left: 0.5em;\n    display: flex;\n    width: 100%;\n    flex-direction: row;\n    justify-content: flex-end;\n  }\n}\n\n#planet-visibility-box {\n  color: var(--accent-color);\n  font-size: calc(1.1 * var(--default-font-size));\n  \n  .controls-top-row.planet-visibility {\n    justify-content: space-between;\n  }\n  \n  .planet-visibility-title {\n    // flex-basis: 12ch;\n    line-height: calc(1 * var(--default-line-height));\n    margin-bottom: 5px;\n    margin-right: 5px;\n  }\n  \n  #planet-visibility-label {\n      \n    p.planet-label {\n      font-size: var(--default-font-size);\n      margin: 0;\n      margin-left: 0.5em;\n      line-height: calc(1 * var(--default-line-height));\n      transition: color 0.3s;\n    }\n    \n    .sun {\n      color: rgb(232, 232, 59);\n      font-weight: bold;\n    }\n\n    p.planet-label.not-visible {\n      color: #333;\n    }\n  }\n}\n\n#bottom-content {\n  display: flex;\n  flex-direction: row;\n  position: absolute;\n  bottom: 1rem;\n  right: 1rem;\n  width: calc(100% - 2rem);\n  pointer-events: none;\n  align-items: center;\n  gap: 5px;\n  justify-content: center;\n}\n\n// vuetify smAndDown\n@media ( max-width: 960px ) {\n  #bottom-content {\n    align-items: flex-start;\n  }\n  #date-picker {\n    margin-block: 0;\n  }\n  \n  .td__container.bsn__time {\n    margin-block: 0.25em !important;\n  }\n}\n\n@media (max-width: 600px) {\n  #bottom-content {\n    flex-direction: column;\n    align-items: center;\n    gap: 1rem;\n  }\n}\n\n// From Sara Soueidan (https://www.sarasoueidan.com/blog/focus-indicators/) & Erik Kroes (https://www.erikkroes.nl/blog/the-universal-focus-state/)\n:focus-visible:not(.v-overlay__content, .v-field__input input),\nbutton:focus-visible,\n.focus-visible,\n.v-selection-control--focus-visible .v-selection-control__input,\n#intro-window-close-button:focus-visible {\n  outline: 9px double white !important;\n  box-shadow: 0 0 0 6px black !important;\n  border-radius: .125rem;\n}\n\n.video-wrapper {\n  height: 100%;\n  background: black;\n  text-align: center;\n  z-index: 1000;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  #video-close-icon {\n    position: absolute;\n    top: 10px;\n    right: 10px;\n    z-index: 15;\n    \n    &:hover {\n      cursor: pointer;\n    }\n\n    &:focus {\n      color: white;\n      border: 2px solid white;\n    }\n  }\n}\n\nvideo {\n  // height: 100%;\n  // width: auto;\n  // max-width: 100%;\n  object-fit: contain;\n}\n\n#info-video {\n  // position: absolute;\n  // top: 0;\n  // left: 0;\n  width: 95%;\n  height: auto;\n  max-width: 100%;\n  overflow: hidden;\n  padding: 0px;\n  z-index: 10;\n  border: 1px solid white;\n}\n\n#introduction-overlay {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.info-card {\n  height: fit-content;\n  padding-inline: 30px !important;\n  padding-block: 20px !important;\n  max-width: 500px;\n\n  @media (max-width: 600px) {\n    width: 95%;\n  }\n\n  @media (min-width: 600px) {\n    width: 80%;\n  }\n}\n\n.bottom-sheet {\n  .v-overlay__content {\n    align-self: flex-end;\n    padding: 0;\n    margin: 0;\n    max-width: 100%;\n    height: 34%;\n  }\n\n  #tabs {\n    width: calc(100% - 3em);\n    align-self: left;\n  }\n  \n  .info-text {\n    height: 33vh;\n    padding-bottom: 25px;\n  \n    & a {\n      text-decoration: none;\n    }\n\n    & h3 {\n      margin-top: 20px;\n      margin-bottom: 6px;\n      color: var(--accent-color);\n    }\n  }\n  \n  .close-icon {\n    position: absolute;\n    top: 10px;\n    right: 10px;\n    z-index: 15;\n  \n    &:hover {\n      cursor: pointer;\n    }\n  \n    &:focus {\n      color: white;\n      border: 2px solid white;\n    }\n  }\n  \n  .scrollable {\n    overflow-y: auto;\n  }\n  \n  #tab-items {\n    // padding-bottom: 2px !important;\n  \n    .v-card-text {\n      font-size: ~\"max(14px, calc(0.7em + 0.3vw))\";\n      padding-top: ~\"max(2vw, 16px)\";\n      padding-left: ~\"max(4vw, 16px)\";\n      padding-right: ~\"max(4vw, 16px)\";\n  \n      .end-spacer {\n        height: 25px;\n      }\n    }\n  \n  }\n  \n  #close-text-icon {\n    position: absolute;\n    top: 0.25em;\n    right: calc((3em - 0.6875em) / 3); // font-awesome-icons have width 0.6875em\n    color: white;\n  }\n\n  // This prevents the tabs from having some extra space to the left when the screen is small\n  // (around 400px or less)\n  .v-tabs:not(.v-tabs--vertical).v-tabs--right>.v-slide-group--is-overflowing.v-tabs-bar--is-mobile:not(.v-slide-group--has-affixes) .v-slide-group__next, .v-tabs:not(.v-tabs--vertical):not(.v-tabs--right)>.v-slide-group--is-overflowing.v-tabs-bar--is-mobile:not(.v-slide-group--has-affixes) .v-slide-group__prev {\n    display: none;\n  }\n\n}\n\n.map-container {\n  @media (max-width: 600px) {\n    width: 90vw;\n    height: 70vh;\n  }\n\n@media (min-width: 601px) {\n    width: 70vw;\n    height: 60vh;\n  }\n}\n\n#geolocation-close {\n  position: absolute;\n  top: 1rem;\n  right: 1rem;\n  z-index: 1000;\n}\n\n#geolocation-controls {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  align-items: center;\n  position: absolute;\n  width: 350px;\n  bottom: 1rem;\n  right: 1rem;\n  z-index: 1000;\n  gap: 5px;\n\n  .location-search {\n    flex-grow: 1;\n  }\n\n  @media (max-width: 600px) {\n    width: 300px;\n  }\n}\n\n#geolocation-wrapper\\+location .v-btn {\n  background-color: black;\n}\n\n#slider {\n  display: flex;\n  flex-direction: row;\n  flex-grow: 1;\n  gap: 0.5em;\n  align-items: center;\n}\n\n// Styling the slider\n#slider .v-slider {\n  pointer-events: auto;\n\n  .v-slider-track {\n    // --v-slider-track-size: 4px !important;\n\n    .v-slider-track__background {\n      background-color: #CCC !important;\n    }\n\n    .v-slider-track__fill {\n      background-color: rgb(255 193 203)!important;\n      height: var(--v-slider-track-size) !important;\n    }\n\n    .v-slider-track__background--opacity {\n      opacity: 1 !important;\n    }\n  }\n\n  .v-slider-thumb {\n    \n    .v-slider-thumb__surface {\n      border: 1px solid black !important;\n    }\n  }\n  \n\n  .v-slider-thumb__label {\n    min-width: fit-content;\n    white-space: nowrap;\n    color: black;\n    padding-inline: 0.7rem;\n    background-color: var(--accent-color);\n\n    font-size: var(--default-font-size);\n    padding-block: calc(0.5 * var(--default-line-height));\n\n    @media (max-width: 600px) {\n      font-size: calc(1 * var(--default-font-size));\n      padding-block: 0;\n      padding-inline: 0.3rem;\n      height: 15px;\n    }\n  }\n  \n  .v-slider-thumb__label::before {\n    color: var(--accent-color);\n  }\n}\n\n#change-flags {\n  position: absolute;\n  display: flex;\n  flex-direction: row;\n  gap: 5px;\n\n  @media (max-width: 990px) {\n    right: 0rem;\n    bottom: 0rem;\n  }\n  @media (min-width: 948px) {\n    right: 0.5rem;\n    bottom: 40px;\n  }\n    \n  .icon-wrapper {\n    margin: 0;\n    padding: 0.15em;\n    border: none;\n    min-width: 0;\n  }\n}\n\n#privacy-popup-dialog {\n\n  .v-card-text {\n    color: #BDBDBD;\n  }\n\n  .v-overlay__content {\n    font-size: var(--default-font-size);\n    background-color: purple;\n    position: absolute;\n    bottom: 0;\n    right: 0;\n  }\n\n  .v-btn--size-default {\n      font-size: calc(0.9 * var(--default-font-size));\n    }  \n\n  .v-card-actions .v-btn {\n    padding: 0 4px;\n  }\n}\n\n#intro-window-close-button {\n    position: absolute;\n    top: 0.25em;\n    right: 0.25em;\n\n    &:hover {\n      cursor: pointer;\n    }\n}\n\n.bullet-icon {\n  color: var(--accent-color);\n  width: 1.5em;\n}\n\n#date-picker {\n  pointer-events: auto;\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n  margin-left: 1rem;\n  margin-top: 2px;\n\n  @media (max-width: 600px) {\n    // margin: 0;\n    // margin-left: 1rem;\n  }\n\n  @media (min-width: 601px) {\n    // margin: 1rem;\n  }\n\n}\n\n.dtp-close-button {\n  position: absolute !important;\n  top: 0.5em;\n  right: 0.5em;\n  border-radius: 50%;\n  border: 1.5px solid car(--accent-color)\n}\n.dtp__button {\n  background-color: var(--accent-color);\n  font-size: 0.85em;\n  color: black;\n  border-radius: 5px;\n  padding: 4px;\n  margin: 4px;\n  cursor: pointer;\n}\n\n.td__card {\n  border: 2px solid var(--accent-color);\n  text-align: right;\n  position: relative;\n  overflow: visible;\n}\n\n.td__icon {\n  position: absolute;\n  bottom: -4px;\n  right: 0px;\n  z-index: 10000;\n}\n\n.bsn__time .td__time_time {\n  font-size: var(--default-font-size);\n}\n\n@media (min-width: 960px) {\n  .bsn__time .td__time_time.td__short_time {\n    font-size: calc(1.2 * var(--default-font-size));\n  }\n}\n\n\n\n.bsn__time .td__date_date {\n  font-size: calc(0.85 * var(--default-font-size));\n}\n\n.bsn__time .td__timezone_tz {\n  font-size: calc(0.85 * var(--default-font-size));\n}\n\n#body-logos  {\n  position: fixed;\n  right: 0.5em;\n  bottom: 0.5em;\n\n  #icons-container img {\n    height: 35px;\n    vertical-align: middle;\n    margin: 2px;\n  }\n}\n\n.rating-root {\n  position: absolute !important;\n  right: 5px;\n  bottom: 0;\n  padding: 5px;\n  width: fit-content !important;\n  // left: 50%;\n  // transform: translateX(-50%);\n  gap: 0 !important;\n  border: solid 1px #EFEFEF !important;\n  border-radius: 10px !important;\n  background-color: #222222 !important;\n  opacity: 0.95 !important;\n  z-index: 20000;\n\n  .rating-title {\n    color: #EFEFEF;\n    font-size: var(--default-font-size);\n  }\n\n  .rating-icon-row {\n    \n    padding: 0px;\n\n    .svg-inline--fa {\n      height: 30px;\n    }\n  }\n\n  .comments-box {\n    width: 100%;\n    margin-top: 20px;\n  }\n\n  .v-card-text {\n    padding-bottom: 0;\n  }\n\n  .v-card-actions {\n    padding: 0;\n  }\n\n  .privacy-button {\n    font-size: 10px;\n    position: absolute;\n    left: 5px;\n  }\n\n  .v-btn.bg-success {\n    position: absolute;\n    right: 5px;\n  }\n}\n\n</style>\n","import script from \"./PlanetParade.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./PlanetParade.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./PlanetParade.vue?vue&type=style&index=0&id=7c8831ae&lang=less\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { aliases, mdi } from 'vuetify/iconsets/mdi';\nimport { createVuetify } from 'vuetify';\n\n// For test use. Do not include createVuetify()\n// see https://next.vuetifyjs.com/en/features/treeshaking/\n//import * as components from 'vuetify/components';\n//import * as directives from 'vuetify/directives';\n\n// Translations provided by Vuetify\nimport { en } from 'vuetify/locale';\n\n// Styles\nimport 'vuetify/styles';\nimport '@mdi/font/css/materialdesignicons.css';\n\nexport default createVuetify({\n  // Icon Fonts\n  icons: {\n    defaultSet: 'mdi',\n    aliases,\n    sets: {\n      mdi,\n    },\n  },\n  locale: {\n    locale: 'en',\n    fallback: 'en',\n    messages: { en },\n  },\n  theme: {\n    defaultTheme: 'dark',\n  },\n});\n\n// Export for test.\n//export { components, directives };\n","import { useModel as _useModel, mergeModels as _mergeModels, defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = [\"min\", \"max\", \"step\", \"value\"]\n\nimport { ref, watch, computed } from 'vue';\n\nexport interface Props {\n  editable?: boolean;\n  min?: string | number\n  max?: string | number ;\n  step?: number;\n  clamp?: boolean;\n  zeroPad?: number;\n  pad2?: boolean;\n}\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'TapToInput',\n  props: /*@__PURE__*/_mergeModels({\n    editable: { type: Boolean, default: true },\n    min: { default: 0 },\n    max: { default: 9999 },\n    step: { default: 1 },\n    clamp: { type: Boolean, default: false },\n    zeroPad: { default: 0 },\n    pad2: { type: Boolean, default: false }\n  }, {\n    \"modelValue\": { default: 0 },\n    \"modelModifiers\": {},\n  }),\n  emits: [\"update:modelValue\"],\n  setup(__props: any) {\n\nconst value = _useModel(__props, \"modelValue\");\nconst psuedoValue = ref(value.value);\n\nconst editing = ref(false);\nconst input = ref();\n\nconst props = __props;\n\nfunction pad(value: number) {\n  if (props.zeroPad > 0) {\n    return value.toString().padStart(props.zeroPad, '0');\n  }\n  if (props.pad2) {\n    return value.toString().padStart(2, '0');\n  }\n  return value;\n}\n\nconst parseValue = (value: string | number | CallableFunction) => {\n  if (typeof value === 'number') {\n    return value;\n  } \n  if (typeof value === 'function') {\n    return value();\n  }\n  return value.includes('.') ? parseFloat(value) : parseInt(value);\n};\n\nconst minValue = ref(parseValue(props.min));\nconst maxValue = ref(parseValue(props.max));\nconst stepValue = ref(parseValue(props.step));\n\nfunction setValue(event: Event) {\n  if (event.target) {\n    psuedoValue.value = parseInt((event.target as HTMLInputElement).value);\n  }\n}\n\nfunction blurred() {\n  editing.value = false;\n}\n\nfunction round(value, toNearest) {\n  return Math.round(value / toNearest) * toNearest;\n}\n\nconst isValid = computed(() => {\n  if (psuedoValue.value < minValue.value) {\n    return false;\n  }\n  if (psuedoValue.value > maxValue.value) {\n    return false;\n  }\n  return true;\n});\n\nfunction clampValue(value: number) {\n  if (!props.clamp) {\n    return value;\n  }\n  if (value < minValue.value) {\n    value = minValue.value;\n  } else if (value > maxValue.value) {\n    value = maxValue.value;\n  }\n  if ((value % stepValue.value) !== 0) {\n    value = round(value, stepValue.value);\n  }\n  return value;\n}\n\n// watch props\nwatch(() => props.min, (newVal) => {\n  minValue.value = parseValue(newVal);\n  psuedoValue.value = clampValue(psuedoValue.value);\n});\n\nwatch(() => props.max, (newVal) => {\n  maxValue.value = parseValue(newVal);\n  psuedoValue.value = clampValue(psuedoValue.value);\n});\n\nwatch(() => props.step, (newVal) => {\n  stepValue.value = parseValue(newVal);\n});\n\nwatch(value, (newVal) => {\n  psuedoValue.value = clampValue(newVal);\n});\n\n\nwatch(input, (value) => {\n  if (value) {\n    value.focus();\n  }    \n});\n\nwatch(psuedoValue, (newValue, oldValue) => {\n  if (isValid.value) {\n    value.value = psuedoValue.value;\n    return;\n  }\n  if (props.clamp) {\n    psuedoValue.value = clampValue(newValue);\n    value.value = psuedoValue.value;\n    return;\n  }\n  psuedoValue.value = oldValue;\n  \n});\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (!editing.value || !props.editable)\n    ? (_openBlock(), _createElementBlock(\"span\", {\n        key: 0,\n        onClick: _cache[0] || (_cache[0] = ($event: any) => (editing.value = !editing.value)),\n        ref: \"display\",\n        class: \"tti__display\"\n      }, _toDisplayString(pad(psuedoValue.value)), 513))\n    : (_openBlock(), _createElementBlock(\"input\", {\n        key: 1,\n        type: \"number\",\n        min: minValue.value,\n        max: maxValue.value,\n        step: stepValue.value,\n        value: psuedoValue.value,\n        onChange: setValue,\n        onBlur: blurred,\n        ref_key: \"input\",\n        ref: input,\n        class: \"tti__input\"\n      }, null, 40, _hoisted_1))\n}\n}\n\n})","<!-- Input/Display with up down arrow above and below -->\n<template>\n    <span \n      v-if=\"!editing || !props.editable\"\n      @click=\"editing = !editing\"\n      ref=\"display\"\n      class=\"tti__display\"\n      >{{ pad(psuedoValue) }}\n    </span>\n    <input \n      v-else\n      type=\"number\" \n      :min=\"minValue\"\n      :max=\"maxValue\"\n      :step=\"stepValue\"\n      :value=\"psuedoValue\" \n      @change=\"setValue\"\n      @blur=\"blurred\"\n      ref=\"input\"\n      class=\"tti__input\"\n      />\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, withDefaults, watch, computed } from 'vue';\n\nconst value = defineModel({ default: 0 });\nconst psuedoValue = ref(value.value);\n\nconst editing = ref(false);\nconst input = ref();\n\nexport interface Props {\n  editable?: boolean;\n  min?: string | number\n  max?: string | number ;\n  step?: number;\n  clamp?: boolean;\n  zeroPad?: number;\n  pad2?: boolean;\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  editable: true,\n  min: 0,\n  max: 9999,\n  step: 1,\n  clamp: false,\n  zeroPad: 0,\n  pad2: false,\n});\n\nfunction pad(value: number) {\n  if (props.zeroPad > 0) {\n    return value.toString().padStart(props.zeroPad, '0');\n  }\n  if (props.pad2) {\n    return value.toString().padStart(2, '0');\n  }\n  return value;\n}\n\nconst parseValue = (value: string | number | CallableFunction) => {\n  if (typeof value === 'number') {\n    return value;\n  } \n  if (typeof value === 'function') {\n    return value();\n  }\n  return value.includes('.') ? parseFloat(value) : parseInt(value);\n};\n\nconst minValue = ref(parseValue(props.min));\nconst maxValue = ref(parseValue(props.max));\nconst stepValue = ref(parseValue(props.step));\n\nfunction setValue(event: Event) {\n  if (event.target) {\n    psuedoValue.value = parseInt((event.target as HTMLInputElement).value);\n  }\n}\n\nfunction blurred() {\n  editing.value = false;\n}\n\nfunction round(value, toNearest) {\n  return Math.round(value / toNearest) * toNearest;\n}\n\nconst isValid = computed(() => {\n  if (psuedoValue.value < minValue.value) {\n    return false;\n  }\n  if (psuedoValue.value > maxValue.value) {\n    return false;\n  }\n  return true;\n});\n\nfunction clampValue(value: number) {\n  if (!props.clamp) {\n    return value;\n  }\n  if (value < minValue.value) {\n    value = minValue.value;\n  } else if (value > maxValue.value) {\n    value = maxValue.value;\n  }\n  if ((value % stepValue.value) !== 0) {\n    value = round(value, stepValue.value);\n  }\n  return value;\n}\n\n// watch props\nwatch(() => props.min, (newVal) => {\n  minValue.value = parseValue(newVal);\n  psuedoValue.value = clampValue(psuedoValue.value);\n});\n\nwatch(() => props.max, (newVal) => {\n  maxValue.value = parseValue(newVal);\n  psuedoValue.value = clampValue(psuedoValue.value);\n});\n\nwatch(() => props.step, (newVal) => {\n  stepValue.value = parseValue(newVal);\n});\n\nwatch(value, (newVal) => {\n  psuedoValue.value = clampValue(newVal);\n});\n\n\nwatch(input, (value) => {\n  if (value) {\n    value.focus();\n  }    \n});\n\nwatch(psuedoValue, (newValue, oldValue) => {\n  if (isValid.value) {\n    value.value = psuedoValue.value;\n    return;\n  }\n  if (props.clamp) {\n    psuedoValue.value = clampValue(newValue);\n    value.value = psuedoValue.value;\n    return;\n  }\n  psuedoValue.value = oldValue;\n  \n});\n\n</script>\n\n<style>\n/* Chrome, Safari, Edge, Opera */\ninput.tti__input::-webkit-outer-spin-button,\ninput.tti__input::-webkit-inner-spin-button\n{\n  -webkit-appearance: none;\n  margin: 0;\n}\n\n/* Firefox */\ninput.tti__input[type='number']\n{\n  -moz-appearance: textfield;\n  -webkit-appearance: textfield;\n  appearance: textfield;\n}\n\ninput.tti__input[type='number']\n{\n  text-align: center;\n}\n\ninput.tti__input[type='number']:invalid\n{\n  background-color: #fd6969;\n}\n\n</style>\n","import script from \"./TapToInput.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./TapToInput.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./TapToInput.vue?vue&type=style&index=0&id=a86e530e&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { useModel as _useModel, mergeModels as _mergeModels, defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, renderSlot as _renderSlot, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString } from \"vue\"\n\nconst _hoisted_1 = { class: \"dtp__container\" }\nconst _hoisted_2 = { class: \"dtp__row\" }\nconst _hoisted_3 = { class: \"dtp__grid-container\" }\nconst _hoisted_4 = { class: \"dtp__middle-slot\" }\nconst _hoisted_5 = {\n  key: 0,\n  class: \"dtp__ampm\"\n}\nconst _hoisted_6 = { class: \"dtp__bottom-content\" }\nconst _hoisted_7 = {\n  key: 0,\n  class: \"dtp__debug\"\n}\n\nimport { ref, watch, computed } from 'vue';\nimport TapToInput from './TapToInput.vue';\n\n\nexport interface Props {\n  debug?: boolean;\n  useAmpm?: boolean;\n  editableTime?: boolean;\n}\n\ntype Unit = 'year' | 'month' | 'day' | 'hour' | 'minute' | 'second';\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'DateTimePicker',\n  props: /*@__PURE__*/_mergeModels({\n    debug: { type: Boolean, default: false },\n    useAmpm: { type: Boolean, default: true },\n    editableTime: { type: Boolean, default: true }\n  }, {\n    \"modelValue\": {default: new Date('2027-01-01 12:00:00 UTC')},\n    \"modelModifiers\": {},\n  }),\n  emits: [\"update:modelValue\"],\n  setup(__props: any) {\n\nconst props = __props;\n\n\nconst date = _useModel(__props, \"modelValue\");\n\nconst year = ref(date.value.getFullYear());\nconst month = ref(date.value.getMonth()+1);\nconst day = ref(date.value.getDate());\nconst hour = ref(date.value.getHours());\nconst minute = ref(date.value.getMinutes());\nconst second = ref(date.value.getSeconds());\n\n// const ampm = ref(hour.value >= 12);\n\n\nconst isAm = computed({\n  get: () => hour.value < 12,\n  set: (value) => {\n    if (value) {\n      for (let i = 0; i < 12; i++) {\n        decrement('hour');\n      }\n    } else {\n      for (let i = 0; i < 12; i++) {\n        increment('hour');\n      }\n    }\n  }\n});\n\n// watch(ampm, (value) => { isAm.value = value;});\n\nconst values = {\n  year: year,\n  month: month,\n  day: day,\n  hour: hour,\n  minute: minute,\n  second: second,\n};\n\nconst limits = computed(() => ({\n  year: { min: 1, max: Infinity },\n  month: { min: 1, max: 12 },\n  day: { min: 1, max: _daysInMonth(month.value, year.value) },\n  hour: { min: 0, max: 23 },\n  minute: { min: 0, max: 59 },\n  second: { min: 0, max: 59 },\n}));\n\nconst units: Unit[] = ['second', 'minute', 'hour', 'day', 'month', 'year'];\n\nfunction changeValue(unit: Unit, increment: boolean) {\n  const limit = limits.value[unit].max;\n  const min = limits.value[unit].min;\n\n  if (increment) {\n    if (values[unit].value < limit) {\n      values[unit].value++;\n    } else {\n      values[unit].value = min;\n      const nextUnit = units[units.indexOf(unit) + 1];\n      if (nextUnit) {\n        changeValue(nextUnit, increment);\n      } else if (unit === 'hour' && props.useAmpm) {\n        // Toggle AM/PM when hour goes from 11 to 12\n        isAm.value = !isAm.value;\n      }\n    }\n  } else {\n    if (values[unit].value > min) {\n      values[unit].value--;\n    } else {\n      values[unit].value = limit;\n      const prevUnit = units[units.indexOf(unit) + 1];\n      if (prevUnit) {\n        changeValue(prevUnit, increment);\n      } else if (unit === 'hour' && props.useAmpm) {\n        // Toggle AM/PM when hour goes from 12 to 11\n        isAm.value = !isAm.value;\n      }\n    }\n  }\n\n  // Ensure hour is always between 0 and 23\n  if (unit === 'hour') {\n    hour.value = hour.value % 24;\n  }\n}\n\nconst displayHour = computed({\n  get() {\n    if (props.useAmpm) {\n      const h = hour.value % 12;\n      return h === 0 ? 12 : h;\n    } else {\n      return hour.value;\n    }\n  },\n  set(value: number) {\n    if (props.useAmpm) {\n      if (value === 12) {\n        hour.value = isAm.value ? 0 : 12;\n      } else {\n        hour.value = isAm.value ? value : value + 12;\n      }\n    } else {\n      hour.value = value;\n    }\n  }\n});\n\nfunction increment(value: Unit) {\n  changeValue(value, true);\n}\n\nfunction decrement(value: Unit) {\n  changeValue(value, false);\n}\n\nfunction _daysInMonth(month: number, year: number) {\n  return new Date(year, month, 0).getDate();\n}\n\n\nfunction utcDate(date: Date) {\n  // utc date string\n  return date.toISOString(); \n}\n\nfunction pad2(n: number) {\n  return n.toString().padStart(2, '0');\n}\n\n// update the date v-model\nwatch([year, month, day, hour, minute, second], () => {\n  date.value = new Date(year.value, month.value-1, day.value, hour.value, minute.value, second.value);\n});\n\n// watcher to fix leap years\nwatch([year, month, day, hour, minute, second], () => {\n  if (month.value === 2 && day.value > _daysInMonth(month.value, year.value)) {\n    day.value = _daysInMonth(month.value, year.value);\n  }\n});\n// after we have mounted make the up and down buttons the same width\n// keep this up to date with the model value\nwatch(date, () => {\n  year.value = date.value.getFullYear();\n  month.value = date.value.getMonth()+1;\n  day.value = date.value.getDate();\n  hour.value = date.value.getHours();\n  minute.value = date.value.getMinutes();\n  second.value = date.value.getSeconds();\n});\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_icon = _resolveComponent(\"v-icon\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, [\n        _createElementVNode(\"button\", {\n          id: \"dtp__year-up\",\n          class: \"dtp__grid-item\",\n          onClick: _cache[0] || (_cache[0] = ($event: any) => (increment('year')))\n        }, [\n          _cache[21] || (_cache[21] = _createElementVNode(\"span\", { class: \"dtp__button-label\" }, \"yr\", -1)),\n          _createVNode(_component_v_icon, null, {\n            default: _withCtx(() => _cache[20] || (_cache[20] = [\n              _createTextVNode(\"mdi-menu-up\")\n            ])),\n            _: 1\n          })\n        ]),\n        _createVNode(TapToInput, {\n          editable: props.editableTime,\n          id: \"dtp__year\",\n          class: \"dtp__grid-item dtp__time_part\",\n          min: limits.value.year.min,\n          max: limits.value.year.max,\n          modelValue: year.value,\n          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((year).value = $event))\n        }, null, 8, [\"editable\", \"min\", \"max\", \"modelValue\"]),\n        _createElementVNode(\"button\", {\n          id: \"dtp__year-up\",\n          class: \"dtp__grid-item\",\n          onClick: _cache[2] || (_cache[2] = ($event: any) => (decrement('year')))\n        }, [\n          _createVNode(_component_v_icon, null, {\n            default: _withCtx(() => _cache[22] || (_cache[22] = [\n              _createTextVNode(\"mdi-menu-down\")\n            ])),\n            _: 1\n          })\n        ]),\n        _cache[40] || (_cache[40] = _createElementVNode(\"span\", null, null, -1)),\n        _cache[41] || (_cache[41] = _createElementVNode(\"span\", null, \"-\", -1)),\n        _cache[42] || (_cache[42] = _createElementVNode(\"span\", null, null, -1)),\n        _createElementVNode(\"button\", {\n          id: \"dtp__month-up\",\n          class: \"dtp__grid-item\",\n          onClick: _cache[3] || (_cache[3] = ($event: any) => (increment('month')))\n        }, [\n          _cache[24] || (_cache[24] = _createElementVNode(\"span\", { class: \"dtp__button-label\" }, \"mo\", -1)),\n          _createVNode(_component_v_icon, null, {\n            default: _withCtx(() => _cache[23] || (_cache[23] = [\n              _createTextVNode(\"mdi-menu-up\")\n            ])),\n            _: 1\n          })\n        ]),\n        _createVNode(TapToInput, {\n          editable: props.editableTime,\n          id: \"dtp__month\",\n          class: \"dtp__grid-item dtp__time_part\",\n          min: limits.value.month.min,\n          max: limits.value.month.max,\n          pad2: \"\",\n          modelValue: month.value,\n          \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((month).value = $event))\n        }, null, 8, [\"editable\", \"min\", \"max\", \"modelValue\"]),\n        _createElementVNode(\"button\", {\n          id: \"dtp__month-up\",\n          class: \"dtp__grid-item\",\n          onClick: _cache[5] || (_cache[5] = ($event: any) => (decrement('month')))\n        }, [\n          _createVNode(_component_v_icon, null, {\n            default: _withCtx(() => _cache[25] || (_cache[25] = [\n              _createTextVNode(\"mdi-menu-down\")\n            ])),\n            _: 1\n          })\n        ]),\n        _cache[43] || (_cache[43] = _createElementVNode(\"span\", null, null, -1)),\n        _cache[44] || (_cache[44] = _createElementVNode(\"span\", null, \"-\", -1)),\n        _renderSlot(_ctx.$slots, \"bottom-middle\", {}, () => [\n          _cache[26] || (_cache[26] = _createElementVNode(\"span\", null, null, -1))\n        ]),\n        _createElementVNode(\"button\", {\n          id: \"dtp__day-up\",\n          class: \"dtp__grid-item\",\n          onClick: _cache[6] || (_cache[6] = ($event: any) => (increment('day')))\n        }, [\n          _cache[28] || (_cache[28] = _createElementVNode(\"span\", { class: \"dtp__button-label\" }, \"day\", -1)),\n          _createVNode(_component_v_icon, null, {\n            default: _withCtx(() => _cache[27] || (_cache[27] = [\n              _createTextVNode(\"mdi-menu-up\")\n            ])),\n            _: 1\n          })\n        ]),\n        _createVNode(TapToInput, {\n          editable: props.editableTime,\n          id: \"dtp__day\",\n          class: \"dtp__grid-item dtp__time_part\",\n          min: limits.value.day.min,\n          max: limits.value.day.max,\n          pad2: \"\",\n          modelValue: day.value,\n          \"onUpdate:modelValue\": _cache[7] || (_cache[7] = ($event: any) => ((day).value = $event))\n        }, null, 8, [\"editable\", \"min\", \"max\", \"modelValue\"]),\n        _createElementVNode(\"button\", {\n          id: \"dtp__day-up\",\n          class: \"dtp__grid-item\",\n          onClick: _cache[8] || (_cache[8] = ($event: any) => (decrement('day')))\n        }, [\n          _createVNode(_component_v_icon, null, {\n            default: _withCtx(() => _cache[29] || (_cache[29] = [\n              _createTextVNode(\"mdi-menu-down\")\n            ])),\n            _: 1\n          })\n        ]),\n        _renderSlot(_ctx.$slots, \"top-middle\", {}, () => [\n          _cache[30] || (_cache[30] = _createElementVNode(\"span\", null, null, -1))\n        ]),\n        _createElementVNode(\"span\", _hoisted_4, [\n          _renderSlot(_ctx.$slots, \"center-middle\")\n        ]),\n        _cache[45] || (_cache[45] = _createElementVNode(\"span\", null, null, -1)),\n        _createElementVNode(\"button\", {\n          id: \"dtp__hour-up\",\n          class: \"dtp__grid-item\",\n          onClick: _cache[9] || (_cache[9] = ($event: any) => (increment('hour')))\n        }, [\n          _cache[32] || (_cache[32] = _createElementVNode(\"span\", { class: \"dtp__button-label\" }, \"hr\", -1)),\n          _createVNode(_component_v_icon, null, {\n            default: _withCtx(() => _cache[31] || (_cache[31] = [\n              _createTextVNode(\"mdi-menu-up\")\n            ])),\n            _: 1\n          })\n        ]),\n        _createVNode(TapToInput, {\n          editable: props.editableTime,\n          id: \"dtp__hour\",\n          class: \"dtp__grid-item dtp__time_part\",\n          min: limits.value.hour.min,\n          max: limits.value.hour.max,\n          pad2: \"\",\n          modelValue: displayHour.value,\n          \"onUpdate:modelValue\": _cache[10] || (_cache[10] = ($event: any) => ((displayHour).value = $event))\n        }, null, 8, [\"editable\", \"min\", \"max\", \"modelValue\"]),\n        _createElementVNode(\"button\", {\n          id: \"dtp__hour-up\",\n          class: \"dtp__grid-item\",\n          onClick: _cache[11] || (_cache[11] = ($event: any) => (decrement('hour')))\n        }, [\n          _createVNode(_component_v_icon, null, {\n            default: _withCtx(() => _cache[33] || (_cache[33] = [\n              _createTextVNode(\"mdi-menu-down\")\n            ])),\n            _: 1\n          })\n        ]),\n        _cache[46] || (_cache[46] = _createElementVNode(\"span\", null, null, -1)),\n        _cache[47] || (_cache[47] = _createElementVNode(\"span\", null, \":\", -1)),\n        _cache[48] || (_cache[48] = _createElementVNode(\"span\", null, null, -1)),\n        _createElementVNode(\"button\", {\n          id: \"dtp__minute-up\",\n          class: \"dtp__grid-item\",\n          onClick: _cache[12] || (_cache[12] = ($event: any) => (increment('minute')))\n        }, [\n          _cache[35] || (_cache[35] = _createElementVNode(\"span\", { class: \"dtp__button-label\" }, \"min\", -1)),\n          _createVNode(_component_v_icon, null, {\n            default: _withCtx(() => _cache[34] || (_cache[34] = [\n              _createTextVNode(\"mdi-menu-up\")\n            ])),\n            _: 1\n          })\n        ]),\n        _createVNode(TapToInput, {\n          editable: props.editableTime,\n          id: \"dtp__minute\",\n          class: \"dtp__grid-item dtp__time_part\",\n          min: limits.value.minute.min,\n          max: limits.value.minute.max,\n          pad2: \"\",\n          modelValue: minute.value,\n          \"onUpdate:modelValue\": _cache[13] || (_cache[13] = ($event: any) => ((minute).value = $event))\n        }, null, 8, [\"editable\", \"min\", \"max\", \"modelValue\"]),\n        _createElementVNode(\"button\", {\n          id: \"dtp__minute-up\",\n          class: \"dtp__grid-item\",\n          onClick: _cache[14] || (_cache[14] = ($event: any) => (decrement('minute')))\n        }, [\n          _createVNode(_component_v_icon, null, {\n            default: _withCtx(() => _cache[36] || (_cache[36] = [\n              _createTextVNode(\"mdi-menu-down\")\n            ])),\n            _: 1\n          })\n        ]),\n        _cache[49] || (_cache[49] = _createElementVNode(\"span\", null, null, -1)),\n        _cache[50] || (_cache[50] = _createElementVNode(\"span\", null, \":\", -1)),\n        _cache[51] || (_cache[51] = _createElementVNode(\"span\", null, null, -1)),\n        _createElementVNode(\"button\", {\n          id: \"dtp__second-up\",\n          class: \"dtp__grid-item\",\n          onClick: _cache[15] || (_cache[15] = ($event: any) => (increment('second')))\n        }, [\n          _cache[38] || (_cache[38] = _createElementVNode(\"span\", { class: \"dtp__button-label\" }, \"sec\", -1)),\n          _createVNode(_component_v_icon, null, {\n            default: _withCtx(() => _cache[37] || (_cache[37] = [\n              _createTextVNode(\"mdi-menu-up\")\n            ])),\n            _: 1\n          })\n        ]),\n        _createVNode(TapToInput, {\n          editable: props.editableTime,\n          id: \"dtp__second\",\n          class: \"dtp__grid-item dtp__time_part\",\n          min: limits.value.second.min,\n          max: limits.value.second.max,\n          pad2: \"\",\n          modelValue: second.value,\n          \"onUpdate:modelValue\": _cache[16] || (_cache[16] = ($event: any) => ((second).value = $event))\n        }, null, 8, [\"editable\", \"min\", \"max\", \"modelValue\"]),\n        _createElementVNode(\"button\", {\n          id: \"dtp__second-up\",\n          class: \"dtp__grid-item\",\n          onClick: _cache[17] || (_cache[17] = ($event: any) => (decrement('second')))\n        }, [\n          _createVNode(_component_v_icon, null, {\n            default: _withCtx(() => _cache[39] || (_cache[39] = [\n              _createTextVNode(\"mdi-menu-down\")\n            ])),\n            _: 1\n          })\n        ])\n      ]),\n      (props.useAmpm)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n            _createElementVNode(\"button\", {\n              name: \"set-am\",\n              class: _normalizeClass([\"dtp__ampm-button\", \"dtp__ampm-am\", { \"dtp__ampm-active\": isAm.value }]),\n              onClick: _cache[18] || (_cache[18] = ($event: any) => (isAm.value = true)),\n              \"aria-label\": \"Set AM\"\n            }, \"AM\", 2),\n            _createElementVNode(\"button\", {\n              name: \"set-pm\",\n              class: _normalizeClass([\"dtp__ampm-button\", \"dtp__ampm-pm\", { \"dtp__ampm-active\": !isAm.value }]),\n              onClick: _cache[19] || (_cache[19] = ($event: any) => (isAm.value = false)),\n              \"aria-label\": \"Set PM\"\n            }, \"PM\", 2)\n          ]))\n        : _createCommentVNode(\"\", true)\n    ]),\n    _createElementVNode(\"div\", _hoisted_6, [\n      _renderSlot(_ctx.$slots, \"default\")\n    ]),\n    (props.debug)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [\n          _createElementVNode(\"span\", null, \"Local: \" + _toDisplayString(year.value) + \"-\" + _toDisplayString(pad2(month.value)) + \"-\" + _toDisplayString(pad2(day.value)) + \" \" + _toDisplayString(pad2(hour.value)) + \":\" + _toDisplayString(pad2(minute.value)) + \":\" + _toDisplayString(pad2(second.value)), 1),\n          _createElementVNode(\"span\", null, \"UTC: \" + _toDisplayString(utcDate(date.value)), 1)\n        ]))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","<!-- Design Inspired by Date/Time Picker at Stellarium Web https://stellarium-web.org/ -->\n<template>\n  <div class=\"dtp__container\">\n    <div class=\"dtp__row\">\n      <div class=\"dtp__grid-container\">\n\n        <!-- 1-1 -->\n        <button id=\"dtp__year-up\" class=\"dtp__grid-item\" @click=\"increment('year')\">\n          <span class=\"dtp__button-label\">yr</span>\n          <v-icon>mdi-menu-up</v-icon>\n        </button>\n        <!-- 2-1 -->\n        <tap-to-input :editable=\"props.editableTime\" id=\"dtp__year\" class=\"dtp__grid-item dtp__time_part\" :min=\"limits.year.min\" :max=\"limits.year.max\" v-model=\"year\" />\n        <!-- 3-1 -->\n        <button id=\"dtp__year-up\" class=\"dtp__grid-item\" @click=\"decrement('year')\">\n          <v-icon>mdi-menu-down</v-icon>\n        </button>\n\n        <!-- 1-2 -->\n        <span></span>\n        <!-- 2-2 -->\n        <span>-</span>\n        <!-- 3-2 -->\n        <span></span>\n\n        <!-- 1-3 -->\n        <button id=\"dtp__month-up\" class=\"dtp__grid-item\" @click=\"increment('month')\">\n          <span class=\"dtp__button-label\">mo</span>\n          <v-icon>mdi-menu-up</v-icon>\n        </button>\n        <!-- 2-3 -->\n        <tap-to-input :editable=\"props.editableTime\" id=\"dtp__month\" class=\"dtp__grid-item dtp__time_part\" :min=\"limits.month.min\" :max=\"limits.month.max\" pad2 v-model=\"month\" />\n        <!-- 3-3 -->\n        <button id=\"dtp__month-up\" class=\"dtp__grid-item\" @click=\"decrement('month')\">\n          <v-icon>mdi-menu-down</v-icon>\n        </button>\n\n        <!-- 1-4 -->\n        <span></span>\n        <!-- 2-4 -->\n        <span>-</span>\n        <!-- 3-4 -->\n        <slot name=\"bottom-middle\"><span></span></slot>\n\n        <!-- 1-5 -->\n        <button id=\"dtp__day-up\" class=\"dtp__grid-item\" @click=\"increment('day')\">\n          <span class=\"dtp__button-label\">day</span>\n          <v-icon>mdi-menu-up</v-icon>\n        </button>\n        <!-- 2-5 -->\n        <tap-to-input :editable=\"props.editableTime\" id=\"dtp__day\" class=\"dtp__grid-item dtp__time_part\" :min=\"limits.day.min\" :max=\"limits.day.max\" pad2 v-model=\"day\" />\n        <!-- 3-5 -->\n        <button id=\"dtp__day-up\" class=\"dtp__grid-item\" @click=\"decrement('day')\">\n          <v-icon>mdi-menu-down</v-icon>\n        </button>\n\n        <!-- 1-6 -->\n        <slot name=\"top-middle\"><span></span></slot>\n        <!-- 2-6 -->\n        <span class=\"dtp__middle-slot\"><slot name=\"center-middle\"></slot></span>\n        <!-- 3-6 -->\n        <span></span>\n\n        <!-- 1-7 -->\n        <button id=\"dtp__hour-up\" class=\"dtp__grid-item\" @click=\"increment('hour')\">\n          <span class=\"dtp__button-label\">hr</span>\n          <v-icon>mdi-menu-up</v-icon>\n        </button>\n        <!-- 2-7 -->\n        <tap-to-input :editable=\"props.editableTime\" id=\"dtp__hour\" class=\"dtp__grid-item dtp__time_part\" :min=\"limits.hour.min\" :max=\"limits.hour.max\" pad2 v-model=\"displayHour\" />\n        <!-- 3-7 -->\n        <button id=\"dtp__hour-up\" class=\"dtp__grid-item\" @click=\"decrement('hour')\">\n          <v-icon>mdi-menu-down</v-icon>\n        </button>\n\n        <!-- 1-8 -->\n        <span></span>\n        <!-- 2-8 -->\n        <span>:</span>\n        <!-- 3-8 -->\n        <span></span>\n\n        <!-- 1-9 -->\n        <button id=\"dtp__minute-up\" class=\"dtp__grid-item\" @click=\"increment('minute')\">\n          <span class=\"dtp__button-label\">min</span>\n          <v-icon>mdi-menu-up</v-icon>\n        </button>\n        <!-- 2-9 -->\n        <tap-to-input :editable=\"props.editableTime\" id=\"dtp__minute\" class=\"dtp__grid-item dtp__time_part\" :min=\"limits.minute.min\" :max=\"limits.minute.max\" pad2 v-model=\"minute\" />\n        <!-- 3-9 -->\n        <button id=\"dtp__minute-up\" class=\"dtp__grid-item\" @click=\"decrement('minute')\">\n          <v-icon>mdi-menu-down</v-icon>\n        </button>\n\n        <!-- 1-10 -->\n        <span></span>\n        <!-- 2-10 -->\n        <span>:</span>\n        <!-- 3-10 -->\n        <span></span>\n\n        <!-- 1-11 -->\n        <button id=\"dtp__second-up\" class=\"dtp__grid-item\" @click=\"increment('second')\">\n          <span class=\"dtp__button-label\">sec</span>\n          <v-icon>mdi-menu-up</v-icon>\n        </button>\n        <!-- 2-11 -->\n        <tap-to-input :editable=\"props.editableTime\" id=\"dtp__second\" class=\"dtp__grid-item dtp__time_part\" :min=\"limits.second.min\" :max=\"limits.second.max\" pad2 v-model=\"second\" />\n        <!-- 3-11 -->\n        <button id=\"dtp__second-up\" class=\"dtp__grid-item\" @click=\"decrement('second')\">\n          <v-icon>mdi-menu-down</v-icon>\n        </button>\n\n        <!-- <div class=\"dtp__rollers up-rollers\"> -->\n        <!-- </div> -->\n\n        <!-- <span class=\"dtp__time-string\"> -->\n        <!-- <span id=\"dtp__year\" class=\"dtp__grid-item dtp__time_part\">{{ year }}</span> -->\n\n        <!-- <span id=\"dtp__month\" class=\"dtp__grid-item dtp__time_part\">{{ pad2(month) }}</span> -->\n        <!-- <span id=\"dtp__day\" class=\"dtp__grid-item dtp__time_part\">{{ pad2(day) }}</span>  -->\n        <!-- <span id=\"dtp__hour\" class=\"dtp__grid-item dtp__time_part\">{{ pad2(displayHour) }}</span> -->\n        <!-- <span id=\"dtp__minute\" class=\"dtp__grid-item dtp__time_part\">{{ pad2(minute) }}</span> -->\n        <!-- <span id=\"dtp__second\" class=\"dtp__grid-item dtp__time_part\">{{ pad2(second) }}</span> -->\n        <!-- </span> -->\n\n      </div>\n      \n      <div class=\"dtp__ampm\" v-if=\"props.useAmpm\">\n        <button \n          name=\"set-am\" \n          :class='[\"dtp__ampm-button\", \"dtp__ampm-am\", { \"dtp__ampm-active\": isAm }]' \n          @click=\"isAm = true\" \n          aria-label=\"Set AM\"\n          >AM</button>\n        <button \n          name=\"set-pm\" \n          :class='[\"dtp__ampm-button\", \"dtp__ampm-pm\", { \"dtp__ampm-active\": !isAm }]' \n          @click=\"isAm = false\" \n          aria-label=\"Set PM\"\n          >PM</button>\n      </div>\n    </div>\n    \n    <div class=\"dtp__bottom-content\">\n      <slot></slot>\n    </div>\n    <div v-if=\"props.debug\" class=\"dtp__debug\">\n      <span>Local: {{ year }}-{{ pad2(month) }}-{{ pad2(day) }} {{ pad2(hour) }}:{{ pad2(minute) }}:{{ pad2(second) }}</span>\n      <span>UTC: {{ utcDate(date) }} </span>\n    </div>\n\n  </div>\n\n</template>\n\n\n<script setup lang=\"ts\">\nimport { ref, watch, computed } from 'vue';\nimport TapToInput from './TapToInput.vue';\n\n\nexport interface Props {\n  debug?: boolean;\n  useAmpm?: boolean;\n  editableTime?: boolean;\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  debug: false,\n  useAmpm: true,\n  editableTime: true,\n});\n\n\nconst date = defineModel({default: new Date('2027-01-01 12:00:00 UTC')});\n\nconst year = ref(date.value.getFullYear());\nconst month = ref(date.value.getMonth()+1);\nconst day = ref(date.value.getDate());\nconst hour = ref(date.value.getHours());\nconst minute = ref(date.value.getMinutes());\nconst second = ref(date.value.getSeconds());\n\n// const ampm = ref(hour.value >= 12);\n\n\nconst isAm = computed({\n  get: () => hour.value < 12,\n  set: (value) => {\n    if (value) {\n      for (let i = 0; i < 12; i++) {\n        decrement('hour');\n      }\n    } else {\n      for (let i = 0; i < 12; i++) {\n        increment('hour');\n      }\n    }\n  }\n});\n\n// watch(ampm, (value) => { isAm.value = value;});\n\nconst values = {\n  year: year,\n  month: month,\n  day: day,\n  hour: hour,\n  minute: minute,\n  second: second,\n};\n\ntype Unit = 'year' | 'month' | 'day' | 'hour' | 'minute' | 'second';\n\nconst limits = computed(() => ({\n  year: { min: 1, max: Infinity },\n  month: { min: 1, max: 12 },\n  day: { min: 1, max: _daysInMonth(month.value, year.value) },\n  hour: { min: 0, max: 23 },\n  minute: { min: 0, max: 59 },\n  second: { min: 0, max: 59 },\n}));\n\nconst units: Unit[] = ['second', 'minute', 'hour', 'day', 'month', 'year'];\n\nfunction changeValue(unit: Unit, increment: boolean) {\n  const limit = limits.value[unit].max;\n  const min = limits.value[unit].min;\n\n  if (increment) {\n    if (values[unit].value < limit) {\n      values[unit].value++;\n    } else {\n      values[unit].value = min;\n      const nextUnit = units[units.indexOf(unit) + 1];\n      if (nextUnit) {\n        changeValue(nextUnit, increment);\n      } else if (unit === 'hour' && props.useAmpm) {\n        // Toggle AM/PM when hour goes from 11 to 12\n        isAm.value = !isAm.value;\n      }\n    }\n  } else {\n    if (values[unit].value > min) {\n      values[unit].value--;\n    } else {\n      values[unit].value = limit;\n      const prevUnit = units[units.indexOf(unit) + 1];\n      if (prevUnit) {\n        changeValue(prevUnit, increment);\n      } else if (unit === 'hour' && props.useAmpm) {\n        // Toggle AM/PM when hour goes from 12 to 11\n        isAm.value = !isAm.value;\n      }\n    }\n  }\n\n  // Ensure hour is always between 0 and 23\n  if (unit === 'hour') {\n    hour.value = hour.value % 24;\n  }\n}\n\nconst displayHour = computed({\n  get() {\n    if (props.useAmpm) {\n      const h = hour.value % 12;\n      return h === 0 ? 12 : h;\n    } else {\n      return hour.value;\n    }\n  },\n  set(value: number) {\n    if (props.useAmpm) {\n      if (value === 12) {\n        hour.value = isAm.value ? 0 : 12;\n      } else {\n        hour.value = isAm.value ? value : value + 12;\n      }\n    } else {\n      hour.value = value;\n    }\n  }\n});\n\nfunction increment(value: Unit) {\n  changeValue(value, true);\n}\n\nfunction decrement(value: Unit) {\n  changeValue(value, false);\n}\n\nfunction _daysInMonth(month: number, year: number) {\n  return new Date(year, month, 0).getDate();\n}\n\n\nfunction utcDate(date: Date) {\n  // utc date string\n  return date.toISOString(); \n}\n\nfunction pad2(n: number) {\n  return n.toString().padStart(2, '0');\n}\n\n// update the date v-model\nwatch([year, month, day, hour, minute, second], () => {\n  date.value = new Date(year.value, month.value-1, day.value, hour.value, minute.value, second.value);\n});\n\n// watcher to fix leap years\nwatch([year, month, day, hour, minute, second], () => {\n  if (month.value === 2 && day.value > _daysInMonth(month.value, year.value)) {\n    day.value = _daysInMonth(month.value, year.value);\n  }\n});\n// after we have mounted make the up and down buttons the same width\n// keep this up to date with the model value\nwatch(date, () => {\n  year.value = date.value.getFullYear();\n  month.value = date.value.getMonth()+1;\n  day.value = date.value.getDate();\n  hour.value = date.value.getHours();\n  minute.value = date.value.getMinutes();\n  second.value = date.value.getSeconds();\n});\n\n</script>\n\n<style lang=\"less\">\n@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Mono:wght@500&display=swap');\n\n.dtp__container {\n  padding-top: 1.5em;\n  padding-bottom: 5px;\n  padding-inline: 15px;\n}\n\n@media (max-width: 350px) {\n  .dtp__container {\n    font-size: 5vw;\n  }\n}\n\n.dtp__grid-container {\n  display: grid;\n  grid-auto-flow: column;\n  grid-template-columns: repeat(11, 0fr);\n  grid-template-rows: auto auto auto;\n  justify-items: center;\n  justify-content: center;\n  font-family: 'Noto Sans Mono', monospace;\n  gap: 2px;\n  margin-bottom: 10px;\n}\n\n.dtp__row {\n  display: grid;\n  grid-template-columns: 0fr 0fr;\n  align-items: center;\n  gap: 1em;\n}\n\n@media (max-width: 350px) {\n  .dtp__row {\n    display: grid;\n    grid-template-columns: 0fr;\n    grid-template-rows: 0fr 0fr;\n    justify-items: center;\n    gap: 2px;\n  }\n}\n\n.dtp__grid-container > * {\n  margin: 0;\n  padding: 0;\n  width: 100%;\n}\n\n.dtp__middle-slot {\n  width: 1.5em;\n}\n\n.dtp__bottom-content {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.dtp__grid-item {\n  position: relative;\n  // outline: 1px solid red;\n  text-align: center;\n}\n\nspan.dtp__button-label {\n  font-size: 0.8em;\n  // display: none;\n  position:absolute;\n  top: -5px;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  // outline: 1px solid red;\n}\n\n.dtp__ampm {\n  display: grid;\n  grid-template-columns: 3em;\n  grid-template-rows: 0fr 0fr;\n  gap: 1px;\n}\n\n.dtp__ampm-button {\n  background-color: #444;\n  color: #ccc;\n  padding: 0;\n  align-self: center;\n  font-size: .9em;\n  width: 4ch;\n}\n\n// for dtp__ampm-am/pm add only left right and top/bottom border raidus\n.dtp__ampm-am {\n  border: 1px solid var(--accent-color);\n  border-top-left-radius: .75ch;\n  border-top-right-radius: .75ch;\n  border-bottom: none\n}\n\n.dtp__ampm-pm {\n  border: 1px solid var(--accent-color);\n  border-bottom-left-radius: .75ch;\n  border-bottom-right-radius: .75ch;\n  border-top: none\n}\n\n@media (max-width: 350px) { \n  .dtp__ampm {\n    grid-template-columns: 0fr 0fr;\n    grid-template-rows: 0fr;\n    margin-bottom: 0.5em;\n  }\n  \n  .dtp__ampm-am {\n    border: 1px solid var(--accent-color);\n    border-radius: 0;\n    border-top-left-radius: .75ch;\n    border-bottom-left-radius: .75ch;\n    border-right: none;\n  }\n  \n  .dtp__ampm-pm {\n    border: 1px solid var(--accent-color);\n    border-radius: 0;\n    border-top-right-radius: .75ch;\n    border-bottom-right-radius: .75ch;\n    border-left: none;\n  }\n  \n}\n\n.dtp__ampm-active {\n  color: var(--accent-color);\n  background-color: #0e0552;\n}\n\n/* Chrome, Safari, Edge, Opera */\n.dtp__container input::-webkit-outer-spin-button,\ninput::-webkit-inner-spin-button {\n  -webkit-appearance: none;\n  margin: 0;\n}\n\n/* Firefox */\n.dtp__container  input[type=number] {\n  -moz-appearance: textfield;\n  appearance: textfield;\n}\n\ninput#dtp__year {\n  width: 4ch;\n}\n\ninput.dtp__time_part {\n  width: 2.5ch;\n}\n\n</style>\n","import script from \"./DateTimePicker.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./DateTimePicker.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./DateTimePicker.vue?vue&type=style&index=0&id=4bf0a910&lang=less\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, vShow as _vShow, withKeys as _withKeys, withModifiers as _withModifiers, normalizeClass as _normalizeClass, withCtx as _withCtx, withDirectives as _withDirectives, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nimport { computed, ref, watch } from \"vue\";\nimport { MapBoxFeature, MapBoxFeatureCollection, textForMapboxFeature } from \"@cosmicds/vue-toolkit/src/mapbox\";\n\ntype SearchProvider = (searchText: string) => Promise<MapBoxFeatureCollection | null>;\n\nexport interface LocationSearchProps {\n  searchProvider?: SearchProvider;\n  modelValue?: boolean;\n  stayOpen?: boolean;\n  accentColor?: string;\n  small?: boolean;\n  theme?: string;\n  buttonSize?: string;\n  bgColor?: string;\n}\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'LocationSearch',\n  props: {\n    searchProvider: { type: Function, default: (_searchText: string) => null },\n    modelValue: { type: Boolean, default: true },\n    stayOpen: { type: Boolean, default: false },\n    accentColor: { default: \"white\" },\n    small: { type: Boolean, default: false },\n    theme: { default: \"dark\" },\n    buttonSize: { default: \"1x\" },\n    bgColor: { default: \"black\" }\n  },\n  emits: [\"error\", \"set-location\", \"update:modelValue\"],\n  setup(__props: any, { emit: __emit }) {\n\nconst props = __props;\n\nconst emit = __emit;\n\nconst searchOpen = ref(props.modelValue || props.stayOpen);\nconst searchItem = ref<string | null>(null);\nconst searchResults = ref<MapBoxFeatureCollection | null>(null);\nconst searchErrorMessage = ref<string | null>(null);\nconst locationJustUpdated = ref(false);\nconst menuOpen = ref(false);\nconst comboFocused = ref(false);\nconst searchInput = ref<HTMLInputElement | null>(null);\n\nconst cssStyles = computed(() => {\n  return {\n    \"--accent-color\": props.accentColor,\n    \"--bg-color\": props.bgColor,\n    \"--fg-container-padding\": searchOpen.value ? (props.small ? \"0px 5px 0px 0px\" : \"5px 10px 12px 10px\") : \"0px\",\n    \"--border-radius\": searchOpen.value ? \"7px\" : \"20px\",\n  };\n});\n\nfunction itemText(item: string | MapBoxFeature): string {\n  if (typeof item === \"string\") {\n    return item;\n  }\n  return textForMapboxFeature(item);\n}\n\nfunction performForwardGeocodingSearch() {\n  const search = searchItem.value;\n  if (search === null || search.length < 3) {\n    return;\n  }\n\n  props.searchProvider(search).then(info => {\n    if (info !== null && info.features.length === 1) {\n      setLocationFromSearchFeature(info.features[0]);\n    } else if (info !== null && info.features.length === 0) {\n      searchErrorMessage.value = \"No matching places were found\";\n      emit(\"error\", searchErrorMessage.value); \n    } else {\n      searchResults.value = info;\n    }\n  });\n}\n\nfunction focusCombobox() {\n  const input = searchInput.value as HTMLInputElement;\n  input.focus();\n}\n\nfunction blurCombobox() {\n  const input = searchInput.value as HTMLInputElement;\n  input.blur();\n}\n\nfunction toggleSearch() {\n  if (searchOpen.value) {\n    performForwardGeocodingSearch();\n    menuOpen.value = true;\n    focusCombobox();\n  } else {\n    searchOpen.value = true;\n  }\n}\n\n// function closeSearch() {\n//   searchOpen.value = false;\n//   clearSearchData();\n// }\n\nfunction onFocusChange(focused: boolean) {\n  comboFocused.value = focused;\n}\n\nfunction setLocationFromSearchFeature(feature: MapBoxFeature) {\n  blurCombobox();\n  timedJustUpdatedLocation();\n  clearSearchData();\n  emit(\"set-location\", feature);\n}\n\nfunction clearSearchData() {\n  searchResults.value = null;\n  searchItem.value = null;\n  searchErrorMessage.value = null;\n}\n\nfunction timedJustUpdatedLocation() {\n  locationJustUpdated.value = true;\n  setTimeout(() => {\n    locationJustUpdated.value = false;\n  }, 5000);\n}\n\nwatch(() => props.modelValue, (value: boolean) => { searchOpen.value = value; });\n\nwatch(searchOpen, (value: boolean) => emit(\"update:modelValue\", value));\n\nwatch(searchItem, function(item: string | MapBoxFeature | null) {\n  if (searchErrorMessage.value) {\n    searchErrorMessage.value = null;\n  }\n  if (!item || (typeof item === \"string\" && item.length === 0)) {\n    searchResults.value = null;\n  }\n  if (item && typeof item !== \"string\") {\n    setLocationFromSearchFeature(item);\n  }\n});\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\")!\n  const _component_v_combobox = _resolveComponent(\"v-combobox\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"forward-geocoding-container\",\n    style: _normalizeStyle(cssStyles.value)\n  }, [\n    _withDirectives(_createVNode(_component_v_combobox, {\n      class: _normalizeClass(['forward-geocoding-input', locationJustUpdated.value ? 'geocode-success' : '', _ctx.small ? 'forward-geocoding-input-small' : '']),\n      modelValue: searchItem.value,\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((searchItem).value = $event)),\n      items: searchResults.value ? searchResults.value.features : [],\n      \"item-title\": itemText,\n      \"bg-color\": _ctx.bgColor,\n      label: \"Enter city or zip\",\n      density: _ctx.small ? 'compact' : 'default',\n      \"hide-details\": \"\",\n      solo: \"\",\n      color: _ctx.accentColor,\n      onInput: () => {},\n      onKeydown: [\n        _withKeys(performForwardGeocodingSearch, [\"enter\"]),\n        _cache[1] || (_cache[1] = _withKeys(($event: any) => (searchResults.value = null), [\"esc\"])),\n        _cache[2] || (_cache[2] = _withModifiers(() => {}, [\"stop\"]))\n      ],\n      \"error-messages\": searchErrorMessage.value,\n      \"onClick:append\": focusCombobox,\n      \"onUpdate:focused\": _cache[3] || (_cache[3] = ($event: any) => (onFocusChange($event))),\n      ref_key: \"searchInput\",\n      ref: searchInput,\n      menu: menuOpen.value,\n      \"onUpdate:menu\": _cache[4] || (_cache[4] = ($event: any) => (menuOpen.value = $event))\n    }, {\n      append: _withCtx(() => [\n        _createVNode(_component_font_awesome_icon, {\n          class: \"geocoding-search-icon\",\n          icon: \"magnifying-glass\",\n          size: searchOpen.value ? 'xl' : _ctx.buttonSize,\n          color: \"gray\",\n          onClick: toggleSearch\n        }, null, 8, [\"size\"])\n      ]),\n      _: 1\n    }, 8, [\"class\", \"modelValue\", \"items\", \"bg-color\", \"density\", \"color\", \"error-messages\", \"menu\"]), [\n      [_vShow, searchOpen.value]\n    ]),\n    _withDirectives(_createVNode(_component_font_awesome_icon, {\n      class: \"geocoding-search-icon\",\n      icon: \"magnifying-glass\",\n      size: searchOpen.value ? 'xl' : _ctx.buttonSize,\n      color: \"gray\",\n      onClick: _withModifiers(toggleSearch, [\"prevent\"])\n    }, null, 8, [\"size\"]), [\n      [_vShow, !searchOpen.value && !_ctx.stayOpen]\n    ])\n  ], 4))\n}\n}\n\n})","<template>\n  <div\n    class=\"forward-geocoding-container\"\n    :style=\"cssStyles\"\n  >\n    <v-combobox\n      v-show=\"searchOpen\"\n      :class=\"['forward-geocoding-input', locationJustUpdated ? 'geocode-success' : '', small ? 'forward-geocoding-input-small' : '']\"\n      v-model=\"searchItem\"\n      :items=\"searchResults ? searchResults.features : []\"\n      :item-title=\"itemText\"\n      :bg-color=\"bgColor\"\n      label=\"Enter city or zip\"\n      :density=\"small ? 'compact' : 'default'\"\n      hide-details\n      solo\n      :color=\"accentColor\"\n      @input=\"() => {}\"\n      @keydown.enter=\"performForwardGeocodingSearch\"\n      @keydown.esc=\"searchResults = null\"\n      @keydown.stop\n      :error-messages=\"searchErrorMessage\"\n      @click:append=\"focusCombobox\"\n      @update:focused=\"onFocusChange($event)\"\n      ref=\"searchInput\"\n      :menu=\"menuOpen\"\n      @update:menu=\"menuOpen = $event\"\n    >\n    <template v-slot:append>\n      <font-awesome-icon\n        class=\"geocoding-search-icon\"\n        icon=\"magnifying-glass\"\n        :size=\"searchOpen ? 'xl' : buttonSize\"\n        color=\"gray\"\n        @click=\"toggleSearch\"\n      ></font-awesome-icon>\n    </template>\n  </v-combobox>\n  <font-awesome-icon\n      v-show=\"!searchOpen && !stayOpen\"\n      class=\"geocoding-search-icon\"\n      icon=\"magnifying-glass\"\n      :size=\"searchOpen ? 'xl' : buttonSize\"\n      color=\"gray\"\n      @click.prevent=\"toggleSearch\"\n    ></font-awesome-icon>\n  </div>\n</template> \n\n<script setup lang=\"ts\">\nimport { computed, ref, watch } from \"vue\";\nimport { MapBoxFeature, MapBoxFeatureCollection, textForMapboxFeature } from \"@cosmicds/vue-toolkit/src/mapbox\";\n\ntype SearchProvider = (searchText: string) => Promise<MapBoxFeatureCollection | null>;\n\nexport interface LocationSearchProps {\n  searchProvider?: SearchProvider;\n  modelValue?: boolean;\n  stayOpen?: boolean;\n  accentColor?: string;\n  small?: boolean;\n  theme?: string;\n  buttonSize?: string;\n  bgColor?: string;\n}\n\nconst props = withDefaults(defineProps<LocationSearchProps>(), {\n  searchProvider: (_searchText: string) => null,\n  modelValue: true,\n  stayOpen: false,\n  accentColor: \"white\",\n  small: false,\n  theme: \"dark\",\n  buttonSize: \"1x\",\n  bgColor: \"black\",\n});\n\nconst emit = defineEmits<{\n  (e: \"error\", message: string): void\n  (e: \"set-location\", feature: MapBoxFeature): void\n  (e: \"update:modelValue\", value: boolean): void\n}>();\n\nconst searchOpen = ref(props.modelValue || props.stayOpen);\nconst searchItem = ref<string | null>(null);\nconst searchResults = ref<MapBoxFeatureCollection | null>(null);\nconst searchErrorMessage = ref<string | null>(null);\nconst locationJustUpdated = ref(false);\nconst menuOpen = ref(false);\nconst comboFocused = ref(false);\nconst searchInput = ref<HTMLInputElement | null>(null);\n\nconst cssStyles = computed(() => {\n  return {\n    \"--accent-color\": props.accentColor,\n    \"--bg-color\": props.bgColor,\n    \"--fg-container-padding\": searchOpen.value ? (props.small ? \"0px 5px 0px 0px\" : \"5px 10px 12px 10px\") : \"0px\",\n    \"--border-radius\": searchOpen.value ? \"7px\" : \"20px\",\n  };\n});\n\nfunction itemText(item: string | MapBoxFeature): string {\n  if (typeof item === \"string\") {\n    return item;\n  }\n  return textForMapboxFeature(item);\n}\n\nfunction performForwardGeocodingSearch() {\n  const search = searchItem.value;\n  if (search === null || search.length < 3) {\n    return;\n  }\n\n  props.searchProvider(search).then(info => {\n    if (info !== null && info.features.length === 1) {\n      setLocationFromSearchFeature(info.features[0]);\n    } else if (info !== null && info.features.length === 0) {\n      searchErrorMessage.value = \"No matching places were found\";\n      emit(\"error\", searchErrorMessage.value); \n    } else {\n      searchResults.value = info;\n    }\n  });\n}\n\nfunction focusCombobox() {\n  const input = searchInput.value as HTMLInputElement;\n  input.focus();\n}\n\nfunction blurCombobox() {\n  const input = searchInput.value as HTMLInputElement;\n  input.blur();\n}\n\nfunction toggleSearch() {\n  if (searchOpen.value) {\n    performForwardGeocodingSearch();\n    menuOpen.value = true;\n    focusCombobox();\n  } else {\n    searchOpen.value = true;\n  }\n}\n\n// function closeSearch() {\n//   searchOpen.value = false;\n//   clearSearchData();\n// }\n\nfunction onFocusChange(focused: boolean) {\n  comboFocused.value = focused;\n}\n\nfunction setLocationFromSearchFeature(feature: MapBoxFeature) {\n  blurCombobox();\n  timedJustUpdatedLocation();\n  clearSearchData();\n  emit(\"set-location\", feature);\n}\n\nfunction clearSearchData() {\n  searchResults.value = null;\n  searchItem.value = null;\n  searchErrorMessage.value = null;\n}\n\nfunction timedJustUpdatedLocation() {\n  locationJustUpdated.value = true;\n  setTimeout(() => {\n    locationJustUpdated.value = false;\n  }, 5000);\n}\n\nwatch(() => props.modelValue, (value: boolean) => { searchOpen.value = value; });\n\nwatch(searchOpen, (value: boolean) => emit(\"update:modelValue\", value));\n\nwatch(searchItem, function(item: string | MapBoxFeature | null) {\n  if (searchErrorMessage.value) {\n    searchErrorMessage.value = null;\n  }\n  if (!item || (typeof item === \"string\" && item.length === 0)) {\n    searchResults.value = null;\n  }\n  if (item && typeof item !== \"string\") {\n    setLocationFromSearchFeature(item);\n  }\n});\n</script>\n\n<style lang=\"less\">\n\n// https://vue-loader.vuejs.org/guide/scoped-css.html#deep-selectors\n.forward-geocoding-container {\n  --border-radius: 20px;\n  position: relative;\n  color: var(--accent-color);\n  border: 2px solid var(--accent-color);\n  border-radius: var(--border-radius);\n  background-color: var(--bg-color);\n  margin-left: 0.25rem;\n  margin-bottom: 0.25rem;\n  padding: var(--fg-container-padding);\n\n  // there are two separate labels, we want the 2nd one to be large. the first is the small floating label\n  .v-field > .v-field__field > .v-label.v-field-label:nth-child(2) {\n    font-size: 1.2rem;\n  }\n\n  // .v-input--horizontal .v-input__append {\n  //   margin-inline-start: 0;\n  // }\n  \n  .v-text-field {\n    min-width: 150px;\n  }\n  \n  .v-field--variant-filled.v-field--has-background .v-field__overlay {\n    border-top-right-radius: 0px;\n}\n\n  .forward-geocoding-input > .v-input__control > .v-field {\n    border-radius: var(--border-radius);\n  }\n  \n  .forward-geocoding-input.geocode-success label {\n    opacity: 1;\n  }\n  \n  .forward-geocoding-input-small label {\n    // .v-label sets default to 1rem\n    font-size: 0.8rem;\n  }\n\n  .forward-geocoding-input-row {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-around;\n    gap: 10px;\n    align-items: center;\n  }\n  \n  .geocoding-search-icon {\n    padding-inline: calc(0.3 * var(--default-line-height));\n    padding-block: calc(0.4 * var(--default-line-height));\n  }\n\n  .geocoding-search-icon:hover, #geocoding-close-icon:hover {\n    cursor: pointer;\n  }\n\n}\n</style>\n","import script from \"./LocationSearch.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./LocationSearch.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./LocationSearch.vue?vue&type=style&index=0&id=049c9a1e&lang=less\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, mergeProps as _mergeProps, normalizeStyle as _normalizeStyle } from \"vue\"\n\nconst _hoisted_1 = {\n  key: 1,\n  id: \"playback-play-pause-button\"\n}\nconst _hoisted_2 = {\n  key: 0,\n  id: \"playback-reverse-time\"\n}\nconst _hoisted_3 = { id: \"reverse-button-text\" }\nconst _hoisted_4 = { id: \"playback-slider-container\" }\nconst _hoisted_5 = { id: \"tick-container\" }\nconst _hoisted_6 = { class: \"tick-label\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_v_icon = _resolveComponent(\"v-icon\")!\n  const _component_icon_button = _resolveComponent(\"icon-button\")!\n  const _component_v_slider = _resolveComponent(\"v-slider\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    id: \"enclosing-playback-container\",\n    style: _normalizeStyle(_ctx.cssVars)\n  }, [\n    ((_ctx.inline && _ctx.inlineButton) || _ctx.showCloseButton)\n      ? (_openBlock(), _createElementBlock(\"div\", {\n          key: 0,\n          id: \"playback-close-button\",\n          onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.$emit('close')))\n        }, [\n          _createVNode(_component_v_icon, {\n            color: _ctx.color,\n            size: \"18\"\n          }, {\n            default: _withCtx(() => _cache[4] || (_cache[4] = [\n              _createTextVNode(\"mdi-close\")\n            ])),\n            _: 1\n          }, 8, [\"color\"])\n        ]))\n      : _createCommentVNode(\"\", true),\n    (!_ctx.inline || _ctx.inlineButton && !_ctx.hidePlayButton)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n          _createVNode(_component_icon_button, {\n            \"md-icon\": _ctx.isPaused ? 'mdi-play' : 'mdi-pause',\n            onActivate: _cache[1] || (_cache[1] = ($event: any) => (_ctx.isPaused = !_ctx.isPaused)),\n            color: _ctx.color,\n            \"focus-color\": _ctx.color,\n            \"tooltip-text\": \"Play/Pause\",\n            \"tooltip-location\": \"top\",\n            \"tooltip-offset\": \"5px\",\n            \"md-size\": \"18\"\n          }, null, 8, [\"md-icon\", \"color\", \"focus-color\"]),\n          (!_ctx.inline || _ctx.inlineButton)\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n                _createVNode(_component_icon_button, {\n                  onActivate: _cache[2] || (_cache[2] = ($event: any) => (_ctx.reverseTime = !_ctx.reverseTime)),\n                  \"md-icon\": _ctx.reverseTime ? 'mdi-step-forward-2' : 'mdi-step-backward-2',\n                  color: _ctx.color,\n                  \"focus-color\": _ctx.color,\n                  \"tooltip-text\": \"Forward/Reverse\",\n                  \"tooltip-location\": \"top\",\n                  \"tooltip-offset\": \"5px\",\n                  \"md-size\": \"18\"\n                }, null, 8, [\"md-icon\", \"color\", \"focus-color\"]),\n                _createElementVNode(\"span\", _hoisted_3, _toDisplayString(_ctx.reverseTime ? 'Forward' : 'Reverse'), 1)\n              ]))\n            : _createCommentVNode(\"\", true)\n        ]))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", _hoisted_4, [\n      _createElementVNode(\"div\", _hoisted_5, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.index, (val) => {\n          return (_openBlock(), _createElementBlock(\"div\", _mergeProps({\n            key: val,\n            ref_for: true\n          }, _ctx.options(val), { class: \"tick\" }), [\n            _createElementVNode(\"span\", _hoisted_6, _toDisplayString(_ctx.valueToMark(val)), 1)\n          ], 16))\n        }), 128))\n      ]),\n      _createVNode(_component_v_slider, {\n        ref: \"slider\",\n        \"hide-details\": \"\",\n        modelValue: _ctx.value,\n        \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((_ctx.value) = $event)),\n        max: _ctx.max ?? _ctx.index[_ctx.index.length - 1],\n        min: _ctx.min ?? _ctx.index[0],\n        \"thumb-size\": 16,\n        color: \"white\",\n        \"track-color\": \"white\",\n        \"track-fill-color\": \"white\",\n        \"thumb-color\": \"blue\",\n        \"track-size\": \"8\",\n        step: _ctx.step,\n        \"show-ticks\": _ctx.useBuiltInTicks ? 'always' : false,\n        ticks: _ctx.useBuiltInTicks ? _ctx.marks : undefined\n      }, null, 8, [\"modelValue\", \"max\", \"min\", \"step\", \"show-ticks\", \"ticks\"])\n    ])\n  ], 4))\n}","<template>\n  <div id=\"enclosing-playback-container\" :style=\"cssVars\">\n    \n    <!-- add a close box -->\n    <div v-if=\"(inline && inlineButton) || showCloseButton\" id=\"playback-close-button\" @click=\"$emit('close')\">\n        <v-icon :color=\"color\" size=\"18\">mdi-close</v-icon>\n    </div>\n    \n    <div v-if=\"!inline || inlineButton && !hidePlayButton\" id=\"playback-play-pause-button\">\n      <icon-button\n        :md-icon=\"isPaused ? 'mdi-play' : 'mdi-pause'\"\n        @activate=\"isPaused = !isPaused\"\n        :color=\"color\"\n        :focus-color=\"color\"\n        tooltip-text=\"Play/Pause\"\n        tooltip-location=\"top\"\n        tooltip-offset=\"5px\"\n        md-size=\"18\"\n      ></icon-button>\n\n      <div v-if=\"!inline || inlineButton\" id=\"playback-reverse-time\">\n        <icon-button\n          @activate=\"reverseTime = !reverseTime\"\n          :md-icon=\"reverseTime ? 'mdi-step-forward-2' : 'mdi-step-backward-2'\"\n          :color=\"color\"\n          :focus-color=\"color\"\n          tooltip-text=\"Forward/Reverse\"\n          tooltip-location=\"top\"\n          tooltip-offset=\"5px\"\n          md-size=\"18\"\n        >\n        </icon-button>\n        <span id=\"reverse-button-text\">{{ reverseTime ? 'Forward' : 'Reverse' }}</span>\n      </div>\n    </div>\n    \n    <div id=\"playback-slider-container\">\n      \n      <div id=\"tick-container\">\n        <div v-for=\"val in index\" :key=\"val\" v-bind=\"options(val)\" class=\"tick\">\n          <span class=\"tick-label\"> {{ valueToMark(val) }} </span>\n        </div>\n      </div>\n      \n      <v-slider\n        ref=\"slider\"\n        hide-details\n        v-model=\"value\"\n        :max=\"max ?? index[index.length - 1]\"\n        :min=\"min ?? index[0]\"\n        :thumb-size=\"16\"\n        color=\"white\"\n        track-color=\"white\"\n        track-fill-color=\"white\"\n        thumb-color=\"blue\"\n        track-size=\"8\"\n        :step=\"step\"\n        :show-ticks=\"useBuiltInTicks ? 'always' : false\"\n        :ticks=\"useBuiltInTicks ? marks : undefined\"\n        >\n      </v-slider>\n    </div>\n\n    \n  </div>\n\n  \n</template>\n\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\nimport { VSlider } from 'vuetify/components/VSlider';\nimport { SymmetricalLogTransform, symmLinspace } from './symlog';\n\nconst symLog = new SymmetricalLogTransform(10);\n\nexport default defineComponent({\n  name: 'PlaybackControl',\n\n  components: {\n    'v-slider': VSlider,\n  },\n  \n  emits: ['update:modelValue', 'paused', 'close'],\n\n  props: {\n    // Define the props here\n    modelValue: {\n      type: Number,\n      default: 1,\n    },\n    maxPower: {\n      type: Number,\n      default: 3,\n    },\n    paused: {\n      type: Boolean,\n      default: true,\n    },\n    \n    max: {\n      type: Number,\n      default: null,\n    },\n    \n    min: {\n      type: Number,\n      default: null,\n    },\n    \n    color: {\n      type: String,\n      default: 'white',\n    },\n    smallScreen: {\n      type: Boolean,\n      default: false,\n    },\n    \n    inline: {\n      type: Boolean,\n      default: true,\n    },\n    inlineButton: {\n      type: Boolean,\n      default: false,\n    },\n    showCloseButton: {\n      type: Boolean,\n      default: false,\n    },\n    hidePlayButton: {\n      type: Boolean,\n      default: false\n    }\n    \n  },\n\n  mounted() {\n    // Do something when the component is mounted\n    // get height of v-input_container\n    const container = document.getElementById('playback-slider-container');\n    if (container) {\n      // query container for the v-slider\n      const input = container.querySelector(' .v-slider__container');\n      if (input) {\n        // get the height of the v-slider\n        const height = input.clientHeight;\n        // set the height of the tick-container\n        container.style.setProperty('--v-slider-height', `${height}px`);\n      }\n    }\n    \n    // create a resize observer for enclosing-playback-container\n    // that adjusts it's scale relative to a certain width\n    const resizeObserver = new ResizeObserver((entries) => {\n      for (const _entry of entries) {\n        \n        const track = document.querySelector('.v-slider-track') as HTMLElement;\n        const container = document.getElementById('enclosing-playback-container') as HTMLElement;\n        if (container) {\n          const input = container.querySelector('.v-slider__container');\n          const tickContainer = document.querySelector('#tick-container') as HTMLElement;\n        \n          const psc = document.querySelector('#playback-slider-container') as HTMLElement;\n          if (track && container) {\n            const s = track.scrollWidth;\n            container.style.setProperty('--track-width', `${s}px`);\n          }\n          if (tickContainer && input && psc) {\n            psc.style.setProperty('--v-slider-height', `${input.clientHeight}px`);\n          }\n          \n          if (this.inline && container) {\n            container.classList.add('inset');\n          } else {\n            container.classList.remove('inset');\n          }\n        }\n        \n        // if container width is more than 300px use .normal-screen on psc\n        // if (container.clientWidth <= 300) {\n        //   psc.classList.add('small-screen');\n        // } else {\n        //   psc.classList.remove('small-screen');\n        // }\n        \n      }\n    });\n    resizeObserver.observe(document.getElementById('enclosing-playback-container')!);\n    \n  },\n\n\n\n  data() {\n    return {\n      // Define the data here\n      data: ['a', 'b', 'c'],\n      symlog: symLog,\n      index: symLog.sequence(this.maxPower).filter(v => v > 0),\n      myTicks: symmLinspace(1, Math.pow(10,this.maxPower), 2).map((val) => symLog.toSymlogIndex(val)),\n      useBuiltInTicks: true,\n    };\n  },\n\n  methods: {\n\n    // Define the methods here\n    valueToMark(value: number): number | string {\n      if (value === 0) return 'Pause';\n      const pre = this.reverseTime ? -1 : 1;\n      return (pre * symLog.fromSymLogIndex(value)).toString() + 'x';\n    },\n\n    options(val: number) {\n      const min = this.min ?? this.index[0];\n      const max = this.max ?? this.index[this.index.length - 1];\n      const pos = (val - min) / (max - min) * 100;\n      return {\n        style: {\n          left: pos + '%',\n        },\n      };\n    },\n\n  },\n\n  computed: {\n    \n    cssVars() {\n      return {\n        '--color': this.color,\n      };\n    },\n    \n    isPaused: {\n      get() {\n        console.log('PBC: isPaused get',this.paused);\n        return this.paused;\n      },\n      set(val: boolean) {\n        console.log('PBC: isPaused set',val);\n        this.$emit('paused', val);\n      }\n    },\n    \n    // Define the computed properties here\n    marks(): Record<number, string> {\n      const marks: Record<number, string> = {};\n      this.index.forEach((value) => {\n        const pre = this.reverseTime ? -1 : 1;\n        marks[value] = value === 0 ? '' : (pre * symLog.fromSymLogIndex(value)).toString();\n      });\n      \n\n      return marks;\n    },\n\n    step(): number {\n      const val = Math.abs(this.value) <= 1 ? 1 : 0.1;\n      return val;\n    },\n    \n    value: {\n      get() {\n        return Math.abs(symLog.toSymlogIndex(this.modelValue));\n      },\n      \n      set(val: number) {\n        const abs = symLog.fromSymLogIndex(val);\n        const sign = this.reverseTime ? -1 : 1;\n        this.$emit('update:modelValue', sign * abs);\n      }\n    },\n    \n    reverseTime: {\n      get() {\n        return this.modelValue < 0;\n      },\n      set(rt: boolean) {\n        const val = symLog.fromSymLogIndex(this.value);\n        this.$emit('update:modelValue', rt ? -val : val);\n      }\n    },\n\n\n\n  }\n});\n\n</script>\n\n<style lang=\"less\">\n// Define the styles here\n\n\n#enclosing-playback-container {\n  // modify the Vuetify slifer properties\n  contain: layout;\n  display: flex;\n  flex-grow: 1;\n  align-items: center;\n  width: 100%;\n  padding-left: 0.5rem;\n  padding-right: 0.25rem;\n  padding-block-start: 0.25rem;\n  padding-block-end: 0.75rem;\n  border-radius: 0.5rem;\n  border: 1px solid white;\n  // min-width: 200px;\n  max-width: 510px;\n  background-color: #272727;\n  font-size: 0.7rem;\n  --track-wdith: 0px; // get set by the resize observer to the actual track width\n  --min-tick-gap: 0.2rem;\n  --tick-color: #ddd;\n  --track-color: white;\n  --tick-font-size: 1em;\n  pointer-events: auto;\n  z-index: 9999;\n  \n  // no close button normally\n  #playback-close-button {\n    position: absolute;\n    right: 0;\n    top: 0;\n    transform: translate(125%, 0);\n    \n    border-radius: 50%;\n    padding: 2px;\n\n    pointer-events: auto;\n    \n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border: 1px solid var(--color);\n    background-color: black;\n    color: var(--color);\n  }\n    \n  // #playback-close-button {\n  //   display: none;\n  // }\n  \n  &.inset {\n    padding: 0;\n    padding-inline: 0.25rem;\n    padding-block-end: 1em;\n    background-color: black;\n    \n    border: 2px solid var(--color);\n    // transform: translateY(25%);\n    \n    --tick-font-size: clamp(10px, 1.5vw, 1em);\n    \n    i.v-icon {\n      font-size: clamp(1vw, 1.5em, 18px) !important;\n      width: 1em !important;\n      height: 1em !important;\n    }\n    \n    #playback-play-pause-button {\n      i.v-icon {\n        font-size: clamp(1vw, 1.5em, 24px) !important;\n        width: 1.5em !important;\n        height: 1em !important;\n      }\n    }\n    \n    #playback-slider-container {\n      \n      padding-inline-start: 0.5rem;\n    }\n    \n    \n    \n  }\n  \n  #playback-play-pause-button {\n    display: flex;\n    margin-inline-end: 0.5rem;\n    flex-direction: row;\n    align-items: center;\n    gap: 0.75em;\n    pointer-events: auto!important;\n    \n    #playback-reverse-time {\n      position: relative;\n      #reverse-button-text {\n        position: absolute;\n        font-size: var(--tick-font-size);\n        left: 0%;\n      }\n      .icon-wrapper {\n        border-radius: 2em;\n      }\n    }\n\n  }\n  \n    > #playback-play-pause-button.hide {\n      display: none; \n    }\n    \n  \n  #playback-slider-container {\n    flex-grow: 1;\n  }\n  \n\n  #playback-slider-container {\n    display: flex;\n    flex-direction: column;\n    position: relative;\n    padding-left: 0.5rem;\n    --v-slider-height: 32px;\n    --psc-offset: calc(-1*var(--tick-font-size)/2);\n\n    height: calc(var(--v-slider-height) + var(--tick-font-size));\n        \n    .v-slider-track__ticks {\n      border-radius: calc(var(--v-slider-height) / 2);\n    }\n    \n    .v-slider-track__tick-label {\n      display: none;\n    }\n    \n    \n    .track-tick-size {\n      font-size: var(--v-slider-track-size);\n      --avail-space: calc((var(--track-width) - 18 * var(--min-tick-gap)) / 9);\n      --v-slider-tick-size: clamp(1em, var(--avail-space), 3em); // scale with track size\n      border-radius: 50%;\n    }\n    \n    .pause-color {\n      --pause-color: rebeccaPurple !important;\n      background-color: var(--pause-color);\n      &.v-slider-track__tick--filled {\n        background-color: var(--pause-color);\n      }\n    }\n    \n    // the zero tick mark\n    \n    \n    // push the track to the back\n    .v-slider-track * {\n        opacity: 1;\n        background-color: var(--track-color);\n      }\n\n    // show no progress fill\n    .v-slider-track__fill {\n      opacity: 0;\n    }\n    \n    .v-slider-track__tick {\n      .track-tick-size();\n      \n      background-color: var(--tick-color);\n      \n      &.v-slider-track__tick--filled {\n        // margin-inline-start: calc(100% - var(--v-slider-tick-size) - 1px); // default\n        background-color: var(--tick-color);\n      }\n      \n      &.v-slider-track__tick--first {\n        // margin-inline-start: calc(var(--v-slider-tick-size) + 1px); // default\n        margin-inline-start: 0px;\n      }\n      \n      &.v-slider-track__tick--last {\n        // margin-inline-start: calc(100% - var(--v-slider-tick-size) - 1px); // default\n        margin-inline-start: 100%;\n      }\n    \n    }\n      \n    @media (max-width: 500px){\n      \n      .v-slider-track__tick {\n        --v-slider-tick-size: 2em;\n      }\n      \n    }\n      \n    \n  }\n  \n  .icon-wrapper {\n    pointer-events: auto;\n  }\n  \n      \n      \n  \n\n\n    #tick-container {\n      --height: 0px;\n      --position: calc(var(--v-slider-height) + var(--height));\n      margin-inline: 8px;\n      position: relative;\n      height: var(--height);\n      transform: translateY(var(--position));\n      \n      @media (max-width: 500px) {\n        --position: calc(var(--v-slider-height) - 0.5em);\n        transform: translateY(--position);\n      }\n\n      .tick {\n        position: absolute;\n        transform: translateX(-50%);\n      }\n      \n\n      .tick-label {\n        font-size: var(--tick-font-size);\n        color: white;\n      }\n\n    }\n  }\n\n\n</style>\n","\n\ntype PNum = number | number[];\ntype ONum<T extends PNum> = T extends number ? number : number[];\n  \nexport class SymmetricalLogTransform {\n  // adapted from matplotlib\n  // https://github.com/matplotlib/matplotlib/blob/main/lib/matplotlib/scale.py#L348\n  private base: number;\n  private logBase: number;\n  \n\n  constructor(base: number = 10) {\n    this.base = base;\n    this.logBase = Math.log(base);\n  }\n  \n  private log(x: number): number {\n    // need this to return exact numbers and 0\n    if (x === 0) {\n      return 0;\n    } \n    if (this.base == 10) {\n      return Math.log10(x);\n    }\n    if (this.base == 2) {\n      return Math.log2(x);\n    }\n    if (this.base == Math.E) {\n      return Math.log(x);\n    }\n    return Math.log(x) / this.logBase;\n  }\n  \n  // generate a sequence of values\n  public sequence(max: number, index: boolean = true): number[] {\n    const rightSide = (new Array(max + 1)).fill(0).map((_, i) => (i+1));\n    const leftSide = rightSide.map((value) => -value).reverse();\n    const seq = leftSide.concat([0]).concat(rightSide);\n    if (index) {\n      return seq;\n    } else {\n      return this.fromSymLogIndex(seq);\n    }\n  }\n  \n  // transform from real numbers to symmetrical log scale\n  private inverseTransform<T extends PNum>(value: T): ONum<T> {\n    // if value is an array, map over it\n    if (Array.isArray(value)) {\n      return value.map((v) => this.inverseTransform(v)) as ONum<T>;\n    }    \n    const absValue = Math.abs(value);\n    let out: number;\n\n    if (absValue > 1) {\n      out = Math.sign(value) * Math.pow(this.base, absValue) / this.base;\n    } else {\n      out = value;\n    }\n    return out as ONum<T>;\n  }\n  \n  private   transform<T extends PNum>(value: T): ONum<T> {\n    // if value is an array, map over it\n    if (Array.isArray(value)) {\n      return value.map((v) => this.transform(v)) as ONum<T>;\n    }\n    \n    const absValue = Math.abs(value);\n    let out: number;\n\n    if (absValue > 1) {\n      out = Math.sign(value) * (this.log(absValue) + 1);\n    } else {\n      out = value;\n    }\n    return out as ONum<T>;\n  }\n  \n  // from -3, -2, -1, 0, 1, 2, 3 --> -100, -10, -1, 0, 1, 10, 100\n  public fromSymLogIndex<T extends PNum>(value: T): ONum<T> {\n    return this.inverseTransform(value);\n  }\n  \n  public toSymlogIndex<T extends PNum>(value: T): ONum<T> {\n    return this.transform(value);\n  }\n\n}\n\n\nexport function makeSymmetric(right: number[]): number[] {\n  const left = right.map((value) => -value).reverse();\n  return left.concat([0]).concat(right);\n}\n\n// generate sequence using step size\nexport function linspace(start: number, stop: number, delta: number): number[] {\n  const out: number[] = [];\n  for (let i = start; i <= stop; i += delta) {\n    out.push(i);\n  }\n  return out;\n}\n\nexport function symmLinspace(start: number, stop: number, delta: number): number[] {\n  const right = linspace(start, stop, delta);\n  return makeSymmetric(right);\n}","import { render } from \"./PlaybackControl.vue?vue&type=template&id=67b09392&ts=true\"\nimport script from \"./PlaybackControl.vue?vue&type=script&lang=ts\"\nexport * from \"./PlaybackControl.vue?vue&type=script&lang=ts\"\n\nimport \"./PlaybackControl.vue?vue&type=style&index=0&id=67b09392&lang=less\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","// wwt_playback_control.ts\n\n// Vue composable for controlling the playback and playrate of the WWT engine\nimport { ref, watch } from \"vue\";\nimport { engineStore } from \"@wwtelescope/engine-pinia\";\ntype WWTEngineStore = ReturnType<typeof engineStore>;\nexport function usePlaybackControl(store: WWTEngineStore, debug = false) {\n  console.log(\"usePlaybackControl\");\n  const clockRate = ref(1);\n  const timePlaying = ref(false);\n  \n  const play = () => { timePlaying.value = true; };\n  \n  const pause = () => { timePlaying.value = false; };\n\n  const togglePlay = () => { timePlaying.value = !timePlaying.value; };\n  \n  \n  function setSpeed(rate: number) {\n    clockRate.value = rate;\n  }\n  \n\n  store.waitForReady().then(() => {\n    watch(clockRate, (newRate) => {\n      store.setClockRate(newRate);\n    });\n\n    watch(timePlaying, (newIsPlaying) => {\n      store.setClockSync(newIsPlaying);\n    });\n    store.setClockRate(clockRate.value);\n    store.setClockSync(timePlaying.value);\n  });\n  \n  // watch everything and log out what changes\n  if (debug) {\n    watch(clockRate, (newRate) => {\n      console.log(\"playbackRate changed\", newRate);\n    });\n    watch(timePlaying, (newIsPlaying) => {\n      console.log(\"isPlaying changed\", newIsPlaying);\n    });\n  }\n\n  \n  \n\n    \n    \n\n\n  return {\n    play, \n    pause,\n    togglePlay,\n    setSpeed,\n    timePlaying,\n    clockRate\n  };\n  \n}\n    ","import { useModel as _useModel, mergeModels as _mergeModels, defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, unref as _unref, createVNode as _createVNode, mergeProps as _mergeProps, withCtx as _withCtx, vShow as _vShow, resolveDirective as _resolveDirective, withDirectives as _withDirectives, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString } from \"vue\"\n\nconst _hoisted_1 = { id: \"speed-control\" }\nconst _hoisted_2 = { id: \"speed-buttons\" }\nconst _hoisted_3 = {\n  key: 5,\n  id: \"inline-speed-control\"\n}\nconst _hoisted_4 = {\n  key: 0,\n  id: \"speed-text\"\n}\n\nimport { ref, computed, watch } from 'vue';\nimport { useDisplay } from 'vuetify';\n\nimport { supportsTouchscreen } from \"@cosmicds/vue-toolkit\";\nimport { engineStore } from \"@wwtelescope/engine-pinia\";\n\nimport { usePlaybackControl } from '../wwt_playback_control';\n\ninterface Props {\n  store: ReturnType<typeof engineStore>;\n  color: string;\n  maxSpeed?: number;\n  defaultRate?: number;\n  useInline?: boolean;\n  showText?: boolean;\n  rateDelta?: number;\n  useOldControl?: boolean;\n}\n\nconst minSpeed = 1;\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'SpeedControl',\n  props: /*@__PURE__*/_mergeModels({\n    store: {},\n    color: { default: 'white' },\n    maxSpeed: { default: 10000 },\n    defaultRate: { default: 1 },\n    useInline: { type: Boolean, default: false },\n    showText: { type: Boolean, default: false },\n    rateDelta: { default: 10 },\n    useOldControl: { type: Boolean, default: false }\n  }, {\n    \"playing\": { type: Boolean, ...{default: false, required: true} },\n    \"playingModifiers\": {},\n  }),\n  emits: /*@__PURE__*/_mergeModels([\"reset\", \"update:reverse\", \"update:playing\", \"slow-down\", \"speed-up\", \"set-rate\"], [\"update:playing\"]),\n  setup(__props: any, { emit: __emit }) {\n\nconst { \n  color, \n  maxSpeed, \n  defaultRate, \n  store, \n  showText, \n  rateDelta, \n  useInline,\n  useOldControl,\n} = __props;\n\n\nconst playing = _useModel<boolean>(__props, 'playing');\nconst emit = __emit;\n\nconst playbackVisible = ref(false);\nconst forceRate = ref(false);\n\nconst { timePlaying, clockRate, setSpeed } = usePlaybackControl(store, false);\nsetSpeed(defaultRate);\n\ntimePlaying.value = playing.value;\nwatch(playing, (v) => {timePlaying.value = v;});\nwatch(timePlaying, (v) => {playing.value = v;});\n\nfunction clamp(val: number) {\n  return Math.min(Math.max(val, minSpeed), maxSpeed);\n}\n\nconst playbackRate = computed({\n  get: function(): number {\n    if (forceRate.value) {\n      const sign = Math.sign(clockRate.value);\n      return sign * Math.min(10, sign * clockRate.value);\n    }\n    return clockRate.value;\n  },\n  set: function(value: number) {\n    clockRate.value = Math.sign(value) * clamp(Math.abs(value));\n  }\n});\n\nfunction reverseRate() {\n  playbackRate.value = -playbackRate.value;\n}\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nfunction setDirection(direction: 'forward' | 'reverse' | null = null) {\n  playbackRate.value = direction == 'reverse' ? -Math.abs(playbackRate.value) : Math.abs(playbackRate.value);\n}\n\nfunction increaseRate() {\n  const sign = Math.sign(playbackRate.value);\n  const abs = Math.abs(playbackRate.value);\n  const newRate = abs * rateDelta;\n  playbackRate.value = sign * clamp(newRate);\n}\nfunction decreaseRate() {\n  const sign = Math.sign(playbackRate.value);\n  const abs = Math.abs(playbackRate.value);\n  const newRate = abs / rateDelta;\n  playbackRate.value = sign * clamp(newRate);\n}\n\n\n// either moves to reverse time (at -1x) or slows down by rateDelta\nfunction reverseOrIncreaseReversePlaybackRate() {\n  forceRate.value = false;\n  const sign = Math.sign(playbackRate.value);\n  if (sign > 0) {\n    playbackRate.value = -Math.min(playbackRate.value, 1);\n    return;\n  }\n  const abs = Math.abs(playbackRate.value);\n  let ezrate = Math.floor(Math.log10(abs));\n  ezrate -= sign * Math.log10(rateDelta);\n  playbackRate.value = sign * clamp(Math.pow(10, Math.abs(ezrate)));\n}\n\n// etiher switches to forward time (at 1x) or speeds up by rateDelta\nfunction forwardOrIncreaseForwardPlaybackRate() {\n  forceRate.value = false;\n  const sign = Math.sign(playbackRate.value);\n  if (sign < 0 ) {\n    playbackRate.value = -Math.max(playbackRate.value,-1);\n    return;\n  }\n  const abs = Math.abs(playbackRate.value);\n  let ezrate = Math.floor(Math.log10(abs));\n  ezrate += sign * Math.log10(rateDelta);\n  playbackRate.value = sign * clamp(Math.pow(10, Math.abs(ezrate)));\n}\n\nconst { smAndDown } = useDisplay();\nconst mobile = computed(() => smAndDown && supportsTouchscreen());\n\nconst allowClickOutside = ref(false);\nfunction onClickOutside() {\n  // console.log('onclickoutside', playbackVisible.value, allowClickOutside.value);\n  if (playbackVisible.value && allowClickOutside.value) {\n    playbackVisible.value = false;\n    return;\n  }\n  allowClickOutside.value = playbackVisible.value;\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_icon_button = _resolveComponent(\"icon-button\")!\n  const _component_playback_control = _resolveComponent(\"playback-control\")!\n  const _component_v_dialog = _resolveComponent(\"v-dialog\")!\n  const _directive_click_outside = _resolveDirective(\"click-outside\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      useOldControl\n        ? (_openBlock(), _createBlock(_component_icon_button, {\n            key: 0,\n            id: \"reverse-speed\",\n            \"fa-icon\": 'angles-left',\n            onActivate: _cache[0] || (_cache[0] = \n          () => {\n            reverseOrIncreaseReversePlaybackRate();\n            timePlaying.value = true;\n          }\n        ),\n            color: color,\n            \"focus-color\": color,\n            \"tooltip-text\": playbackRate.value < 0 ? 'Reverse Faster' : 'Reverse',\n            \"tooltip-location\": \"top\",\n            \"tooltip-offset\": \"5px\",\n            faSize: \"1x\",\n            \"show-tooltip\": !mobile.value\n          }, null, 8, [\"tooltip-text\", \"show-tooltip\"]))\n        : _createCommentVNode(\"\", true),\n      useOldControl\n        ? (_openBlock(), _createBlock(_component_icon_button, {\n            key: 1,\n            id: \"forward-speed\",\n            \"fa-icon\": 'angles-right',\n            onActivate: _cache[1] || (_cache[1] = \n          () => {\n            if (!_unref(timePlaying)) {\n              timePlaying.value = true;\n            } else {\n              forwardOrIncreaseForwardPlaybackRate();\n            }\n            emit('speed-up', playbackRate.value);\n          }\n        ),\n            color: color,\n            \"focus-color\": color,\n            \"tooltip-text\": playbackRate.value > 0 ? 'Faster' : 'Forward',\n            \"tooltip-location\": \"top\",\n            \"tooltip-offset\": \"5px\",\n            faSize: \"1x\",\n            \"show-tooltip\": !mobile.value\n          }, null, 8, [\"tooltip-text\", \"show-tooltip\"]))\n        : _createCommentVNode(\"\", true),\n      _createVNode(_component_icon_button, {\n        onActivate: _cache[2] || (_cache[2] = () => {\n          reverseRate();\n          emit('update:reverse', playbackRate.value < 0);\n        }),\n        \"md-icon\": playbackRate.value < 0 ? 'mdi-step-forward-2' : 'mdi-step-backward-2',\n        color: color,\n        \"focus-color\": color,\n        \"tooltip-text\": playbackRate.value < 0 ? 'Play time forward' : 'Play time backwards',\n        \"tooltip-location\": \"top\",\n        \"tooltip-offset\": \"5px\",\n        \"show-tooltip\": !mobile.value,\n        \"md-size\": \"18\"\n      }, null, 8, [\"md-icon\", \"tooltip-text\", \"show-tooltip\"]),\n      _createVNode(_component_icon_button, {\n        id: \"play-pause-icon\",\n        \"fa-icon\": !_unref(timePlaying) ? 'play' : 'pause',\n        onActivate: _cache[3] || (_cache[3] = \n          () => {\n            timePlaying.value = !_unref(timePlaying);\n            emit('update:playing', _unref(timePlaying));\n          }\n        ),\n        color: color,\n        \"focus-color\": color,\n        \"tooltip-text\": \"Play/Pause\",\n        \"tooltip-location\": \"top\",\n        \"tooltip-offset\": \"5px\",\n        faSize: \"1x\",\n        \"show-tooltip\": !mobile.value\n      }, null, 8, [\"fa-icon\", \"show-tooltip\"]),\n      (!useOldControl)\n        ? (_openBlock(), _createBlock(_component_icon_button, {\n            key: 2,\n            id: \"slow-down\",\n            \"fa-icon\": 'angles-down',\n            onActivate: _cache[4] || (_cache[4] = \n          () => {\n            decreaseRate();\n            timePlaying.value = true;\n            emit('slow-down', playbackRate.value);\n          }\n        ),\n            color: color,\n            \"focus-color\": color,\n            \"tooltip-text\": `Slow down ${rateDelta}x`,\n            \"tooltip-location\": \"top\",\n            \"tooltip-offset\": \"5px\",\n            faSize: \"1x\",\n            \"show-tooltip\": !mobile.value\n          }, null, 8, [\"tooltip-text\", \"show-tooltip\"]))\n        : _createCommentVNode(\"\", true),\n      (!useOldControl)\n        ? (_openBlock(), _createBlock(_component_icon_button, {\n            key: 3,\n            id: \"speed-up\",\n            \"fa-icon\": 'angles-up',\n            onActivate: _cache[5] || (_cache[5] = \n          () => {\n            increaseRate();\n            timePlaying.value = true;\n            emit('speed-up', playbackRate.value);\n          }\n        ),\n            color: color,\n            \"focus-color\": color,\n            \"tooltip-text\": `Speed up ${rateDelta}x`,\n            \"tooltip-location\": \"top\",\n            \"tooltip-offset\": \"5px\",\n            faSize: \"1x\",\n            \"show-tooltip\": !mobile.value\n          }, null, 8, [\"tooltip-text\", \"show-tooltip\"]))\n        : _createCommentVNode(\"\", true),\n      _createVNode(_component_icon_button, {\n        id: \"reset\",\n        \"fa-icon\": 'rotate',\n        onActivate: _cache[6] || (_cache[6] = \n          () => {\n            playbackRate.value = 100;\n            timePlaying.value = false;\n            forceRate.value = false;\n            emit('reset');\n          }\n        ),\n        color: color,\n        \"focus-color\": color,\n        \"tooltip-text\": \"Reset\",\n        \"tooltip-location\": \"top\",\n        \"tooltip-offset\": \"5px\",\n        faSize: \"1x\",\n        \"show-tooltip\": !mobile.value\n      }, null, 8, [\"show-tooltip\"]),\n      (!useInline)\n        ? (_openBlock(), _createBlock(_component_v_dialog, {\n            key: 4,\n            modelValue: playbackVisible.value,\n            \"onUpdate:modelValue\": _cache[11] || (_cache[11] = ($event: any) => ((playbackVisible).value = $event)),\n            scrim: false,\n            location: \"top\",\n            offset: \"40\",\n            \"location-strategy\": \"connected\",\n            persistent: \"\",\n            \"no-click-animation\": \"\",\n            \"retain-focus\": false\n          }, {\n            activator: _withCtx(({ props }) => [\n              _createVNode(_component_icon_button, _mergeProps({\n                id: \"speed-control-icon\",\n                onActivate: _cache[7] || (_cache[7] = \n              () => {\n                playbackVisible.value = !playbackVisible.value;\n              }\n            ),\n                \"fa-icon\": playbackVisible.value ? 'times' : 'gauge-high',\n                color: color,\n                \"focus-color\": color,\n                \"tooltip-text\": \"More Speed Controls\",\n                \"tooltip-location\": \"top\",\n                \"tooltip-offset\": \"5px\",\n                faSize: \"1x\",\n                \"show-tooltip\": !mobile.value\n              }, props), null, 16, [\"fa-icon\", \"show-tooltip\"])\n            ]),\n            default: _withCtx(() => [\n              (playbackVisible.value)\n                ? (_openBlock(), _createBlock(_component_playback_control, {\n                    key: 0,\n                    class: \"desktop-playback-control\",\n                    \"model-value\": playbackRate.value,\n                    \"onUpdate:modelValue\": _cache[8] || (_cache[8] = \n            (value) => {\n              forceRate.value = false;\n              playbackRate.value = value;\n              emit('set-rate', value);\n            }\n          ),\n                    paused: !_unref(timePlaying),\n                    onPaused: _cache[9] || (_cache[9] = (paused) => {\n            timePlaying.value = !paused;\n            emit('update:playing', !paused);\n          }),\n                    \"max-power\": Math.log10(maxSpeed),\n                    max: Math.log10(maxSpeed) + 1,\n                    color: color,\n                    inline: false,\n                    \"show-close-button\": \"\",\n                    onClose: _cache[10] || (_cache[10] = \n            () => {\n              playbackVisible.value = false;\n            }\n          )\n                  }, null, 8, [\"model-value\", \"paused\", \"max-power\", \"max\"]))\n                : _createCommentVNode(\"\", true)\n            ]),\n            _: 1\n          }, 8, [\"modelValue\"]))\n        : _createCommentVNode(\"\", true),\n      useInline\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [\n            _createVNode(_component_icon_button, {\n              id: \"speed-control-icon\",\n              onActivate: _cache[12] || (_cache[12] = \n            () => {\n              playbackVisible.value = !playbackVisible.value;\n              allowClickOutside.value = false; // prevent onClickOutside from hiding it.\n            }\n          ),\n              \"fa-icon\": playbackVisible.value ? 'times' : 'gauge-high',\n              color: color,\n              \"focus-color\": color,\n              \"tooltip-text\": \"Time Controls\",\n              \"tooltip-location\": \"top\",\n              \"tooltip-offset\": \"5px\",\n              faSize: \"1x\",\n              \"show-tooltip\": !mobile.value\n            }, null, 8, [\"fa-icon\", \"show-tooltip\"]),\n            _withDirectives(_createVNode(_component_playback_control, {\n              class: \"mobile-playback-control\",\n              \"model-value\": playbackRate.value,\n              \"onUpdate:modelValue\": _cache[13] || (_cache[13] = \n            (value) => {\n              forceRate.value = false;\n              playbackRate.value = value;\n              emit('set-rate', value);\n            }\n          ),\n              paused: !_unref(timePlaying),\n              onPaused: _cache[14] || (_cache[14] = ($event: any) => (timePlaying.value = !$event)),\n              \"max-power\": Math.log10(maxSpeed),\n              max: Math.log10(maxSpeed) + 1,\n              color: color,\n              inline: true,\n              \"inline-button\": \"\",\n              onClose: _cache[15] || (_cache[15] = \n            () => {\n              playbackVisible.value = false;\n            }\n          )\n            }, null, 8, [\"model-value\", \"paused\", \"max-power\", \"max\"]), [\n              [_vShow, playbackVisible.value],\n              [_directive_click_outside, onClickOutside]\n            ])\n          ]))\n        : _createCommentVNode(\"\", true)\n    ]),\n    showText\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, _toDisplayString(Math.round(playbackRate.value)) + \"x \" + _toDisplayString(_unref(timePlaying) ? '' : '(Paused)'), 1))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","<template>\n  <div id=\"speed-control\">\n    <div id=\"speed-buttons\">\n      <icon-button\n        v-if=\"useOldControl\"\n        id=\"reverse-speed\"\n        :fa-icon=\"'angles-left'\"\n        @activate=\"\n          () => {\n            reverseOrIncreaseReversePlaybackRate();\n            timePlaying = true;\n          }\n        \"\n        :color=\"color\"\n        :focus-color=\"color\"\n        :tooltip-text=\"playbackRate < 0 ? 'Reverse Faster' : 'Reverse'\"\n        tooltip-location=\"top\"\n        tooltip-offset=\"5px\"\n        faSize=\"1x\"\n        :show-tooltip=\"!mobile\"\n      ></icon-button>\n      \n      <icon-button \n        v-if=\"useOldControl\"\n        id=\"forward-speed\"\n        :fa-icon=\"'angles-right'\"\n        @activate=\"\n          () => {\n            if (!timePlaying) {\n              timePlaying = true;\n            } else {\n              forwardOrIncreaseForwardPlaybackRate();\n            }\n            emit('speed-up', playbackRate);\n          }\n        \"\n        :color=\"color\"\n        :focus-color=\"color\"\n        :tooltip-text=\"playbackRate > 0 ? 'Faster' : 'Forward'\"\n        tooltip-location=\"top\"\n        tooltip-offset=\"5px\"\n        faSize=\"1x\"\n        :show-tooltip=\"!mobile\"\n      ></icon-button>\n      \n      <!-- <icon-button \n        v-if=\"!useOldControl\"\n        id=\"reverse-direction\"\n        :fa-icon=\"'angles-left'\"\n        @activate=\"\n          () => {\n            setDirection('reverse')\n            timePlaying = true\n          }\n        \"\n        :color=\"color\"\n        :focus-color=\"color\"\n        tooltip-text=\"Reverse\"\n        tooltip-location=\"top\"\n        tooltip-offset=\"5px\"\n        faSize=\"1x\"\n        :show-tooltip=\"!mobile\"\n      ></icon-button> -->\n      \n      <!-- <icon-button \n        v-if=\"!useOldControl\"\n        id=\"forward-direction\"\n        :fa-icon=\"'angles-right'\"\n        @activate=\"\n          () => {\n            setDirection('forward');\n            timePlaying = true\n          }\n        \"\n        :color=\"color\"\n        :focus-color=\"color\"\n        tooltip-text=\"Forward\"\n        tooltip-location=\"top\"\n        tooltip-offset=\"5px\"\n        faSize=\"1x\"\n        :show-tooltip=\"!mobile\"\n      ></icon-button> -->\n      <icon-button\n        @activate=\"() => {\n          reverseRate();\n          emit('update:reverse', playbackRate < 0);\n        }\"\n        :md-icon=\"playbackRate < 0 ? 'mdi-step-forward-2' : 'mdi-step-backward-2'\"\n        :color=\"color\"\n        :focus-color=\"color\"\n        :tooltip-text=\"playbackRate < 0 ? 'Play time forward' : 'Play time backwards'\"\n        tooltip-location=\"top\"\n        tooltip-offset=\"5px\"\n        :show-tooltip=\"!mobile\"\n        md-size=\"18\"\n      >\n      </icon-button>\n      \n      <icon-button \n        id=\"play-pause-icon\"\n        :fa-icon=\"!timePlaying ? 'play' : 'pause'\"\n        @activate=\"\n          () => {\n            timePlaying = !timePlaying;\n            emit('update:playing', timePlaying);\n          }\n        \"\n        :color=\"color\"\n        :focus-color=\"color\"\n        tooltip-text=\"Play/Pause\"\n        tooltip-location=\"top\"\n        tooltip-offset=\"5px\"\n        faSize=\"1x\"\n        :show-tooltip=\"!mobile\"\n      ></icon-button>\n      \n      <icon-button \n        v-if=\"!useOldControl\"\n        id=\"slow-down\"\n        :fa-icon=\"'angles-down'\"\n        @activate=\"\n          () => {\n            decreaseRate();\n            timePlaying = true;\n            emit('slow-down', playbackRate);\n          }\n        \"\n        :color=\"color\"\n        :focus-color=\"color\"\n        :tooltip-text=\"`Slow down ${rateDelta}x`\"\n        tooltip-location=\"top\"\n        tooltip-offset=\"5px\"\n        faSize=\"1x\"\n        :show-tooltip=\"!mobile\"\n      ></icon-button>\n      \n      <icon-button \n        v-if=\"!useOldControl\"\n        id=\"speed-up\"\n        :fa-icon=\"'angles-up'\"\n        @activate=\"\n          () => {\n            increaseRate();\n            timePlaying = true;\n            emit('speed-up', playbackRate);\n          }\n        \"\n        :color=\"color\"\n        :focus-color=\"color\"\n        :tooltip-text=\"`Speed up ${rateDelta}x`\"\n        tooltip-location=\"top\"\n        tooltip-offset=\"5px\"\n        faSize=\"1x\"\n        :show-tooltip=\"!mobile\"\n      ></icon-button>\n      \n      \n\n      <icon-button \n        id=\"reset\"\n        :fa-icon=\"'rotate'\"\n        @activate=\"\n          () => {\n            playbackRate = 100;\n            timePlaying = false;\n            forceRate = false;\n            emit('reset');\n          }\n        \"\n        :color=\"color\"\n        :focus-color=\"color\"\n        tooltip-text=\"Reset\"\n        tooltip-location=\"top\"\n        tooltip-offset=\"5px\"\n        faSize=\"1x\"\n        :show-tooltip=\"!mobile\"\n      ></icon-button>\n\n      <v-dialog\n        v-if=\"!useInline\"\n        v-model=\"playbackVisible\"\n        :scrim=\"false\"\n        location=\"top\"\n        offset=\"40\"\n        location-strategy=\"connected\"\n        persistent\n        no-click-animation\n        :retain-focus=\"false\"\n      >\n        <template v-slot:activator=\"{ props }\">\n          <icon-button\n            id=\"speed-control-icon\"\n            @activate=\"\n              () => {\n                playbackVisible = !playbackVisible;\n              }\n            \"\n            :fa-icon=\"playbackVisible ? 'times' : 'gauge-high'\"\n            :color=\"color\"\n            :focus-color=\"color\"\n            tooltip-text=\"More Speed Controls\"\n            tooltip-location=\"top\"\n            tooltip-offset=\"5px\"\n            faSize=\"1x\"\n            :show-tooltip=\"!mobile\"\n            v-bind=\"props\"\n          ></icon-button>\n        </template>\n        <playback-control\n          class=\"desktop-playback-control\"\n          v-if=\"playbackVisible\"\n          :model-value=\"playbackRate\"\n          @update:modelValue=\"\n            (value: number) => {\n              forceRate = false;\n              playbackRate = value;\n              emit('set-rate', value);\n            }\n          \"\n          :paused=\"!timePlaying\"\n          @paused=\"(paused: boolean) => {\n            timePlaying = !paused;\n            emit('update:playing', !paused);\n          }\"\n          :max-power=\"Math.log10(maxSpeed)\"\n          :max=\"Math.log10(maxSpeed) + 1\"\n          :color=\"color\"\n          :inline=\"false\"\n          show-close-button\n          @close=\"\n            () => {\n              playbackVisible = false;\n            }\n          \"\n        />\n      </v-dialog>\n      <div v-if=\"useInline\" id=\"inline-speed-control\">\n        <icon-button\n          id=\"speed-control-icon\"\n          @activate=\"\n            () => {\n              playbackVisible = !playbackVisible;\n              allowClickOutside = false; // prevent onClickOutside from hiding it.\n            }\n          \"\n          :fa-icon=\"playbackVisible ? 'times' : 'gauge-high'\"\n          :color=\"color\"\n          :focus-color=\"color\"\n          tooltip-text=\"Time Controls\"\n          tooltip-location=\"top\"\n          tooltip-offset=\"5px\"\n          faSize=\"1x\"\n          :show-tooltip=\"!mobile\"\n        ></icon-button>\n\n        <playback-control\n          class=\"mobile-playback-control\"\n          v-show=\"playbackVisible\"\n          :model-value=\"playbackRate\"\n          @update:modelValue=\"\n            (value: number) => {\n              forceRate = false;\n              playbackRate = value;\n              emit('set-rate', value);\n            }\n          \"\n          :paused=\"!timePlaying\"\n          @paused=\"timePlaying = !$event\"\n          :max-power=\"Math.log10(maxSpeed)\"\n          :max=\"Math.log10(maxSpeed) + 1\"\n          :color=\"color\"\n          :inline=\"true\"\n          inline-button\n          v-click-outside=\"onClickOutside\"\n          @close=\"\n            () => {\n              playbackVisible = false;\n            }\n          \"\n        />\n      </div>\n    </div>\n    \n    <div v-if=\"showText\" id=\"speed-text\">{{ Math.round(playbackRate) }}x {{ timePlaying ? '' : '(Paused)'  }}</div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, watch } from 'vue';\nimport { useDisplay } from 'vuetify';\n\nimport { supportsTouchscreen } from \"@cosmicds/vue-toolkit\";\nimport { engineStore } from \"@wwtelescope/engine-pinia\";\n\nimport { usePlaybackControl } from '../wwt_playback_control';\n\ninterface Props {\n  store: ReturnType<typeof engineStore>;\n  color: string;\n  maxSpeed?: number;\n  defaultRate?: number;\n  useInline?: boolean;\n  showText?: boolean;\n  rateDelta?: number;\n  useOldControl?: boolean;\n}\n\nconst { \n  color, \n  maxSpeed, \n  defaultRate, \n  store, \n  showText, \n  rateDelta, \n  useInline,\n  useOldControl,\n} = withDefaults(defineProps<Props>(),\n  {\n    color: 'white',\n    maxSpeed: 10000,\n    defaultRate: 1,\n    useInline: false,\n    showText: false,\n    rateDelta: 10,\n    useOldControl: false,\n  }\n);\n\n\nconst playing = defineModel<boolean>('playing', {default: false, required: true});\nconst minSpeed = 1;\n\nconst emit = defineEmits<{\n  \"reset\": void,\n  \"update:reverse\": boolean,\n  \"update:playing\": boolean,\n  \"slow-down\": number,\n  \"speed-up\": number,\n  \"set-rate\": number,\n}>();\n\nconst playbackVisible = ref(false);\nconst forceRate = ref(false);\n\nconst { timePlaying, clockRate, setSpeed } = usePlaybackControl(store, false);\nsetSpeed(defaultRate);\n\ntimePlaying.value = playing.value;\nwatch(playing, (v) => {timePlaying.value = v;});\nwatch(timePlaying, (v) => {playing.value = v;});\n\nfunction clamp(val: number) {\n  return Math.min(Math.max(val, minSpeed), maxSpeed);\n}\n\nconst playbackRate = computed({\n  get: function(): number {\n    if (forceRate.value) {\n      const sign = Math.sign(clockRate.value);\n      return sign * Math.min(10, sign * clockRate.value);\n    }\n    return clockRate.value;\n  },\n  set: function(value: number) {\n    clockRate.value = Math.sign(value) * clamp(Math.abs(value));\n  }\n});\n\nfunction reverseRate() {\n  playbackRate.value = -playbackRate.value;\n}\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nfunction setDirection(direction: 'forward' | 'reverse' | null = null) {\n  playbackRate.value = direction == 'reverse' ? -Math.abs(playbackRate.value) : Math.abs(playbackRate.value);\n}\n\nfunction increaseRate() {\n  const sign = Math.sign(playbackRate.value);\n  const abs = Math.abs(playbackRate.value);\n  const newRate = abs * rateDelta;\n  playbackRate.value = sign * clamp(newRate);\n}\nfunction decreaseRate() {\n  const sign = Math.sign(playbackRate.value);\n  const abs = Math.abs(playbackRate.value);\n  const newRate = abs / rateDelta;\n  playbackRate.value = sign * clamp(newRate);\n}\n\n\n// either moves to reverse time (at -1x) or slows down by rateDelta\nfunction reverseOrIncreaseReversePlaybackRate() {\n  forceRate.value = false;\n  const sign = Math.sign(playbackRate.value);\n  if (sign > 0) {\n    playbackRate.value = -Math.min(playbackRate.value, 1);\n    return;\n  }\n  const abs = Math.abs(playbackRate.value);\n  let ezrate = Math.floor(Math.log10(abs));\n  ezrate -= sign * Math.log10(rateDelta);\n  playbackRate.value = sign * clamp(Math.pow(10, Math.abs(ezrate)));\n}\n\n// etiher switches to forward time (at 1x) or speeds up by rateDelta\nfunction forwardOrIncreaseForwardPlaybackRate() {\n  forceRate.value = false;\n  const sign = Math.sign(playbackRate.value);\n  if (sign < 0 ) {\n    playbackRate.value = -Math.max(playbackRate.value,-1);\n    return;\n  }\n  const abs = Math.abs(playbackRate.value);\n  let ezrate = Math.floor(Math.log10(abs));\n  ezrate += sign * Math.log10(rateDelta);\n  playbackRate.value = sign * clamp(Math.pow(10, Math.abs(ezrate)));\n}\n\nconst { smAndDown } = useDisplay();\nconst mobile = computed(() => smAndDown && supportsTouchscreen());\n\nconst allowClickOutside = ref(false);\nfunction onClickOutside() {\n  // console.log('onclickoutside', playbackVisible.value, allowClickOutside.value);\n  if (playbackVisible.value && allowClickOutside.value) {\n    playbackVisible.value = false;\n    return;\n  }\n  allowClickOutside.value = playbackVisible.value;\n}\n</script>\n\n<style lang=\"less\">\n\n#speed-control {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 10px;\n  //margin-left: 10px;\n\n  #speed-buttons {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n\n    @media (max-width: 600px) {\n      gap: 20px;\n    }\n\n    @media (min-width: 601px) {\n      gap: 10px;\n    }\n\n  }\n  \n  @media (orientation: landscape) {\n    // margin-left: 3rem;\n  }\n  \n  .icon-wrapper {\n    padding-inline: calc(0.3 * var(--default-line-height));\n    padding-block: calc(0.4 * var(--default-line-height));\n    border: 2px solid var(--accent-color);\n  }\n\n}\n\n#enclosing-playback-container.desktop-playback-control {\n  --tick-font-size: 12px;\n  margin-bottom: calc(2.5rem + 5px);\n  padding-right: 1rem;\n  \n}\n\n// account for the long 10000x text\n#enclosing-playback-container.inset {\n  padding-right: 1rem;\n}\n\n\n#inline-speed-control {\n  display: flex; \n  flex-grow: 0;\n  align-items: flex-end; \n  position: relative; \n  gap: 6px;\n\n#enclosing-playback-container.mobile-playback-control {\n    position: fixed;\n    width: calc(90% - 1rem);\n    left: calc(50% - 11px); // 9px is half the size close button\n    --off: 0; //calc(50%);\n    transform: translateX(-50%) translateY(var(--off)) !important;\n  }\n\n}\n\n\n#speed-text {\n  background-color: rgba(0, 0, 0, 0.5);\n  padding-inline: 0.4em;\n  border-radius: 0.3em;\n  font-size: calc(1 * var(--default-font-size));\n  text-wrap: nowrap;  \n  width: fit-content;\n  align-self: center;\n}\n\n</style>\n","import script from \"./SpeedControl.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./SpeedControl.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./SpeedControl.vue?vue&type=style&index=0&id=0a151368&lang=less\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"td__container\" }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"td__date\"\n}\nconst _hoisted_3 = { class: \"td__date_date\" }\nconst _hoisted_4 = {\n  key: 1,\n  class: \"td__time\"\n}\nconst _hoisted_5 = { class: \"td__time_time\" }\nconst _hoisted_6 = {\n  key: 2,\n  class: \"td__timezone\"\n}\nconst _hoisted_7 = { class: \"td__timezone_tz\" }\nconst _hoisted_8 = {\n  key: 3,\n  class: \"td__time\"\n}\nconst _hoisted_9 = { class: \"td__time_time td__short_time\" }\n\nimport { computed } from 'vue';\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'TimeDisplay',\n  props: {\n  date: { type: Date, required: true },\n  ampm: { type: Boolean, default: false },\n  showDate: { type: Boolean, default: true, required: false },\n  showTimezone: { type: Boolean, default: true, required: false },\n  shortTimeDate: { type: Boolean, default: false, required: false },\n  timezone: { \n    type: String, \n    default: Intl.DateTimeFormat().resolvedOptions().timeZone, \n    required: false \n  }\n},\n  setup(__props) {\n\nconst props = __props;\n\nfunction pad(number: number, length: number = 2): string {\n  return String(number).padStart(length, '0');\n}\n\n\nconst hours = computed(() => {\n  if (props.ampm) {\n    const hour = props.date.getHours() % 12;\n    return hour === 0 ? 12 : hour;\n  } else {\n    return props.date.getHours();\n  }\n});\n\n\nconst ampm = computed(() => {\n  return props.date.getHours() >= 12 ? 'PM' : 'AM';\n});\n\nconst shortTimeDateString = computed(() => {\n  // return date formatted as Oct 3 9:00 AM\n  const year = props.date.getFullYear();\n  const month = props.date.toLocaleString('default', { month: 'short' });\n  const day = props.date.getDate();\n  const h = props.date.getHours() % 12;\n  const hour = h === 0 ? 12 : h;\n  const minute = pad(props.date.getMinutes());\n  const ampm = props.date.getHours() >= 12 ? 'PM' : 'AM';\n  const tz =  props.timezone;\n  return `${month} ${day} ${year} ${hour}:${minute} ${ampm}` + (props.showTimezone ? ` ${tz}` : '');\n});\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (props.showDate && !props.shortTimeDate)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n          _createElementVNode(\"span\", _hoisted_3, _toDisplayString(props.date.toLocaleString('default', { month: 'long' })) + \" \" + _toDisplayString(pad(props.date.getDate())) + \", \" + _toDisplayString(props.date.getFullYear()), 1)\n        ]))\n      : _createCommentVNode(\"\", true),\n    (!props.shortTimeDate)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [\n          _createElementVNode(\"span\", _hoisted_5, _toDisplayString(pad(hours.value)) + \":\" + _toDisplayString(pad(props.date.getMinutes())) + \":\" + _toDisplayString(pad(props.date.getSeconds())) + \" \" + _toDisplayString(props.ampm ? ampm.value : ''), 1)\n        ]))\n      : _createCommentVNode(\"\", true),\n    (props.showTimezone && !props.shortTimeDate)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [\n          _createElementVNode(\"span\", _hoisted_7, _toDisplayString(props.timezone), 1)\n        ]))\n      : _createCommentVNode(\"\", true),\n    (props.shortTimeDate)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [\n          _createElementVNode(\"span\", _hoisted_9, _toDisplayString(shortTimeDateString.value), 1)\n        ]))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","<template>\n    <div class=\"td__container\">\n      <div class=\"td__date\" v-if=\"props.showDate && !props.shortTimeDate\">\n        <span class=\"td__date_date\">\n          {{ props.date.toLocaleString('default', { month: 'long' }) }} {{ pad(props.date.getDate()) }}, {{ props.date.getFullYear() }}\n        </span>\n      </div>\n      <div class=\"td__time\" v-if=\"!props.shortTimeDate\">\n        <span class=\"td__time_time\">{{ pad(hours) }}:{{ pad(props.date.getMinutes()) }}:{{ pad(props.date.getSeconds()) }} {{ props.ampm ? ampm : '' }}</span>\n      </div>\n      <div class=\"td__timezone\" v-if=\"props.showTimezone && !props.shortTimeDate\">\n        <span class=\"td__timezone_tz\">{{ props.timezone }}</span>\n      </div>\n      <div class=\"td__time\" v-if=\"props.shortTimeDate\"> \n        <span class=\"td__time_time td__short_time\">{{ shortTimeDateString }}</span>\n      </div>\n      \n   </div>  \n</template>\n\n\n\n<script setup lang=\"ts\">\nimport { computed, defineProps } from 'vue';\n\nconst props = defineProps({\n  date: { type: Date, required: true },\n  ampm: { type: Boolean, default: false },\n  showDate: { type: Boolean, default: true, required: false },\n  showTimezone: { type: Boolean, default: true, required: false },\n  shortTimeDate: { type: Boolean, default: false, required: false },\n  timezone: { \n    type: String, \n    default: Intl.DateTimeFormat().resolvedOptions().timeZone, \n    required: false \n  }\n}\n);\n\nfunction pad(number: number, length: number = 2): string {\n  return String(number).padStart(length, '0');\n}\n\n\nconst hours = computed(() => {\n  if (props.ampm) {\n    const hour = props.date.getHours() % 12;\n    return hour === 0 ? 12 : hour;\n  } else {\n    return props.date.getHours();\n  }\n});\n\n\nconst ampm = computed(() => {\n  return props.date.getHours() >= 12 ? 'PM' : 'AM';\n});\n\nconst shortTimeDateString = computed(() => {\n  // return date formatted as Oct 3 9:00 AM\n  const year = props.date.getFullYear();\n  const month = props.date.toLocaleString('default', { month: 'short' });\n  const day = props.date.getDate();\n  const h = props.date.getHours() % 12;\n  const hour = h === 0 ? 12 : h;\n  const minute = pad(props.date.getMinutes());\n  const ampm = props.date.getHours() >= 12 ? 'PM' : 'AM';\n  const tz =  props.timezone;\n  return `${month} ${day} ${year} ${hour}:${minute} ${ampm}` + (props.showTimezone ? ` ${tz}` : '');\n});\n\n\n</script>\n\n<style>\n\n.td__container {\n  margin: 1em;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  color: currentColor;\n}\n\n.td__container > div > span {\n  -webkit-user-select: none; /* Safari */\n  -ms-user-select: none; /* IE 10 and IE 11 */\n  user-select: none; /* Standard syntax */\n}\n\n.td__time {\n  width: max-content;\n}\n\n.td__time_time {\n  font-size: 1em;\n  color: inherit;\n  text-align: center;\n  text-wrap: nowrap;\n  width: fit-content;\n}\n\n.td__date {\n  width: max-content;\n}\n\n.td__date_date {\n  font-size: 0.75em;\n  color: inherit;\n  text-align: center;\n  text-wrap: nowrap;\n  width: fit-content;\n}\n\n.td__timezone {\n  width: max-content;\n}\n\n.td__timezone_tz {\n  font-size: 0.75em;\n  color: inherit;\n  text-align: center;\n  text-wrap: nowrap;\n  width: fit-content;\n}\n\n</style>","import script from \"./TimeDisplay.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./TimeDisplay.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./TimeDisplay.vue?vue&type=style&index=0&id=63a76c3e&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { useModel as _useModel, mergeModels as _mergeModels, defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, withKeys as _withKeys, createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, normalizeStyle as _normalizeStyle, resolveDirective as _resolveDirective, openBlock as _openBlock, createElementBlock as _createElementBlock, withDirectives as _withDirectives, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = { id: \"first-splash-row\" }\nconst _hoisted_2 = { id: \"splash-screen-text\" }\nconst _hoisted_3 = { class: \"highlight\" }\nconst _hoisted_4 = { id: \"splash-screen-acknowledgements\" }\nconst _hoisted_5 = { id: \"splash-screen-logos\" }\n\nimport {computed} from 'vue';\nexport interface Props {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  cssVars?: any;\n  title: string;\n  color?: string,\n  highlightColor?: string\n}\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'SplashScreen',\n  props: /*@__PURE__*/_mergeModels({\n    cssVars: { default: () => ({}) },\n    title: {},\n    color: {},\n    highlightColor: {}\n  }, {\n    \"modelValue\": { default: true },\n    \"modelModifiers\": {},\n  }),\n  emits: /*@__PURE__*/_mergeModels(['close'], [\"update:modelValue\"]),\n  setup(__props: any, { emit: __emit }) {\n\nconst props = __props;\n\nconsole.log(props.cssVars);\n\nconst cssVars = computed(() => {\n  return {\n    ...props.cssVars,\n    ...{'--accent-color': props.color == null ? props.cssVars['--accent-color'] : props.color},\n    ...{'--accent-color2': props.highlightColor == null ? props.cssVars['--accent-color2'] : props.highlightColor}\n  };\n});\n\nconst emits = __emit;\n\nconst showSplashScreen = _useModel(__props, \"modelValue\");\n\n\nfunction closeSplashScreen() {\n  showSplashScreen.value = false;\n  emits('close');\n}\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\")!\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n  const _component_credit_logos = _resolveComponent(\"credit-logos\")!\n  const _component_focus_trap = _resolveComponent(\"focus-trap\")!\n  const _component_v_overlay = _resolveComponent(\"v-overlay\")!\n  const _directive_click_outside = _resolveDirective(\"click-outside\")!\n\n  return (_openBlock(), _createBlock(_component_v_overlay, {\n    \"model-value\": showSplashScreen.value,\n    absolute: \"\",\n    opacity: \"0.6\",\n    style: _normalizeStyle(cssVars.value),\n    id: \"splash-overlay\"\n  }, {\n    default: _withCtx(() => [\n      _createVNode(_component_focus_trap, null, {\n        default: _withCtx(() => [\n          _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n            id: \"splash-screen\",\n            style: _normalizeStyle(cssVars.value)\n          }, [\n            _createElementVNode(\"div\", _hoisted_1, [\n              _createVNode(_component_font_awesome_icon, {\n                id: \"close-splash-button\",\n                onClick: closeSplashScreen,\n                onKeyup: _withKeys(closeSplashScreen, [\"enter\"]),\n                icon: \"xmark\",\n                tabindex: \"0\"\n              }),\n              _createElementVNode(\"div\", _hoisted_2, [\n                _cache[0] || (_cache[0] = _createElementVNode(\"p\", null, \"Want to see the\", -1)),\n                _createElementVNode(\"p\", _hoisted_3, _toDisplayString(_ctx.title) + \"?\", 1)\n              ])\n            ]),\n            _createElementVNode(\"div\", null, [\n              _createVNode(_component_v_btn, {\n                class: \"splash-get-started\",\n                onClick: closeSplashScreen,\n                onKeyup: _withKeys(closeSplashScreen, [\"enter\"]),\n                color: cssVars.value['--accent-color'],\n                density: _ctx.$vuetify.display.xs ? 'compact' : 'default',\n                size: _ctx.$vuetify.display.width < 250 ? 'large' : 'x-large',\n                variant: \"elevated\",\n                rounded: \"lg\"\n              }, {\n                default: _withCtx(() => _cache[1] || (_cache[1] = [\n                  _createTextVNode(\" Get Started \")\n                ])),\n                _: 1\n              }, 8, [\"color\", \"density\", \"size\"])\n            ]),\n            _createElementVNode(\"div\", _hoisted_4, [\n              _cache[2] || (_cache[2] = _createElementVNode(\"span\", null, [\n                _createTextVNode(\" Brought to you by \"),\n                _createElementVNode(\"a\", {\n                  href: \"https://www.cosmicds.cfa.harvard.edu/\",\n                  target: \"_blank\",\n                  rel: \"noopener noreferrer\"\n                }, \"Cosmic Data Stories\"),\n                _createTextVNode(\" and \"),\n                _createElementVNode(\"a\", {\n                  href: \"https://www.worldwidetelescope.org/home/\",\n                  target: \"_blank\",\n                  rel: \"noopener noreferrer\"\n                }, \"WorldWide Telescope\"),\n                _createTextVNode(\". \")\n              ], -1)),\n              _createElementVNode(\"div\", _hoisted_5, [\n                _createVNode(_component_credit_logos, { \"default-logos\": ['cosmicds', 'wwt', 'sciact', 'nasa'] })\n              ])\n            ])\n          ], 4)), [\n            [_directive_click_outside, closeSplashScreen]\n          ])\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }, 8, [\"model-value\", \"style\"]))\n}\n}\n\n})","<template>\n  <v-overlay\n    :model-value=\"showSplashScreen\"\n    absolute\n    opacity=\"0.6\"\n    :style=\"cssVars\"\n    id=\"splash-overlay\"\n  >\n    <focus-trap>\n    <div\n      id=\"splash-screen\"\n      v-click-outside=\"closeSplashScreen\"\n      :style=\"cssVars\"\n    >\n      <div\n        id=\"first-splash-row\"\n      >\n        <font-awesome-icon\n          id=\"close-splash-button\"\n          @click=\"closeSplashScreen\"\n          @keyup.enter=\"closeSplashScreen\"\n          icon=\"xmark\"\n          tabindex=\"0\"\n          />\n        <div id=\"splash-screen-text\">\n          <p>Want to see the</p>\n          <p class=\"highlight\">{{ title }}?</p>\n        </div>\n      </div>\n\n      <div>\n        <v-btn\n          class=\"splash-get-started\"\n          @click=\"closeSplashScreen\"\n          @keyup.enter=\"closeSplashScreen\"\n          :color=\"cssVars['--accent-color']\"\n          :density=\"$vuetify.display.xs ? 'compact' : 'default'\"\n          :size=\"$vuetify.display.width < 250 ? 'large' : 'x-large'\"\n          variant=\"elevated\"\n          rounded=\"lg\"\n        >\n          Get Started\n        </v-btn>\n      </div>\n    \n      <div id=\"splash-screen-acknowledgements\">\n        <span>\n        Brought to you by <a href=\"https://www.cosmicds.cfa.harvard.edu/\" target=\"_blank\" rel=\"noopener noreferrer\">Cosmic Data Stories</a> and <a href=\"https://www.worldwidetelescope.org/home/\" target=\"_blank\" rel=\"noopener noreferrer\">WorldWide Telescope</a>.\n        </span>\n        <div id=\"splash-screen-logos\">\n         <credit-logos\n            :default-logos=\"['cosmicds', 'wwt', 'sciact', 'nasa']\"\n          />\n        </div>\n      </div>\n    </div>\n    </focus-trap>\n  </v-overlay>\n</template>\n\n\n<script setup lang=\"ts\">\nimport {computed} from 'vue';\nexport interface Props {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  cssVars?: any;\n  title: string;\n  color?: string,\n  highlightColor?: string\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  cssVars: () => ({}),\n});\n\nconsole.log(props.cssVars);\n\nconst cssVars = computed(() => {\n  return {\n    ...props.cssVars,\n    ...{'--accent-color': props.color == null ? props.cssVars['--accent-color'] : props.color},\n    ...{'--accent-color2': props.highlightColor == null ? props.cssVars['--accent-color2'] : props.highlightColor}\n  };\n});\n\nconst emits = defineEmits(['close']);\n\nconst showSplashScreen = defineModel({ default: true });\n\n\nfunction closeSplashScreen() {\n  showSplashScreen.value = false;\n  emits('close');\n}\n\n\n</script>\n\n\n<style lang=\"less\">\n\n#splash-overlay {\n  align-items: center;\n  justify-content: center;\n  font-size: min(8vw, 7vh);\n  transition: width 0.5s, height 0.5s;\n}\n\n#splash-screen {\n  color: #E0E0E0;\n\n  @media (max-width: 699px) {\n    max-height: 80vh;\n    max-width: 90vw;\n  }\n\n  @media (min-width: 700px) {\n    max-height: 85vh;\n    max-width: min(70vw, 800px);\n  }\n\n\n  background-color: black;\n  backdrop-filter: blur(5px);\n  justify-content: space-around;\n  align-content: center;\n  padding-top: 2rem;\n  padding-bottom: 1rem;\n\n  border-radius: 30px;\n  border: min(1.2vw, 0.9vh) solid var(--accent-color);\n  overflow: auto;\n  font-family: 'Highway Gothic Narrow', 'Roboto', sans-serif;\n\n  div {\n    margin-inline: auto;\n    text-align: center;\n  }\n  // make a paragraph inside the div centered horizontally and vertically\n  p {\n    font-family: 'Highway Gothic Narrow', 'Roboto', sans-serif;\n    font-weight: bold;\n    vertical-align: middle;\n  }\n    \n  p.highlight {\n    color: var(--accent-color2);\n    text-transform: uppercase;\n    font-weight: bolder;\n  }\n  \n  p.small {\n    font-size: var(--default-font-size);\n    font-weight: bold;\n  }\n\n  #first-splash-row {\n    width: 100%;\n  }\n\n  #close-splash-button {\n    position: absolute;\n    top: 20px;\n    right: 20px;\n    text-align: end;\n    color: var(--accent-color);\n    font-size: min(5vw, 4vh);\n    padding: 0.25rem;\n    margin: -0.25rem;\n\n    &:hover {\n      cursor: pointer;\n    }\n  }\n\n  #splash-screen-text {\n    // in the grid, the text is in the 2nd column\n    display: flex;\n    flex-direction: column;\n    line-height: 130%;\n    \n  }\n\n  .splash-get-started {\n    border: 2px solid white;\n    font-size: calc(1.8 * var(--default-font-size));\n    // margin-top: 5%;\n    // margin-bottom: 2%;\n    font-weight: bold !important;\n  }\n\n  #splash-screen-guide {\n    margin-block: 1.5em;\n    font-size: min(5vw, 4vh);\n    line-height: 140%;\n    width: 75%;\n\n    .v-col{\n      padding: 0;\n    }\n    \n    .svg-inline--fa {\n      color:var(--accent-color);\n      margin: 0 10px;\n    }\n  }\n\n  #splash-screen-acknowledgements {\n    // margin-top: 3rem;\n    margin: clamp(0.5rem, 3vh, 3rem) auto;\n    font-size: calc(1.7 * var(--default-font-size));\n    line-height: calc(1.5 * var(--default-line-height));\n    width: 60%; \n  }\n\n  #splash-screen-logos {\n    margin-block: 0.75em;\n\n    img {\n    height: 5vmin;\n    vertical-align: middle;\n    margin: 2px;\n    }\n\n    @media only screen and (max-width: 600px) {\n      img {\n        height: 24px;\n      }\n    }\n\n    svg {\n      vertical-align: middle;\n      height: 24px;\n    }\n  }\n}\n\n@media (max-height: 500px) {\n  #splash-screen {\n    // display: flex;\n    // flex-direction: column;\n    // max-width: 200vh;\n    // justify-content: center;\n    // align-items: center;\n    // gap: calc(0.5 * var(--default-line-height));\n    overflow: hidden;\n  \n  #splash-screen-text {\n    line-height: 75%;\n  }\n  \n  .splash-get-started {\n    margin-top: 0;\n    margin-bottom: 0;\n  }\n  \n  #splash-screen-acknowledgements {\n    font-size: calc(1.5 * var(--default-font-size));\n  }\n}\n  \n}\n\n@media (max-height: 310px) {\n  #splash-screen {\n    width: 50vw;\n    padding-block: 10px;\n  }\n  #splash-screen-acknowledgements  {\n    display: none;\n  }\n}\n\n</style>\n","import script from \"./SplashScreen.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./SplashScreen.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./SplashScreen.vue?vue&type=style&index=0&id=05818e31&lang=less\"\n\nconst __exports__ = script;\n\nexport default __exports__","import Vue, { createApp, type Plugin } from \"vue\";\n\nimport { CreditLogos, FundingAcknowledgement, GeolocationButton, IconButton, LocationSelector, UserExperience } from \"@cosmicds/vue-toolkit\";\nimport PlanetParade from \"./PlanetParade.vue\";\n\nimport vuetify from \"../plugins/vuetify\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/vue-fontawesome\";\n\nimport { WWTComponent, wwtPinia } from \"@wwtelescope/engine-pinia\";\n\nimport DateTimePicker from \"./components/DateTimePicker.vue\";\nimport LocationSearch from \"./components/LocationSearch.vue\";\nimport PlaybackControl from './components/PlaybackControl.vue';\nimport SpeedControl from \"./components/SpeedControl.vue\";\nimport TimeDisplay from \"./components/TimeDisplay.vue\";\nimport SplashScreen from \"./SplashScreen.vue\";\nimport { FocusTrap } from \"focus-trap-vue\";\n\n\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport {\n  faBookOpen,\n  faChevronDown,\n  faChevronUp,\n  faCircleXmark,\n  faGear,\n  faLocationDot,\n  faMagnifyingGlass,\n  faPlay,\n  faPause,\n  faTimes,\n  faVideo,\n  faXmark,\n  faGaugeHigh,\n  faAnglesLeft,\n  faAnglesRight,\n  faAnglesUp,\n  faAnglesDown,\n  faRotate,\n} from \"@fortawesome/free-solid-svg-icons\";\n\nlibrary.add(faBookOpen);\nlibrary.add(faChevronDown);\nlibrary.add(faChevronUp);\nlibrary.add(faCircleXmark);\nlibrary.add(faGear);\nlibrary.add(faLocationDot);\nlibrary.add(faMagnifyingGlass);\nlibrary.add(faPlay);\nlibrary.add(faPause);\nlibrary.add(faTimes);\nlibrary.add(faVideo);\nlibrary.add(faXmark);\nlibrary.add(faGaugeHigh);\nlibrary.add(faAnglesLeft);\nlibrary.add(faAnglesRight);\nlibrary.add(faAnglesUp);\nlibrary.add(faAnglesDown);\nlibrary.add(faRotate);\n\n/** v-hide directive taken from https://www.ryansouthgate.com/2020/01/30/vue-js-v-hide-element-whilst-keeping-occupied-space/ */\n// Extract the function out, up here, so I'm not writing it twice\nconst update = (el: HTMLElement, binding: Vue.DirectiveBinding) => el.style.visibility = (binding.value) ? \"hidden\" : \"\";\n\ncreateApp(PlanetParade, {\n  wwtNamespace: \"planet-parade\"\n})\n \n  // Plugins\n  .use(wwtPinia as unknown as Plugin<[]>)\n  .use(vuetify)\n\n  // Directives\n  .directive(\n    /**\n    * Hides an HTML element, keeping the space it would have used if it were visible (css: Visibility)\n    */\n    \"hide\", {\n      // Run on initialisation (first render) of the directive on the element\n      beforeMount(el, binding, _vnode, _prevVnode) {\n        update(el, binding);\n      },\n      // Run on subsequent updates to the value supplied to the directive\n      updated(el, binding, _vnode, _prevVnode) {\n        update(el, binding);\n      }\n    })\n\n  // Components\n  .component(\"WorldWideTelescope\", WWTComponent)\n  .component('font-awesome-icon', FontAwesomeIcon)\n  .component('credit-logos', CreditLogos)\n  .component('funding-acknowledgement', FundingAcknowledgement)\n  .component('geolocation-button', GeolocationButton)\n  .component('icon-button', IconButton)\n  .component('location-selector', LocationSelector)\n  .component('location-search', LocationSearch)\n  .component('time-display', TimeDisplay)\n  .component('date-time-picker', DateTimePicker)\n  .component('speed-control', SpeedControl)\n  .component('playback-control', PlaybackControl)\n  .component('splash-screen', SplashScreen)\n  .component('user-experience', UserExperience)\n  .component('focus-trap', FocusTrap)\n\n  // Mount\n  .mount(\"#app\");\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunk_cosmicds_planet_parade\"] = self[\"webpackChunk_cosmicds_planet_parade\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], () => (__webpack_require__(9572)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["useTimezone","selectedLocation","selectedTimezone","value","latitudeDeg","longitudeDeg","selectedTimezoneOffset","shortTimezone","Date","browserTimezone","Intl","DateTimeFormat","resolvedOptions","timeZone","browserTimezoneOffset","getTimezoneOffset","console","log","altAzToHADec","altRad","azRad","latRad","Math","PI","ra","atan2","sin","cos","tan","dec","asin","getJulian","utc","year","getUTCFullYear","month","getUTCMonth","day","getUTCDate","hour","getUTCHours","minute","getUTCMinutes","second","getUTCSeconds","getUTCMilliseconds","a","floor","b","c","d","jd","mstFromUTC2","longRad","lng","R2D","modifiedJD","julianCenturies","mst","horizontalToEquatorial","st","haDec","ha","raRad","D2R","decRad","equatorialToHorizontal","hourAngle","lat","sinAlt","altitude","cosAz","azimuth","acos","skyOpacityForSunAlt","sunAltRad","civilTwilight","astronomicalTwilight","min","max","atan","API_BASE_URL","sunPlace","Place","set_names","set_classification","solarSystem","set_target","sun","set_zoomLevel","drawHorizon","renderContext","options","n","delta","triangleList","color","Color","load","round","opacity","settings","Settings","get_active","longitudeRad","get_locationLng","latitudeRad","get_locationLat","now","SpaceTimeController","get_now","i","points","map","point","raDecRad","Coordinates","raDecTo3d","addSubdividedTriangles","draw","drawSky","sunAltAz","get_RA","get_dec","WWTControl","scriptInterface","setForegroundOpacity","nameForObject","object","name","charAt","toUpperCase","slice","placeForObject","place","maxFOV","minFOV","maxFactor","minFactor","gMax","gMin","planetTextOffsetsY","planetTextOffsetsX","textOverlayForSolarSystemObject","text","glyphHeight","zoom","viewCamera","fov","exp","scale","sign","get_location","get_lat","up","Vector3d","create","location","y","x","Text3d","makeTextOverlays","batch","Text3dBatch","values","Object","keys","filter","key","isNaN","Number","forEach","moon","add","resetAltAzGridText","Grids","_altAzTextBatch","makeAltAzGridText","alt","directions","v","useCustomGlyphs","GLYPH_CACHE","cache","GlyphCache","root","window","origin","pathname","endsWith","length","imageUrl","xmlUrl","_texture","Texture","fromUrl","_webFile","WebFile","onStateChange","prototype","_glyphXmlReady","bind","send","_glyphCache","prepareBatch","drawPlanets","_opacity","Planets","_planetTextures","_loadPlanetTextures","elong","_geocentricElongation","_planetLocations","RA","raDif","_phaseAngle","distance","dista","abs","degreesToRadians","distb","sunMoonDist","sqrt","coronaOpacity","moonEffect","_planetScales","_drawPlanet","_planetDrawOrder","planetId","renderOneFrame","showHorizon","showSky","showPlanetLabels","this","get_backgroundImageset","renderType","get_dataSetType","sizeChange","canvas","width","parentNode","clientWidth","height","clientHeight","explorer","refresh","_crossHairs","Tile","lastDeepestLevel","deepestLevel","RenderTriangle","tilesInView","tilesTouched","set_metaNow","get__mover","set_now","get_currentDateTime","updatePlanetLocations","get_solarSystemMode","newCam","get_currentPosition","targetCamera","copy","space","get_galacticMode","gPoint","j2000toGalactic","targetAlt","targetAz","az","get_localHorizonMode","currentAltAz","equitorialToHorizon","fromRaDec","get_alt","get_az","get_complete","_fireArrived","singleton","set__mover","_notifyMoveComplete","updateClock","_updateViewParameters","clear","setupMatricesSpace3d","drawImageSet","get_foregroundImageset","set_foregroundImageset","gl","_foregroundCanvas","saveDevice","device","_fgDevice","clearRect","save","globalAlpha","drawImage","restore","uiController","render","Annotation","prepBatch","_annotations","item","drawBatch","_lastMouseMove","raDecDown","getCoordinatesForScreenPoint","_hoverTextPoint","_annotationHover","_hoverText","_drawHoverText","imageset","get_catalogHipsImagesets","get_hipsProperties","get_catalogSpreadSheetLayer","enabled","lastVersion","get_version","constellation","Constellations","containment","findConstellationForPoint","_drawSkyOverlays","_planetTextOverlays","viewTransform","fromArgb","worldSave","get_world","viewSave","get_view","projSave","get_projection","get_current","get_showCrosshairs","_drawCrosshairs","tilesAllLoaded","TileCache","get_queueCount","setupMatricesOverlays","_fadeFrame","_frameCount","decimateQueue","processQueue","currentRenderGeneration","TourPlayer","get_playing","set_crossFadeFrame","set_world","set_view","set_projection","ms","_lastUpdate","trianglesRendered","trianglesCulled","capturingVideo","dumpFrameParams","waitDownload","captureFrameForVideo","_videoBlobReady","format","nextFrame","get_doneDumping","frameDumping","cancelFrameDump","drawEcliptic","drawColor","drawCircle","_eclipticOverviewLineList","_eclipticYear","obliquity","meanObliquityOfEcliptic","get_jNow","mat","Matrix3d","_rotationX","daysPerYear","DT","isLeap","_monthDays","_eclipticCount","jYear","utcToJulian","dPrev","dStart","SimpleLineList","set_depthBuffered","m","daysThisMonth","sunRaDec","getPlanetLocationJD","sunEcliptic","CT","eq2Ec","dd","addLine","_transformCoordinate","drawLines","drawSkyOverlays","get_showConstellationPictures","freestandingMode","drawArtwork","get_showConstellationFigures","constellationsFigures","URLHelpers","engineAssetUrl","get_showEclipticGrid","drawEclipticGrid","get_eclipticGridColor","get_showEclipticGridText","drawEclipticGridText","get_showGalacticGrid","drawGalacticGrid","get_galacticGridColor","get_showGalacticGridText","drawGalacticGridText","get_showAltAzGrid","drawAltAzGrid","get_altAzGridColor","get_showAltAzGridText","drawAltAzGridText","get_showPrecessionChart","drawPrecessionChart","get_precessionChartColor","get_showEcliptic","get_eclipticColor","get_showEclipticOverviewText","drawEclipticText","get_showGrid","drawEquitorialGrid","get_equatorialGridColor","get_showEquatorialGridText","drawEquitorialGridText","get_showConstellationBoundries","constellationsBoundries","get_showConstellationSelection","get_showConstellationLabels","drawConstellationNames","Colors","get_yellow","SECONDS_PER_DAY","MILLISECONDS_PER_DAY","secondsInterval","MILLISECONDS_PER_INTERVAL","useSun","store","_selectedTime","_selectedTimezoneOffset","waitForReady","then","selectedTime","locationRad","sunPosition","getSunPositionAtTime","time","getTimeforSunAlt","altDeg","minTime","maxTime","sunAlt","rising","setting","_hoisted_1","id","_hoisted_2","_hoisted_3","_hoisted_4","class","_hoisted_5","style","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","UUID_KEY","OPT_OUT_KEY","SKIP_INTRO_CONTENT_KEY","__name","props","wwtNamespace","default","setup","__props","STORY_DATA_URL","STORY_RATING_URL","maybeUUID","localStorage","getItem","storedOptOut","skipIntroContent","toLowerCase","existingUser","uuid","v4","question","random","currentRating","currentComments","setItem","infoTimeMs","videoPlayingTimeMs","videoPlaying","videoOpened","videoPlayed","appStartTimestamp","infoStartTimestamp","videoPlayingStartTimestamp","userSelectedSearchLocations","userSelectedMapLocations","engineStore","useWWTKeyboardControls","touchscreen","supportsTouchscreen","smAndDown","smAndUp","xs","queryHideSplash","URLSearchParams","search","get","splash","showSplashScreen","backgroundImagesets","sheet","layersLoaded","positionSet","accentColor","accentColor2","buttonColor","tab","showAltAzGrid","showEcliptic","showLocationSelector","playing","showControls","showConstellations","inIntro","showPrivacyDialog","datePickerOpen","skipIntroChecked","showPlanetVisiblity","wwtStats","timeResetCount","reverseCount","playPauseCount","speedups","slowdowns","rateSelections","startTime","optOut","responseOptOut","showRating","geocodingOptions","access_token","selectedLocationText","updateSelectedLocationText","searchErrorMessage","localSelectedDate","fakeUTC","set","getTime","newTime","wwtSettings","doWWTModifications","_makeAltAzGridText","boundRenderOneFrame","newFrameRender","originalUpdatePlanetLocations","planetScales","newUpdatePlanetLocations","threeD","set_zoomMax","planetIsVisible","planetName","date","planetPos","AstroCalc","getPlanet","altAz","sunVis","dateTime","mercuryVis","mercury","venusVis","venus","marsVis","mars","jupiterVis","jupiter","saturnVis","saturn","uranusVis","uranus","neptuneVis","neptune","skyBackgroundImagesets","iset","push","altTime","setTimeout","resetCamera","applySetting","updateAltAzGrid","updateAltAzGridText","updateEcliptic","updateConstellations","updateWWTLocation","setClockSync","setClockRate","createUserEntry","ratingDisplaySetup","setInterval","currentTime","updateEclipticColor","addEventListener","event","includes","showVideoSheet","document","visibilityState","updateUserData","resetData","ready","isLoading","inNorthernHemisphere","smallSize","mobile","xSmallSize","cssVars","showTextSheet","_value","selectSheet","video","querySelector","_event","pause","closeSplashScreen","sheetType","blurActiveElement","getTextForLocation","setLocationFromFeature","feature","center","catch","_err","setLocationFromSearchFeature","searchProvider","updateLocationFromMap","fetch","method","headers","existsResponse","json","existsContent","exists","status","ratings","updateUserExperienceInfo","rating","comments","body","story_name","JSON","stringify","response","content","undefined","user_uuid","user_selected_search_locations","user_selected_map_locations","app_time_ms","info_time_ms","video_time_ms","video_opened","video_played","wwt_time_reset_count","wwt_reverse_count","wwt_play_pause_count","wwt_speedups","wwt_slowdowns","wwt_rate_selections","wwt_start_stop_times","assign","infoTime","videoTime","delta_app_time_ms","delta_info_time_ms","delta_video_time_ms","delta_wwt_time_reset_count","delta_wwt_reverse_count","delta_wwt_play_pause_count","keepalive","Promise","lonRad","sunAz","startAlt","startRADec","gotoRADecZoom","zoomDeg","instant","set_locationLat","set_locationLng","show","component","play","dt","setTime","checked","String","_inNorth","intro","_ctx","_cache","_component_WorldWideTelescope","_component_splash_screen","_component_font_awesome_icon","_component_icon_button","_component_geolocation_button","_component_location_search","_component_location_selector","_component_time_display","_component_date_time_picker","_component_speed_control","_component_credit_logos","_component_funding_acknowledgement","_component_user_experience","_directive_hide","title","onClose","modelValue","$event","size","icon","onClick","onKeyup","tabindex","label","density","_","transition","elevation","onGeolocation","longitude","latitude","small","onSetLocation","onError","activator","scrim","rounded","ampm","timezone","ref","_playing","defaultRate","useInline","maxSpeed","onReset","_reverse","onSlowDown","rate","onSpeedUp","onSetRate","onActivate","mdSize","fullscreen","controls","src","type","href","target","rel","persistent","absolute","dense","align","cols","outlined","onDismiss","_rating","_comments","onRating","onFinish","footer","__exports__","icons","defaultSet","aliases","sets","mdi","locale","fallback","messages","en","theme","defaultTheme","editable","Boolean","step","clamp","zeroPad","pad2","emits","psuedoValue","editing","input","pad","toString","padStart","parseValue","parseFloat","parseInt","minValue","maxValue","stepValue","setValue","blurred","toNearest","isValid","clampValue","newVal","focus","newValue","oldValue","onChange","onBlur","ref_key","debug","useAmpm","editableTime","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","isAm","decrement","increment","limits","Infinity","_daysInMonth","units","changeValue","unit","limit","nextUnit","indexOf","prevUnit","displayHour","h","utcDate","toISOString","TapToInput","$slots","Function","_searchText","stayOpen","buttonSize","bgColor","__emit","emit","searchOpen","searchItem","searchResults","locationJustUpdated","menuOpen","comboFocused","searchInput","cssStyles","itemText","performForwardGeocodingSearch","info","features","focusCombobox","blurCombobox","blur","toggleSearch","onFocusChange","focused","timedJustUpdatedLocation","clearSearchData","items","solo","onInput","onKeydown","menu","append","$props","$setup","$data","$options","inline","inlineButton","showCloseButton","$emit","hidePlayButton","isPaused","reverseTime","index","val","valueToMark","useBuiltInTicks","ticks","marks","base","logBase","log10","log2","E","sequence","rightSide","Array","fill","leftSide","reverse","seq","concat","fromSymLogIndex","inverseTransform","isArray","out","absValue","pow","transform","toSymlogIndex","makeSymmetric","right","left","linspace","start","stop","symmLinspace","symLog","SymmetricalLogTransform","components","VSlider","maxPower","paused","smallScreen","mounted","container","getElementById","setProperty","resizeObserver","ResizeObserver","entries","track","tickContainer","psc","s","scrollWidth","classList","remove","observe","data","symlog","myTicks","methods","pre","pos","computed","rt","usePlaybackControl","clockRate","timePlaying","togglePlay","setSpeed","newRate","newIsPlaying","minSpeed","showText","rateDelta","useOldControl","required","playbackVisible","forceRate","playbackRate","reverseRate","increaseRate","decreaseRate","reverseOrIncreaseReversePlaybackRate","ezrate","forwardOrIncreaseForwardPlaybackRate","allowClickOutside","onClickOutside","_component_playback_control","faSize","offset","onPaused","showDate","showTimezone","shortTimeDate","number","hours","shortTimeDateString","toLocaleString","tz","highlightColor","_component_focus_trap","$vuetify","display","variant","update","el","binding","visibility","PlanetParade","use","wwtPinia","vuetify","directive","beforeMount","_vnode","_prevVnode","updated","WWTComponent","CreditLogos","FundingAcknowledgement","GeolocationButton","IconButton","LocationSelector","LocationSearch","TimeDisplay","DateTimePicker","SpeedControl","PlaybackControl","SplashScreen","UserExperience","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","deferred","O","result","chunkIds","fn","priority","notFulfilled","fulfilled","j","every","splice","r","getter","__esModule","definition","o","defineProperty","enumerable","g","globalThis","e","obj","prop","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}