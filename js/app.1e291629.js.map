{"version":3,"file":"js/app.1e291629.js","mappings":"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","sources":["webpack://@cosmicds/planet-parade/./src/timezones.ts","webpack://@cosmicds/planet-parade/./src/utils.ts","webpack://@cosmicds/planet-parade/./src/horizon_sky.ts","webpack://@cosmicds/planet-parade/./src/text.ts","webpack://@cosmicds/planet-parade/./src/wwt-hacks.ts","webpack://@cosmicds/planet-parade/./src/useSun.ts","webpack://@cosmicds/planet-parade/./src/PlanetParade.vue?6c3a","webpack://@cosmicds/planet-parade/./src/PlanetParade.vue","webpack://@cosmicds/planet-parade/./src/PlanetParade.vue?1954","webpack://@cosmicds/planet-parade/./plugins/vuetify.ts","webpack://@cosmicds/planet-parade/./src/components/TapToInput.vue?d3b9","webpack://@cosmicds/planet-parade/./src/components/TapToInput.vue","webpack://@cosmicds/planet-parade/./src/components/TapToInput.vue?f02f","webpack://@cosmicds/planet-parade/./src/components/DateTimePicker.vue?0264","webpack://@cosmicds/planet-parade/./src/components/DateTimePicker.vue","webpack://@cosmicds/planet-parade/./src/components/DateTimePicker.vue?ef30","webpack://@cosmicds/planet-parade/./src/components/LocationSearch.vue?4f80","webpack://@cosmicds/planet-parade/./src/components/LocationSearch.vue","webpack://@cosmicds/planet-parade/./src/components/LocationSearch.vue?99f6","webpack://@cosmicds/planet-parade/./src/components/PlaybackControl.vue?8cc6","webpack://@cosmicds/planet-parade/./src/components/PlaybackControl.vue","webpack://@cosmicds/planet-parade/./src/components/symlog.ts","webpack://@cosmicds/planet-parade/./src/components/PlaybackControl.vue?53b1","webpack://@cosmicds/planet-parade/./src/wwt_playback_control.ts","webpack://@cosmicds/planet-parade/./src/components/SpeedControl.vue?e115","webpack://@cosmicds/planet-parade/./src/components/SpeedControl.vue","webpack://@cosmicds/planet-parade/./src/components/SpeedControl.vue?9751","webpack://@cosmicds/planet-parade/./src/components/TimeDisplay.vue?8b16","webpack://@cosmicds/planet-parade/./src/components/TimeDisplay.vue","webpack://@cosmicds/planet-parade/./src/components/TimeDisplay.vue?2cde","webpack://@cosmicds/planet-parade/./src/SplashScreen.vue?d226","webpack://@cosmicds/planet-parade/./src/SplashScreen.vue","webpack://@cosmicds/planet-parade/./src/SplashScreen.vue?b8e9","webpack://@cosmicds/planet-parade/./src/main.ts","webpack://@cosmicds/planet-parade/webpack/bootstrap","webpack://@cosmicds/planet-parade/webpack/runtime/chunk loaded","webpack://@cosmicds/planet-parade/webpack/runtime/compat get default export","webpack://@cosmicds/planet-parade/webpack/runtime/define property getters","webpack://@cosmicds/planet-parade/webpack/runtime/global","webpack://@cosmicds/planet-parade/webpack/runtime/hasOwnProperty shorthand","webpack://@cosmicds/planet-parade/webpack/runtime/make namespace object","webpack://@cosmicds/planet-parade/webpack/runtime/jsonp chunk loading","webpack://@cosmicds/planet-parade/webpack/startup"],"sourcesContent":["import { Ref, computed} from 'vue';\nimport { getTimezoneOffset, formatInTimeZone } from \"date-fns-tz\";\nimport tzlookup from \"tz-lookup\";\nimport { LocationDeg } from './types';\n\n\nexport function useTimezone(selectedLocation: Ref<LocationDeg>) {\n  // selectedDate keeps track of the time the user has selected\n  \n  const selectedTimezone = computed(() => tzlookup(selectedLocation.value.latitudeDeg, selectedLocation.value.longitudeDeg));\n\n  // what we add to utc time to get the localized time\n  const selectedTimezoneOffset = computed(() => getTimezoneOffset(selectedTimezone.value));\n  const shortTimezone = computed(() => formatInTimeZone(new Date(), selectedTimezone.value, \"zzz\"));\n\n  const browserTimezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n  // this is added to (new Date()).getHours() to get UTC hours\n  const browserTimezoneOffset = new Date().getTimezoneOffset() * 60 * 1000; // in milliseconds\n  \n  console.log('Browser timezone:', browserTimezone);\n  console.log('Browser timezone offset:', browserTimezoneOffset);\n  console.log('Selected timezone:', selectedTimezone.value);\n  console.log('Selected timezone offset:', selectedTimezoneOffset.value);\n  \n  return {\n    selectedTimezone,\n    shortTimezone,\n    selectedTimezoneOffset,\n    browserTimezone,\n    browserTimezoneOffset,\n  };\n}\n","import { D2R, R2D } from \"@cosmicds/vue-toolkit\";\nimport { HorizontalRad, EquatorialRad } from \"./types\";\n\n// WWT does have all of this functionality built in\n// but it doesn't seem to be exposed\n// We should do that, but for now we just copy the web engine code\n// https://github.com/Carifio24/wwt-webgl-engine/blob/master/engine/wwtlib/Coordinates.cs\nexport function altAzToHADec(altRad: number, azRad: number, latRad: number): { ra: number; dec: number; } {\n  azRad = Math.PI - azRad;\n  if (azRad < 0) {\n    azRad += 2 * Math.PI;\n  }\n  let ra = Math.atan2(Math.sin(azRad), Math.cos(azRad) * Math.sin(latRad) + Math.tan(altRad) * Math.cos(latRad));\n  if (ra < 0) {\n    ra += 2 * Math.PI;\n  }\n  const dec = Math.asin(Math.sin(latRad) * Math.sin(altRad) - Math.cos(latRad) * Math.cos(altRad) * Math.cos(azRad));\n  return { ra, dec };\n}\n\nexport function getJulian(utc: Date): number {\n  let year = utc.getUTCFullYear();\n  let month = utc.getUTCMonth()+1;\n  const day = utc.getUTCDate();\n  const hour = utc.getUTCHours();\n  const minute = utc.getUTCMinutes();\n  const second = utc.getUTCSeconds() + utc.getUTCMilliseconds() / 1000.0;\n\n  if (month == 1 || month == 2)\n  {\n    year -= 1;\n    month += 12;\n  }\n\n  const a = Math.floor(year / 100);\n  const b = 2 - a + Math.floor(a / 4.0);\n  const c = Math.floor(365.25 * year);\n  const d = Math.floor(30.6001 * (month + 1));\n\n  // gives julian date: number of days since Jan 1, 4713 BC\n  const jd = b + c + d + 1720994.5 + day + (hour + minute / 60.00 + second / 3600.00) / 24.00;\n  return jd;\n}\n\nexport function mstFromUTC2(utc: Date, longRad: number): number {\n  const lng = longRad * R2D;\n\n  const modifiedJD = getJulian(utc)  - 2451545;\n\n  const julianCenturies = modifiedJD / 36525.0;\n  // this form wants julianDays - 2451545\n  let mst = 280.46061837 + 360.98564736629 * modifiedJD + 0.000387933 * julianCenturies * julianCenturies - julianCenturies * julianCenturies * julianCenturies / 38710000 + lng;\n\n  if (mst > 0.0) {\n    while (mst > 360.0) {\n      mst = mst - 360.0;\n    }\n  } else {\n    while (mst < 0.0) {\n      mst = mst + 360.0;\n    }\n  }\n\n  return mst;\n}\n\nexport function horizontalToEquatorial(altRad: number, azRad: number, latRad: number, longRad: number, utc: Date): EquatorialRad {\n  const st = mstFromUTC2(utc, longRad); // siderial time \n\n  const haDec = altAzToHADec(altRad, azRad, latRad); // get Hour Angle and Declination\n  \n  const ha = haDec.ra * R2D;\n\n  let ra = st + ha;\n  if (ra < 0) {\n    ra += 360;\n  }\n  if (ra > 360) {\n    ra -= 360;\n  }\n  // ra -= 180;\n  // console.log(`Alt: ${(altRad*R2D).toFixed(2)} Az: ${(azRad*R2D).toFixed(2)} Ra: ${ra.toFixed(2)} Dec: ${(haDec.dec*R2D).toFixed(2)}`)\n\n  return { raRad: D2R * ra, decRad: haDec.dec };\n}\n\nexport function equatorialToHorizontal(raRad: number, decRad: number, latRad: number, longRad: number, utc: Date): HorizontalRad {\n  let hourAngle = mstFromUTC2(utc, longRad) - R2D * raRad;\n  if (hourAngle < 0) {\n    hourAngle += 360;\n  }\n\n  const ha = D2R * hourAngle;\n  const dec = decRad;\n  const lat = latRad;\n  \n  const sinAlt = Math.sin(dec) * Math.sin(lat) + Math.cos(dec) * Math.cos(lat) * Math.cos(ha);\n  const altitude = Math.asin(sinAlt);\n  const cosAz = (Math.sin(dec) - Math.sin(altitude) * Math.sin(lat)) / (Math.cos(altitude) * Math.cos(lat));\n  let azimuth = Math.acos(cosAz);\n\n  azimuth = azimuth + (Math.PI * 80) % (Math.PI * 2);\n\n  if (Math.sin(ha) > 0) {\n    azimuth = 2 * Math.PI - azimuth;\n  }\n  return { altRad: altitude, azRad: azimuth };\n\n}\n\nexport function skyOpacityForSunAlt(sunAltRad: number) {\n  const civilTwilight = -6 * D2R;\n  const astronomicalTwilight = 3 * civilTwilight;\n  \n  return Math.min(Math.max((1 + Math.atan(Math.PI * sunAltRad / (-astronomicalTwilight))) / 2, 0), 1);\n}\n","// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-nocheck\n\n/* eslint-disable */\n\n\n// We need this import for WWT types that aren't exported\n// from the engine at the JS level\nimport * as wwtlib from \"@wwtelescope/engine\";\nimport {\n  Color,\n  Coordinates,\n  Matrix3d,\n  Place,\n  RenderContext,\n  Settings,\n  SpaceTimeController,\n  WWTControl,\n} from \"@wwtelescope/engine\";\nimport { Classification, SolarSystemObjects } from \"@wwtelescope/engine-types\";\nimport { HorizonSkyOptions } from \"./types\";\nimport { equatorialToHorizontal, horizontalToEquatorial, skyOpacityForSunAlt } from \"./utils\";\nimport { D2R, R2D } from \"@cosmicds/vue-toolkit\";\n\nconst sunPlace = new Place();\nsunPlace.set_names([\"Sun\"]);\nsunPlace.set_classification(Classification.solarSystem);\nsunPlace.set_target(SolarSystemObjects.sun);\nsunPlace.set_zoomLevel(20);\n\n\nexport const drawHorizon = (renderContext: RenderContext, options: HorizonSkyOptions) => {\n  const n = 6;\n  const delta = 2 * Math.PI / n;\n  const triangleList = new wwtlib.TriangleList();\n  const color = Color.load(options.color);\n  color.a = Math.round(255 * options.opacity ?? 1);\n  const settings = Settings.get_active();\n  const longitudeRad = settings.get_locationLng() * D2R;\n  const latitudeRad = settings.get_locationLat() * D2R;\n  const now = SpaceTimeController.get_now();\n  for (let i = 0; i < n; i++) {\n    let points: [number, number][] = [\n      [0, i * delta],\n      [-Math.PI / 2, i * delta],\n      [0, (i + 1) * delta]\n    ];\n    points = points.map((point) => {\n      const raDecRad = horizontalToEquatorial(...point, latitudeRad, longitudeRad, now);\n      return Coordinates.raDecTo3d(R2D * raDecRad.raRad / 15, R2D * raDecRad.decRad);\n    });\n    triangleList.addSubdividedTriangles(...points, color, new wwtlib.Dates(0, 1), 2);\n    \n  }\n  triangleList.draw(renderContext, 1, true);\n\n};\n\n\nexport const drawSky = (renderContext: RenderContext, options: HorizonSkyOptions) => {\n  const n = 6;\n  const delta = 2 * Math.PI / n;\n  const triangleList = new wwtlib.TriangleList();\n  const color = Color.load(options.color);\n  const settings = Settings.get_active();\n  const longitudeRad = settings.get_locationLng() * D2R;\n  const latitudeRad = settings.get_locationLat() * D2R;\n\n  const sunAltAz = equatorialToHorizontal(sunPlace.get_RA() * 15 * D2R,\n                                          sunPlace.get_dec() * D2R,\n                                          latitudeRad,\n                                          longitudeRad,\n                                          SpaceTimeController.get_now());\n  const opacity = skyOpacityForSunAlt(sunAltAz.altRad);\n  color.a = Math.round(255 * opacity);\n  WWTControl.scriptInterface.setForegroundOpacity((1 - opacity) * 100);\n  const now = SpaceTimeController.get_now();\n  for (let i = 0; i < n; i++) {\n    let points: [number, number][] = [\n      [0, i * delta],\n      [0, (i + 1) * delta],\n      [Math.PI / 2, i * delta] // In addition to using +pi/2 instead of -pi/2, I had to switch the order of the 2nd & 3rd points relative to the horizon set. I don't know why, but before I switched them, the polygons didn't render.\n    ];\n    points = points.map((point) => {\n      const raDecRad = horizontalToEquatorial(...point, latitudeRad, longitudeRad, now);\n      return Coordinates.raDecTo3d(R2D * raDecRad.raRad / 15, R2D * raDecRad.decRad);\n    });\n    triangleList.addSubdividedTriangles(...points, color, new wwtlib.Dates(0, 1), 2);\n    \n  }\n  triangleList.draw(renderContext, 1, true);\n\n};\n","// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-nocheck\n\n/* eslint-disable */\n\nimport { Coordinates, Place, RenderContext, SpaceTimeController, Text3d, Text3dBatch, Vector3d } from \"@wwtelescope/engine\";\nimport { Classification, SolarSystemObjects } from \"@wwtelescope/engine-types\";\n\nfunction nameForObject(object: SolarSystemObjects): string {\n  // For creating a place based on a name, WWT requires that the name be capitalized\n  let name = SolarSystemObjects[object];\n  name = name.charAt(0).toUpperCase() + name.slice(1);\n  return name;\n}\n\nfunction placeForObject(object: SolarSystemObjects): Place {\n  const place = new Place();\n  const name = nameForObject(object);\n  place.set_names([name]);\n  place.set_classification(Classification.solarSystem);\n  place.set_target(object);\n  return place;\n}\n\nconst maxFOV = 90;\nconst minFOV = 0.1;\nconst maxFactor = 0.9;\nconst minFactor = 0.1;\nconst gMax = Math.log(maxFactor / (1 - maxFactor));\nconst gMin = Math.log(minFactor/ (1 - minFactor));\nconst b = (gMax - gMin) / (maxFOV - minFOV);\nconst a = gMax - b * maxFOV;\n\nconst planetTextOffsetsY = [\n  115,  // Sun\n  -60,  // Mercury\n  85,  // Venus\n  100,  // Mars\n  100,  // Jupiter\n  120,  // Saturn\n  90,  // Uranus\n  90,  // Neptune\n  100,  // Pluto\n  -70,  // Moon\n];\n\nconst planetTextOffsetsX = [\n  85,  // Sun\n  -275,  // Mercury\n  0,  // Venus\n  0,  // Mars\n  0,  // Jupiter\n  0,  // Saturn\n  0,  // Uranus\n  0,  // Neptune\n  0,  // Pluto\n  0,  // Moon\n];\n\nfunction textOverlayForSolarSystemObject(renderContext: RenderContext, object: SolarSystemObjects, text: string, glyphHeight: number): Text3d {\n  const zoom = renderContext.viewCamera.zoom;\n  const fov = zoom / 6;\n  const exp = Math.exp(a + b * fov);\n  const scale = 0.0002 * ((1.4 * exp / (1 + exp)) + 1);\n  const sign = SpaceTimeController.get_location().get_lat() < 0 ? -1 : 1;\n  const up = Vector3d.create(0, sign, 0);\n\n  const place = placeForObject(object);\n  const location = Coordinates.raDecTo3d(place.get_RA(), place.get_dec());\n  location.y -= planetTextOffsetsY[object] * scale ?? 0.035;\n  location.x -= planetTextOffsetsX[object] * scale ?? 0;\n  return new Text3d(location, up, text, glyphHeight, scale);\n}\n\nexport function makeTextOverlays(renderContext: RenderContext): Text3dBatch {\n  const glyphHeight = 75 * 0.5;\n  const batch = new Text3dBatch(glyphHeight);\n  const values = Object.keys(SolarSystemObjects).filter(key => !isNaN(Number(key)))\n  values.forEach(object => {\n    if (Number(object) <= SolarSystemObjects.moon) {\n      const name = nameForObject(object);\n      const text = textOverlayForSolarSystemObject(renderContext, object, name, glyphHeight);\n      batch.add(text);\n    }\n  });\n  return batch;\n}\n","// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-nocheck\n\n/* eslint-disable */\n\nimport {\n  Annotation,\n  Color,\n  Colors,\n  Constellations,\n  Coordinates,\n  CT,\n  DT,\n  GlyphCache,\n  Grids,\n  Matrix3d,\n  Planets,\n  RenderContext,\n  RenderTriangle,\n  Settings,\n  SimpleLineList,\n  SpaceTimeController,\n  Text3d,\n  Text3dBatch,\n  Texture,\n  Tile,\n  TileCache,\n  TourPlayer,\n  URLHelpers,\n  Vector3d,\n  WebFile,\n  WWTControl,\n} from \"@wwtelescope/engine\";\n\nimport { drawHorizon, drawSky } from \"./horizon_sky\";\nimport { makeTextOverlays } from \"./text\";\n\nexport function resetAltAzGridText() {\n  Grids._altAzTextBatch = null;\n}\n\nexport function makeAltAzGridText() {\n  if (Grids._altAzTextBatch == null) {\n    const glyphHeight = 70;\n    Grids._altAzTextBatch = new Text3dBatch(glyphHeight);\n    const sign = SpaceTimeController.get_location().get_lat() < 0 ? -1 : 1;\n    const alt = 0.03 * sign;\n    const up = Vector3d.create(0, sign, 0);\n    const directions = [\n      [[0, alt, -1], \"N\"],\n      [[-sign, alt, 0], \"E\"],\n      [[0, alt, 1], \"S\"],\n      [[sign, alt,  0], \"W\"],\n    ]\n    directions.forEach(([v, text]) => {\n      Grids._altAzTextBatch.add(new Text3d(Vector3d.create(...v), up, text, 75, 0.00018));\n    });\n    useCustomGlyphs(Grids._altAzTextBatch);\n  }\n}\n\nconst GLYPH_CACHE = function(): GlyphCache {\n  const cache = new GlyphCache();\n  let root = window.location.origin + window.location.pathname;\n  if (root.endsWith(\"/\")) {\n    root= root.slice(0, root.length - 1);\n  }\n  const imageUrl = `${root}/glyphs2.png`;\n  const xmlUrl = `${root}/glyphs2.xml`;\n  cache._texture = Texture.fromUrl(imageUrl);\n  cache._webFile = new WebFile(xmlUrl);\n  cache._webFile.onStateChange = GlyphCache.prototype._glyphXmlReady.bind(cache);\n  cache._webFile.send();\n\n  return cache;\n}();\n\nexport function useCustomGlyphs(batch: Text3dBatch) {\n  batch._glyphCache = GLYPH_CACHE;\n  batch.prepareBatch();\n}\n\nexport function drawPlanets(renderContext: RenderContext, _opacity: number) {\n  if (Planets._planetTextures == null) {\n      Planets._loadPlanetTextures();\n    }\n    var elong = Planets._geocentricElongation(Planets._planetLocations[9].RA, Planets._planetLocations[9].dec, Planets._planetLocations[0].RA, Planets._planetLocations[0].dec);\n    var raDif = Planets._planetLocations[9].RA - Planets._planetLocations[0].RA;\n    if (Planets._planetLocations[9].RA < Planets._planetLocations[0].RA) {\n      raDif += 24;\n    }\n    var phaseAngle = Planets._phaseAngle(elong, Planets._planetLocations[9].distance, Planets._planetLocations[0].distance);\n    // var limbAngle = Planets._positionAngle(Planets._planetLocations[9].RA, Planets._planetLocations[9].dec, Planets._planetLocations[0].RA, Planets._planetLocations[0].dec);\n    if (raDif < 12) {\n      phaseAngle += 180;\n    }\n    var dista = (Math.abs(Planets._planetLocations[9].RA - Planets._planetLocations[0].RA) * 15) * Math.cos(Coordinates.degreesToRadians(Planets._planetLocations[0].dec));\n    var distb = Math.abs(Planets._planetLocations[9].dec - Planets._planetLocations[0].dec);\n    var sunMoonDist = Math.sqrt(dista * dista + distb * distb);\n    var eclipse = false;\n    var coronaOpacity = 0;\n    var moonEffect = (Planets._planetScales[9] / 2 - sunMoonDist);\n    // var darkLimb = Math.min(32, sunMoonDist * 32);\n    if (moonEffect > (Planets._planetScales[0] / 4)) {\n      eclipse = true;\n      coronaOpacity = Math.min(1, (moonEffect - (Planets._planetScales[0] / 2)) / 0.001);\n      Planets._drawPlanet(renderContext, 18, coronaOpacity);\n    }\n    for (const key in Planets._planetDrawOrder) {\n      // 0: Sun, 9: Moon, 19: Earth\n      var planetId = Planets._planetDrawOrder[key];\n      if (planetId <= 9) {\n        Planets._drawPlanet(renderContext, planetId, 1);\n      }\n    }\n    return true;\n}\n\nexport function renderOneFrame(showHorizon=true,\n                               showSky=true,\n                               showPlanetLabels=true) {\n  if (this.renderContext.get_backgroundImageset() != null) {\n    this.renderType = this.renderContext.get_backgroundImageset().get_dataSetType();\n  } else {\n    this.renderType = 2;\n  }\n\n  var sizeChange = false;\n  if (this.canvas.width !== this.canvas.parentNode.clientWidth) {\n    this.canvas.width = this.canvas.parentNode.clientWidth;\n    sizeChange = true;\n  }\n  if (this.canvas.height !== this.canvas.parentNode.clientHeight) {\n    this.canvas.height = this.canvas.parentNode.clientHeight;\n    sizeChange = true;\n  }\n  if (sizeChange && this.explorer != null) {\n    this.explorer.refresh();\n  }\n  if (this.canvas.width < 1 || this.canvas.height < 1) {\n    return;\n  }\n  if (sizeChange) {\n    this._crossHairs = null;\n  }\n  Tile.lastDeepestLevel = Tile.deepestLevel;\n  RenderTriangle.width = this.renderContext.width = this.canvas.width;\n  RenderTriangle.height = this.renderContext.height = this.canvas.height;\n  Tile.tilesInView = 0;\n  Tile.tilesTouched = 0;\n  Tile.deepestLevel = 0;\n  SpaceTimeController.set_metaNow(new Date());\n  if (this.get__mover() != null) {\n    SpaceTimeController.set_now(this.get__mover().get_currentDateTime());\n    Planets.updatePlanetLocations(this.get_solarSystemMode());\n    if (this.get__mover() != null) {\n      const newCam = this.get__mover().get_currentPosition();\n      this.renderContext.targetCamera = newCam.copy();\n      this.renderContext.viewCamera = newCam.copy();\n      if (this.renderContext.space && Settings.get_active().get_galacticMode()) {\n        const gPoint = Coordinates.j2000toGalactic(newCam.get_RA() * 15, newCam.get_dec());\n        this.renderContext.targetAlt = this.renderContext.alt = gPoint[1];\n        this.renderContext.targetAz = this.renderContext.az = gPoint[0];\n      }\n      else if (this.renderContext.space && Settings.get_active().get_localHorizonMode()) {\n        const currentAltAz = Coordinates.equitorialToHorizon(Coordinates.fromRaDec(newCam.get_RA(), newCam.get_dec()), SpaceTimeController.get_location(), SpaceTimeController.get_now());\n        this.renderContext.targetAlt = this.renderContext.alt = currentAltAz.get_alt();\n        this.renderContext.targetAz = this.renderContext.az = currentAltAz.get_az();\n      }\n      if (this.get__mover().get_complete()) {\n        WWTControl.scriptInterface._fireArrived(this.get__mover().get_currentPosition().get_RA(), this.get__mover().get_currentPosition().get_dec(), WWTControl.singleton.renderContext.viewCamera.zoom);\n        this.set__mover(null);\n        this._notifyMoveComplete();\n      }\n    }\n  }\n  else {\n    SpaceTimeController.updateClock();\n    Planets.updatePlanetLocations(this.get_solarSystemMode());\n    this._updateViewParameters();\n  }\n  this.renderContext.clear();\n\n  this.renderContext.setupMatricesSpace3d(this.renderContext.width, this.renderContext.height);\n  this.renderContext.drawImageSet(this.renderContext.get_backgroundImageset(), 100);\n  if (this.renderContext.get_foregroundImageset() != null) {\n    if (this.renderContext.get_foregroundImageset().get_dataSetType() !== this.renderContext.get_backgroundImageset().get_dataSetType()) {\n      this.renderContext.set_foregroundImageset(null);\n    }\n    else {\n      if (this.renderContext.viewCamera.opacity !== 100 && this.renderContext.gl == null) {\n        if (this._foregroundCanvas.width !== this.renderContext.width || this._foregroundCanvas.height !== this.renderContext.height) {\n          this._foregroundCanvas.width = this.renderContext.width;\n          this._foregroundCanvas.height = this.renderContext.height;\n        }\n        var saveDevice = this.renderContext.device;\n        this._fgDevice.clearRect(0, 0, this.renderContext.width, this.renderContext.height);\n        this.renderContext.device = this._fgDevice;\n        this.renderContext.drawImageSet(this.renderContext.get_foregroundImageset(), 100);\n        this.renderContext.device = saveDevice;\n        this.renderContext.device.save();\n        this.renderContext.device.globalAlpha = this.renderContext.viewCamera.opacity / 100;\n        this.renderContext.device.drawImage(this._foregroundCanvas, 0, 0);\n        this.renderContext.device.restore();\n      }\n      else {\n        this.renderContext.drawImageSet(this.renderContext.get_foregroundImageset(), this.renderContext.viewCamera.opacity);\n      }\n    }\n  }\n  if (this.uiController != null) {\n    this.uiController.render(this.renderContext);\n  }\n  else {\n    if (showSky) {\n      drawSky(this.renderContext, { opacity: 0.95, color: \"#4190ED\" });\n    }\n    Annotation.prepBatch(this.renderContext);\n    for (const item of this._annotations) {\n      item.draw(this.renderContext);\n    }\n    Annotation.drawBatch(this.renderContext);\n    if ((Date.now() - this._lastMouseMove) > 400) {\n      var raDecDown = this.getCoordinatesForScreenPoint(this._hoverTextPoint.x, this._hoverTextPoint.y);\n      this._annotationHover(raDecDown.x, raDecDown.y, this._hoverTextPoint.x, this._hoverTextPoint.y);\n      this._lastMouseMove = new Date(2100, 1, 1);\n    }\n    if (this._hoverText) {\n      this._drawHoverText(this.renderContext);\n    }\n  }\n\n  for (const imageset in this.renderContext.get_catalogHipsImagesets()) {\n    if (imageset.get_hipsProperties().get_catalogSpreadSheetLayer().enabled && imageset.get_hipsProperties().get_catalogSpreadSheetLayer().lastVersion === imageset.get_hipsProperties().get_catalogSpreadSheetLayer().get_version()) {\n      this.renderContext.drawImageSet(imageset, 100);\n    }\n  }\n  this.constellation = Constellations.containment.findConstellationForPoint(this.renderContext.viewCamera.get_RA(), this.renderContext.viewCamera.get_dec());\n  this._drawSkyOverlays();\n  Planets.drawPlanets(this.renderContext, 1);\n\n  if (showPlanetLabels) {\n    this._planetTextOverlays = makeTextOverlays(this.renderContext);\n    useCustomGlyphs(this._planetTextOverlays);\n    this._planetTextOverlays.viewTransform = Grids._altAzTextBatch?.viewTransform;\n    this._planetTextOverlays.draw(this.renderContext, 1, Color.fromArgb(255, 255, 255, 255));\n  }\n\n  if (showHorizon) {\n    drawHorizon(this.renderContext, { opacity: 0.95, color: \"#01362C\" });\n  }\n\n  const worldSave = this.renderContext.get_world();\n  const viewSave = this.renderContext.get_view();\n  const projSave = this.renderContext.get_projection();\n  if (Settings.get_current().get_showCrosshairs()) {\n    this._drawCrosshairs(this.renderContext);\n  }\n\n  const tilesAllLoaded = !TileCache.get_queueCount();\n  this.renderContext.setupMatricesOverlays();\n  this._fadeFrame();\n  this._frameCount++;\n  TileCache.decimateQueue();\n  TileCache.processQueue(this.renderContext);\n  Tile.currentRenderGeneration++;\n  if (!TourPlayer.get_playing()) {\n    this.set_crossFadeFrame(false);\n  }\n  this.renderContext.set_world(worldSave);\n  this.renderContext.set_view(viewSave);\n  this.renderContext.set_projection(projSave);\n  const now = Date.now();\n  const ms = now - this._lastUpdate;\n  if (ms > 1000) {\n    this._lastUpdate = now;\n    this._frameCount = 0;\n    RenderTriangle.trianglesRendered = 0;\n    RenderTriangle.trianglesCulled = 0;\n  }\n  if (this.capturingVideo) {\n    if ((this.dumpFrameParams != null) && (!this.dumpFrameParams.waitDownload || tilesAllLoaded)) {\n      this.captureFrameForVideo(this._videoBlobReady, this.dumpFrameParams.width, this.dumpFrameParams.height, this.dumpFrameParams.format);\n      SpaceTimeController.nextFrame();\n    }\n    if (SpaceTimeController.get_doneDumping()) {\n      SpaceTimeController.frameDumping = false;\n      SpaceTimeController.cancelFrameDump = false;\n      this.capturingVideo = false;\n    }\n  }\n}\n\nexport function drawEcliptic(renderContext: RenderContext, opacity: number, drawColor: Color, drawCircle: boolean = true) {\n    var col = drawColor;\n    var year = SpaceTimeController.get_now().getUTCFullYear();\n    if (Grids._eclipticOverviewLineList == null || year !== Grids._eclipticYear) {\n        if (Grids._eclipticOverviewLineList != null) {\n            Grids._eclipticOverviewLineList.clear();\n            Grids._eclipticOverviewLineList = null;\n        }\n        Grids._eclipticYear = year;\n        var obliquity = Coordinates.meanObliquityOfEcliptic(SpaceTimeController.get_jNow());\n        var mat = Matrix3d._rotationX((-obliquity / 360 * (Math.PI * 2)));\n        var daysPerYear = 365.25;\n        if (DT.isLeap(year, true)) {\n            Grids._monthDays[1] = 29;\n            daysPerYear = 366;\n        } else {\n            Grids._monthDays[1] = 28;\n            daysPerYear = 365;\n        }\n        var count = 2 * daysPerYear;\n        Grids._eclipticCount = daysPerYear;\n        var jYear = SpaceTimeController.utcToJulian(new Date(year, 0, 1, 12, 0, 0));\n        var index = 0;\n        var d = 0;\n        var dPrev = 0;\n        var dStart = 0;\n        Grids._eclipticOverviewLineList = new SimpleLineList();\n        Grids._eclipticOverviewLineList.set_depthBuffered(false);\n        for (var m = 0; m < 12; m++) {\n            var daysThisMonth = Grids._monthDays[m];\n            for (var i = 0; i < daysThisMonth; i++) {\n                var sunRaDec = Planets.getPlanetLocationJD('Sun', jYear);\n                var sunEcliptic = CT.eq2Ec(sunRaDec.RA, sunRaDec.dec, obliquity);\n                d = sunEcliptic.x;\n                if (i == 0 && m == 0) {\n                  dStart = d;\n                }\n                var width = 0.005;\n                if (!i) {\n                    width = 0.01;\n                }\n                var dd = d;\n                Grids._eclipticOverviewLineList.addLine(Vector3d._transformCoordinate(Vector3d.create(Math.cos((dd * Math.PI * 2) / 360), width, Math.sin((dd * Math.PI * 2) / 360)), mat), Vector3d._transformCoordinate(Vector3d.create(Math.cos((dd * Math.PI * 2) / 360), -width, Math.sin((dd * Math.PI * 2) / 360)), mat));\n                if (drawCircle && !(i == 0 && m == 0)) {\n                  Grids._eclipticOverviewLineList.addLine(Vector3d._transformCoordinate(Vector3d.create(Math.cos((dd * Math.PI * 2) / 360), 0, Math.sin((dd * Math.PI * 2) / 360)), mat), Vector3d._transformCoordinate(Vector3d.create(Math.cos((dPrev * Math.PI * 2) / 360), 0, Math.sin((dPrev * Math.PI * 2) / 360)), mat));\n                }\n                index++;\n                jYear += 1;\n                dPrev = d;\n            }\n            d += Grids._monthDays[m];\n        }\n        if (drawCircle) {\n          Grids._eclipticOverviewLineList.addLine(Vector3d._transformCoordinate(Vector3d.create(Math.cos((dStart * Math.PI * 2) / 360), 0, Math.sin((dStart * Math.PI * 2) / 360)), mat), Vector3d._transformCoordinate(Vector3d.create(Math.cos((dd * Math.PI * 2) / 360), 0, Math.sin((dd * Math.PI * 2) / 360)), mat));\n        }\n    }\n    Grids._eclipticOverviewLineList.drawLines(renderContext, opacity, drawColor);\n    return true;\n};\n\nexport function drawSkyOverlays() {\n    if (Settings.get_active().get_showConstellationPictures() && !this.freestandingMode) {\n        Constellations.drawArtwork(this.renderContext);\n    }\n    if (Settings.get_active().get_showConstellationFigures()) {\n        if (WWTControl.constellationsFigures == null) {\n            WWTControl.constellationsFigures = Constellations.create(\n                'Constellations',\n                URLHelpers.singleton.engineAssetUrl('figures.txt'),\n                false,  // \"boundry\"\n                false,  // \"noInterpollation\"\n                false,  // \"resource\"\n            );\n        }\n        WWTControl.constellationsFigures.draw(this.renderContext, false, 'UMA', false);\n    }\n    if (Settings.get_active().get_showEclipticGrid()) {\n        Grids.drawEclipticGrid(this.renderContext, 1, Settings.get_active().get_eclipticGridColor());\n        if (Settings.get_active().get_showEclipticGridText()) {\n            Grids.drawEclipticGridText(this.renderContext, 1, Settings.get_active().get_eclipticGridColor());\n        }\n    }\n    if (Settings.get_active().get_showGalacticGrid()) {\n        Grids.drawGalacticGrid(this.renderContext, 1, Settings.get_active().get_galacticGridColor());\n        if (Settings.get_active().get_showGalacticGridText()) {\n            Grids.drawGalacticGridText(this.renderContext, 1, Settings.get_active().get_galacticGridColor());\n        }\n    }\n    if (Settings.get_active().get_showAltAzGrid()) {\n        Grids.drawAltAzGrid(this.renderContext, 1, Settings.get_active().get_altAzGridColor());\n    }\n    if (Settings.get_active().get_showAltAzGridText()) {\n        Grids.drawAltAzGridText(this.renderContext, 1, Settings.get_active().get_altAzGridColor());\n    }\n    if (Settings.get_active().get_showPrecessionChart()) {\n        Grids.drawPrecessionChart(this.renderContext, 1, Settings.get_active().get_precessionChartColor());\n    }\n    if (Settings.get_active().get_showEcliptic()) {\n        Grids.drawEcliptic(this.renderContext, 1, Settings.get_active().get_eclipticColor());\n        if (Settings.get_active().get_showEclipticOverviewText()) {\n            Grids.drawEclipticText(this.renderContext, 1, Settings.get_active().get_eclipticColor());\n        }\n    }\n    if (Settings.get_active().get_showGrid()) {\n        Grids.drawEquitorialGrid(this.renderContext, 1, Settings.get_active().get_equatorialGridColor());\n        if (Settings.get_active().get_showEquatorialGridText()) {\n            Grids.drawEquitorialGridText(this.renderContext, 1, Settings.get_active().get_equatorialGridColor());\n        }\n    }\n    if (Settings.get_active().get_showConstellationBoundries()) {\n        if (WWTControl.constellationsBoundries == null) {\n            WWTControl.constellationsBoundries = Constellations.create(\n                'Constellations',\n                URLHelpers.singleton.engineAssetUrl('constellations.txt'),\n                true,   // \"boundry\"\n                false,  // \"noInterpollation\"\n                false,  // \"resource\"\n            );\n        }\n        WWTControl.constellationsBoundries.draw(this.renderContext, Settings.get_active().get_showConstellationSelection(), this.constellation, false);\n    }\n    if (Settings.get_active().get_showConstellationLabels()) {\n        Constellations.drawConstellationNames(this.renderContext, 1, Colors.get_yellow());\n    }\n}\n","import { Ref, ref, computed } from \"vue\";\nimport { Classification, SolarSystemObjects } from \"@wwtelescope/engine-types\";\nimport { Place} from \"@wwtelescope/engine\";\nimport { AltAzRad, EquatorialRad, LocationDeg, LocationRad } from \"./types\";\nimport { equatorialToHorizontal } from \"./utils\";\nimport { D2R } from \"@cosmicds/vue-toolkit\";\nimport { engineStore } from \"@wwtelescope/engine-pinia\";\ntype WWTEngineStore = ReturnType<typeof engineStore>;\n\n\nconst SECONDS_PER_DAY = 60 * 60 * 24;\nconst MILLISECONDS_PER_DAY = 1000 * SECONDS_PER_DAY;\n\nconst secondsInterval = 40;\nconst MILLISECONDS_PER_INTERVAL = 1000 * secondsInterval;\n\nexport function useSun(store: WWTEngineStore, location: Ref<LocationDeg>, _selectedTime: Ref<number> | number, _selectedTimezoneOffset: Ref<number> | number) {\n  \n  store.waitForReady().then(async ()=>{\n    // setup any watchers here\n  });\n  \n  const selectedTime = ref(_selectedTime);\n  const selectedTimezoneOffset = ref(_selectedTimezoneOffset);\n  \n  const locationRad = computed<LocationRad>(() => {\n    return {\n      latitudeRad: location.value.latitudeDeg * D2R,\n      longitudeRad: location.value.longitudeDeg * D2R,\n    };\n  });\n\n  const sunPlace = new Place();\n  sunPlace.set_names([\"Sun\"]);\n  sunPlace.set_classification(Classification.solarSystem);\n  sunPlace.set_target(SolarSystemObjects.sun);\n  sunPlace.set_zoomLevel(20);\n  \n  const sunPosition = computed<EquatorialRad>(() =>{\n    return {\n      raRad: sunPlace.get_RA() * 15 * D2R,\n      decRad: sunPlace.get_dec() * D2R,\n    } as EquatorialRad;\n  });\n\n  function getSunPositionAtTime(time: Date): AltAzRad {\n    const sunAltAz = equatorialToHorizontal(sunPosition.value.raRad, sunPosition.value.decRad, locationRad.value.latitudeRad, locationRad.value.longitudeRad, time);\n    return sunAltAz;\n  }\n\n  // function that finds at what time the sun will reach a given altitude during the current day to within 15 minutes\n  function getTimeforSunAlt(altDeg: number): { rising: number | null; setting: number | null; } {\n    // takes about 45ms to run\n    // search for time when sun is at given altitude\n    // start at 12:00am and search every MINUTES_PER_INTERVAL\n    const minTime = selectedTime.value - (selectedTime.value % MILLISECONDS_PER_DAY) - selectedTimezoneOffset.value + MILLISECONDS_PER_DAY * 0.5;\n    const maxTime = minTime + MILLISECONDS_PER_DAY * 0.5;\n    // const ehr = eclipticHorizonAngle(location.latitudeRad, dateTime);\n    let time = minTime;\n    let sunAlt = getSunPositionAtTime(new Date(time)).altRad; // negative\n    // find the two times it crosses the given altitude\n    while ((sunAlt < altDeg * D2R) && (time < maxTime)) {\n      time += MILLISECONDS_PER_INTERVAL;\n      sunAlt = getSunPositionAtTime(new Date(time)).altRad;\n    }\n    const rising = time == maxTime ? null : time;\n    while ((sunAlt > altDeg * D2R) && (time < maxTime)) {\n      time += MILLISECONDS_PER_INTERVAL;\n      sunAlt = getSunPositionAtTime(new Date(time)).altRad;\n    }\n    const setting = time == maxTime ? null : time;\n\n    return {\n      'rising': (rising !== null && setting !== null) ? Math.min(rising, setting) : rising,\n      'setting': (rising !== null && setting !== null) ? Math.max(rising, setting) : setting\n    };\n  }\n  \n  \n  return { getTimeforSunAlt, getSunPositionAtTime, sunPlace, sunPosition };\n}\n","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, withKeys as _withKeys, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, unref as _unref, vShow as _vShow, withDirectives as _withDirectives, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, Transition as _Transition, normalizeClass as _normalizeClass, toDisplayString as _toDisplayString, createBlock as _createBlock, mergeProps as _mergeProps, normalizeStyle as _normalizeStyle } from \"vue\"\n\nconst _hoisted_1 = { id: \"main-content\" }\nconst _hoisted_2 = {\n  key: 0,\n  id: \"introduction-overlay\"\n}\nconst _hoisted_3 = { id: \"intro-window-close-button\" }\nconst _hoisted_4 = { class: \"intro-text\" }\nconst _hoisted_5 = { style: {\"color\":\"#f4ba3e\"} }\nconst _hoisted_6 = { style: {\"color\":\"#f4ba3e\"} }\nconst _hoisted_7 = {\n  class: \"modal\",\n  id: \"modal-loading\"\n}\nconst _hoisted_8 = { id: \"top-content\" }\nconst _hoisted_9 = { id: \"left-buttons\" }\nconst _hoisted_10 = { id: \"center-buttons\" }\nconst _hoisted_11 = { id: \"geolocation-close\" }\nconst _hoisted_12 = { id: \"geolocation-controls\" }\nconst _hoisted_13 = { id: \"right-buttons\" }\nconst _hoisted_14 = {\n  id: \"controls\",\n  class: \"collapsable-control control-icon-wrapper\"\n}\nconst _hoisted_15 = { class: \"controls-top-row\" }\nconst _hoisted_16 = {\n  key: 0,\n  id: \"control-checkboxes\"\n}\nconst _hoisted_17 = {\n  id: \"planet-visibility-box\",\n  class: \"collapsable-control control-icon-wrapper\"\n}\nconst _hoisted_18 = { class: \"controls-top-row planet-visibility\" }\nconst _hoisted_19 = {\n  key: 0,\n  id: \"planet-visibility-label\"\n}\nconst _hoisted_20 = { id: \"bottom-content\" }\nconst _hoisted_21 = { id: \"date-picker\" }\nconst _hoisted_22 = { id: \"change-flags\" }\nconst _hoisted_23 = {\n  key: 0,\n  id: \"body-logos\"\n}\nconst _hoisted_24 = { class: \"video-wrapper\" }\n\nimport { ref, reactive, computed, markRaw, onMounted, nextTick, watch } from \"vue\";\nimport { Color, Grids, Planets, Settings, WWTControl, AstroCalc } from \"@wwtelescope/engine\";\nimport { SolarSystemObjects } from \"@wwtelescope/engine-types\";\nimport { engineStore } from \"@wwtelescope/engine-pinia\";\nimport { BackgroundImageset, LocationDeg, skyBackgroundImagesets, supportsTouchscreen, blurActiveElement, useWWTKeyboardControls, API_BASE_URL, D2R } from \"@cosmicds/vue-toolkit\";\nimport { useDisplay } from \"vuetify\";\nimport { v4 } from \"uuid\";\n\nimport { useTimezone } from \"./timezones\";\nimport { horizontalToEquatorial, skyOpacityForSunAlt, getJulian, equatorialToHorizontal } from \"./utils\";\nimport { resetAltAzGridText, makeAltAzGridText, drawPlanets, renderOneFrame, drawEcliptic, drawSkyOverlays } from \"./wwt-hacks\";\nimport { MapBoxFeature, MapBoxFeatureCollection, geocodingInfoForSearch, textForLocation } from \"@cosmicds/vue-toolkit/src/mapbox\";\n// import { useGeolocation } from \"@cosmicds/vue-toolkit\";\nimport { useSun } from './useSun';\n\nconst UUID_KEY = \"eclipse-mini-uuid\" as const;\nconst OPT_OUT_KEY = \"eclipse-mini-optout\" as const;\nconst SKIP_INTRO_CONTENT_KEY = \"skip-intro-content\" as const;\ntype SheetType = \"text\" | \"video\";\nexport interface PlanetParadeProps {\n  wwtNamespace?: string;\n}\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'PlanetParade',\n  props: {\n    wwtNamespace: { default: \"planet-parade\" }\n  },\n  setup(__props: any) {\n\nconst STORY_DATA_URL = `${API_BASE_URL}/planet-parade/data`;\n\nconst maybeUUID = window.localStorage.getItem(UUID_KEY);\nconst storedOptOut = window.localStorage.getItem(OPT_OUT_KEY);\nconst skipIntroContent = window.localStorage.getItem(SKIP_INTRO_CONTENT_KEY)?.toLowerCase() === \"true\";\nconst existingUser = maybeUUID !== null;\nconst uuid = maybeUUID ?? v4();\nif (!existingUser) {\n  window.localStorage.setItem(UUID_KEY, uuid);\n}\nlet infoTimeMs = 0;\nlet videoPlayingTimeMs = 0;\nlet videoPlaying = false;\nlet videoOpened = false;\nlet videoPlayed = false;\nlet appStartTimestamp = Date.now();\nlet infoStartTimestamp = null as number | null;\nlet videoPlayingStartTimestamp = null as number | null;\n\nlet userSelectedSearchLocations: [number, number][] = [];\nlet userSelectedMapLocations: [number, number][] = [];\n\nconst store = engineStore();\n\nuseWWTKeyboardControls(store);\n\nconst touchscreen = supportsTouchscreen();\nconst { smAndDown, smAndUp, xs } = useDisplay();\n\nconst _props = __props;\n\nconst queryHideSplash = new URLSearchParams(window.location.search).get(\"splash\")?.toLowerCase() === \"false\";\nconst splash = !(queryHideSplash || skipIntroContent);\nconst showSplashScreen = ref(splash);\nconst backgroundImagesets = reactive<BackgroundImageset[]>([]);\nconst sheet = ref<SheetType | null>(null);\nconst layersLoaded = ref(false);\nconst positionSet = ref(false);\nconst accentColor = ref(\"#f4ba3e\");\nconst accentColor2 = ref(\"#6793ff\");\nconst buttonColor = ref(\"#f4ba3e\");\nconst tab = ref(0);\nconst showHorizon = ref(true);\nconst showAltAzGrid = ref(true);\nconst showEcliptic = ref(true);\nconst showLocationSelector = ref(false);\nconst playing = ref(false);\nconst showControls = ref(smAndUp.value);\nconst showConstellations = ref(false);\nconst showPlanetLabels = ref(true);\nconst inIntro = ref(false);\nconst showPrivacyDialog = ref(false);\nconst datePickerOpen = ref(false);\nconst skipIntroChecked = ref(skipIntroContent);\nconst showPlanetVisiblity = ref(true);\n\nconst wwtStats = markRaw({\n  timeResetCount: 0,\n  reverseCount: 0,\n  playPauseCount: 0,\n  speedups: [] as number[],\n  slowdowns: [] as number[],\n  rateSelections: [] as number[],\n  startTime: Date.now(),\n});\n\nconst optOut = typeof storedOptOut === \"string\" ? storedOptOut === \"true\" : null;\nconst responseOptOut = ref(optOut);\n\nconst geocodingOptions = {\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  access_token: process.env.VUE_APP_MAPBOX_ACCESS_TOKEN ?? \"\", \n};\n\nconst selectedLocation = ref<LocationDeg>({\n  longitudeDeg: -71.1056,\n  latitudeDeg: 42.3581,\n});\nconst selectedLocationText = ref(\"\");\nupdateSelectedLocationText();\n\n// const { geolocation, geolocate} = useGeolocation();\n// function useGeolocated() {\n//   if (!geolocation.value) {return;}\n//   selectedLocation.value = { latitudeDeg: geolocation.value.latitude, longitudeDeg: geolocation.value.longitude };\n// }\n// watch(\n//   geolocation,\n//   (location) => {\n//     if (location) {\n//       selectedLocation.value = { latitudeDeg: location?.latitude, longitudeDeg: location?.longitude };\n//     }\n//   }\n// );\n\nconst searchErrorMessage = ref<string | null>(null);\nconst { selectedTimezoneOffset, shortTimezone, browserTimezoneOffset } = useTimezone(selectedLocation);\n\nconst selectedTime = ref(Date.now());\n\nconst { getTimeforSunAlt, getSunPositionAtTime } = useSun(store, selectedLocation, selectedTime, selectedTimezoneOffset);\n// faking localization because\n// <date-time-picker> and <time-display> are not timezone aware\nconst localSelectedDate = computed({\n  // if you console log this date it will still say the local timezone \n  // as determined by the browser Intl.DateTimeFormat().resolvedOptions().timeZone\n  // but we have manually offset it so the hours are correct for the selected timezone\n  get: () => {\n    const time = selectedTime.value;\n    const fakeUTC = time + browserTimezoneOffset;\n    return new Date(fakeUTC + selectedTimezoneOffset.value);\n  },\n  set: (value: Date) => {\n    // get local time\n    const time = value.getTime();\n    // undo fake localization\n    const newTime = time - selectedTimezoneOffset.value - browserTimezoneOffset;\n    selectedTime.value = new Date(newTime).getTime();\n  }\n});\n\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nconst wwtSettings: Settings = Settings.get_active();\n\nfunction doWWTModifications() {\n\n  Grids._makeAltAzGridText = makeAltAzGridText;\n  Grids.drawEcliptic = drawEcliptic;\n\n  // We need to render one frame ahead of time\n  // as there's a lot of setup done on the first frame\n  // render that we need to use\n  WWTControl.singleton.renderOneFrame();\n\n  const boundRenderOneFrame = renderOneFrame.bind(WWTControl.singleton);\n  const newFrameRender = function() { \n    boundRenderOneFrame(\n      showHorizon.value,\n      showHorizon.value,\n      showPlanetLabels.value,\n    );\n  };\n\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  WWTControl.singleton._drawSkyOverlays = drawSkyOverlays.bind(WWTControl.singleton);\n\n  // as well as our custom text overlays\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  WWTControl.singleton.renderOneFrame = newFrameRender;\n\n  const originalUpdatePlanetLocations = Planets.updatePlanetLocations;\n  const planetScales = [\n    8,  // Sun\n    1.25,  // Mercury\n    1.25,  // Venus\n    1.25,  // Mars\n    2.5,  // Jupiter\n    4.5,  // Saturn\n    2,  // Uranus\n    2,  // Neptune\n    1,  // Pluto\n    1.25,  // Moon\n  ];\n  function newUpdatePlanetLocations(threeD: boolean) {\n    originalUpdatePlanetLocations(threeD);\n    for (let i = 0; i <= SolarSystemObjects.moon; i++) {\n      Planets._planetScales[i] = planetScales[i];\n    }\n  }\n  Planets.updatePlanetLocations = newUpdatePlanetLocations;\n  Planets.drawPlanets = drawPlanets;\n\n  // Recall that zoom = 6 * FOV, in WWT\n  const maxFOV = 90;\n  WWTControl.singleton.set_zoomMax(maxFOV * 6);\n\n}\n\n\nfunction planetIsVisible(planetName, date: Date, location: LocationDeg) {\n  // Get planet position\n  const planetPos = AstroCalc.getPlanet(getJulian(date), planetName, location.latitudeDeg * D2R, location.longitudeDeg * D2R, 0);\n  // Convert to horizontal\n  const altAz = equatorialToHorizontal(planetPos.RA * 15 * D2R, planetPos.dec * D2R, location.latitudeDeg * D2R, location.longitudeDeg * D2R, date);\n  // Check if planet is above minimum altitude\n  return altAz.altRad > 0;\n}\n\nconst sunVis = computed(() => planetIsVisible(SolarSystemObjects.sun, dateTime.value, selectedLocation.value));\nconst mercuryVis = computed(() => planetIsVisible(SolarSystemObjects.mercury, dateTime.value, selectedLocation.value));\nconst venusVis = computed(() => planetIsVisible(SolarSystemObjects.venus, dateTime.value, selectedLocation.value));\nconst marsVis = computed(() => planetIsVisible(SolarSystemObjects.mars, dateTime.value, selectedLocation.value));\nconst jupiterVis = computed(() => planetIsVisible(SolarSystemObjects.jupiter, dateTime.value, selectedLocation.value));\nconst saturnVis = computed(() => planetIsVisible(SolarSystemObjects.saturn, dateTime.value, selectedLocation.value));\nconst uranusVis = computed(() => planetIsVisible(SolarSystemObjects.uranus, dateTime.value, selectedLocation.value));\nconst neptuneVis = computed(() => planetIsVisible(SolarSystemObjects.neptune, dateTime.value, selectedLocation.value));\n\nonMounted(() => {\n  store.waitForReady().then(async () => {\n    skyBackgroundImagesets.forEach(iset => backgroundImagesets.push(iset));\n\n    // If there are layers to set up, do that here!\n    layersLoaded.value = true;\n\n    const altTime = getTimeforSunAlt(2).setting;\n    if (altTime) {\n      selectedTime.value = altTime;\n    }\n    wwtStats.startTime = selectedTime.value;\n    setTimeout(() => resetCamera().then(() => positionSet.value = true), 100);\n\n    store.applySetting([\"localHorizonMode\", true]);\n    store.applySetting([\"altAzGridColor\", Color.fromArgb(180, 133, 201, 254)]);\n    store.applySetting([\"eclipticColor\", Color.fromArgb(255, 255, 0, 255)]);\n    store.applySetting([\"actualPlanetScale\", false]);\n    updateAltAzGrid(showAltAzGrid.value);\n    updateAltAzGridText(showAltAzGrid.value || showHorizon.value);\n    updateEcliptic(showEcliptic.value);\n    updateConstellations(showConstellations.value);\n    updateWWTLocation(selectedLocation.value);\n    store.setClockSync(false);\n    store.setClockRate(1800);\n\n    doWWTModifications();\n    // geolocate().then(() => {\n    //   console.log('got location');\n    //   useGeolocated(); \n    //   selectedTime.value = todayAt4pm.value;\n    //   resetCamera();\n    // });\n    \n    createUserEntry();\n\n    setInterval(() => {\n      if (playing.value) {\n        const time = store.currentTime;\n        selectedTime.value = time.getTime();\n      }\n      const sunPosition = getSunPositionAtTime(store.currentTime);\n      updateEclipticColor(sunPosition.altRad);\n    }, 500);\n\n    window.addEventListener(\"keyup\", (event: KeyboardEvent) => {\n      if ([\"Esc\", \"Escape\"].includes(event.key) && showVideoSheet.value) {\n        showVideoSheet.value = false;\n      }\n    });\n\n    window.addEventListener(\"visibilitychange\", () => {\n      if (document.visibilityState === \"hidden\") {\n        updateUserData();\n      } else {\n        resetData();\n      }\n    });\n  });\n});\n\nconst ready = computed(() => layersLoaded.value && positionSet.value);\n\n/* `isLoading` is a bit redundant here, but it could potentially have independent logic */\nconst isLoading = computed(() => !ready.value);\n\n// It doesn't really matter which one we note here\nconst inNorthernHemisphere = computed(() => selectedLocation.value.latitudeDeg > 0);\n\nconst dateTime = computed(() => new Date(selectedTime.value));\n\n/* Properties related to device/screen characteristics */\nconst smallSize = computed(() => smAndDown.value);\n\nconst mobile = computed(() => smallSize.value && touchscreen);\n\nconst xSmallSize = computed(() => xs.value);\n\n/* This lets us inject component data into element CSS */\nconst cssVars = computed(() => {\n  return {\n    \"--accent-color\": accentColor.value,\n    \"--accent-color2\": accentColor2.value,\n    \"--app-content-height\": showTextSheet.value ? \"66%\" : \"100%\",\n  };\n});\n\n\n/**\n  Computed flags that control whether the relevant dialogs display.\n  The `sheet` data member stores which sheet is open, so these are just\n  computed wrappers around modifying/querying that which can be used as\n  dialog v-model values\n*/\nconst showTextSheet = computed({\n  get() {\n    return sheet.value === \"text\";\n  },\n  set(_value: boolean) {\n    selectSheet(\"text\");\n  }\n});\n\nconst showVideoSheet = computed({\n  get() {\n    return sheet.value === \"video\";\n  },\n  set(value: boolean) {\n    selectSheet(\"video\");\n    if (!value) {\n      const video = document.querySelector(\"#info-video\") as HTMLVideoElement;\n      video.pause();\n    } else {\n      nextTick(() => {\n        const video = document.querySelector(\"#info-video\") as HTMLVideoElement;\n        video.addEventListener(\"play\", (_event: Event) => {\n          videoPlaying = true;\n          videoPlayingStartTimestamp = Date.now();\n          videoPlayed = true;\n        });\n\n        video.addEventListener(\"pause\", (_event: Event) => {\n          videoPlaying = false;\n          const now = Date.now();\n          if (videoPlayingStartTimestamp !== null) {\n            videoPlayingTimeMs += (now - videoPlayingStartTimestamp);\n            videoPlayingStartTimestamp = null;\n          }\n        });\n      });\n    }\n  }\n});\n\n/**\n  This is convenient if there's any other logic that we want to run\n  when the splash screen is closed\n*/\nfunction closeSplashScreen() {\n  showSplashScreen.value = false;\n}\n\nfunction selectSheet(sheetType: SheetType | null) {\n  if (sheet.value === sheetType) {\n    sheet.value = null;\n    nextTick(() => {\n      blurActiveElement();\n    });\n  } else {\n    sheet.value = sheetType;\n  }\n}\n\nfunction getTextForLocation(longitudeDeg: number, latitudeDeg: number): Promise<string> {\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  return textForLocation(longitudeDeg, latitudeDeg, geocodingOptions);\n}\n\nfunction setLocationFromFeature(feature: MapBoxFeature) {\n  selectedLocation.value = { longitudeDeg: feature.center[0], latitudeDeg: feature.center[1] };\n  getTextForLocation(feature.center[0], feature.center[1]).then(text => {\n    selectedLocationText.value = text;\n  }).catch(_err => {\n    searchErrorMessage.value = \"An error occurred while searching\";\n  });\n}\n\nfunction setLocationFromSearchFeature(feature: MapBoxFeature) {\n  setLocationFromFeature(feature);\n  userSelectedSearchLocations.push(feature.center);\n}\n\nasync function updateSelectedLocationText() {\n  selectedLocationText.value = await getTextForLocation(selectedLocation.value.longitudeDeg, selectedLocation.value.latitudeDeg);\n}\n\nfunction searchProvider(text: string): Promise<MapBoxFeatureCollection> {\n  return geocodingInfoForSearch(text, geocodingOptions);\n}\n\nfunction updateLocationFromMap(location: LocationDeg) {\n  selectedLocation.value = location;\n  userSelectedMapLocations.push([location.latitudeDeg, location.longitudeDeg]);\n}\n\nasync function createUserEntry() {\n  if (responseOptOut.value) {\n    return;\n  }\n\n  const response = await fetch(`${STORY_DATA_URL}/${uuid}`, {\n    method: \"GET\",\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    headers: { \"Authorization\": process.env.VUE_APP_CDS_API_KEY ?? \"\" }\n  });\n  const content = await response.json();\n  const exists = response.status === 200 && content.response?.user_uuid != undefined;\n  if (exists) {\n    return;\n  }\n\n  fetch(`${STORY_DATA_URL}`, {\n    method: \"PUT\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      \"Authorization\": process.env.VUE_APP_CDS_API_KEY ?? \"\",\n    },\n    body: JSON.stringify({\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      user_uuid: uuid,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      user_selected_search_locations: userSelectedSearchLocations,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      user_selected_map_locations: userSelectedMapLocations,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      app_time_ms: 0, info_time_ms: 0, video_time_ms: 0,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      video_opened: videoOpened, video_played: videoPlayed,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      wwt_time_reset_count: wwtStats.timeResetCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      wwt_reverse_count: wwtStats.reverseCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      wwt_play_pause_count: wwtStats.playPauseCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      wwt_speedups: wwtStats.speedups,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      wwt_slowdowns: wwtStats.slowdowns,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      wwt_rate_selections: wwtStats.rateSelections,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      wwt_start_stop_times: [wwtStats.startTime, selectedTime.value],\n    }),\n  });\n}\n\nfunction resetData() {\n  userSelectedMapLocations = [];\n  userSelectedSearchLocations = [];\n  infoTimeMs = 0;\n  videoPlayingTimeMs = 0;\n  const now = Date.now();\n  appStartTimestamp = now;\n  infoStartTimestamp = showTextSheet.value ? now : null;\n  videoPlayingStartTimestamp = videoPlaying ? now : null;\n  Object.assign(wwtStats, {\n    timeResetCount: 0,\n    reverseCount: 0,\n    playPauseCount: 0,\n    speedups: [],\n    slowdowns: [],\n    rateSelections: [],\n    startTime: selectedTime.value,\n  });\n}\n\nasync function updateUserData() {\n  if (responseOptOut.value) {\n    return;\n  }\n\n  const now = Date.now();\n  const infoTime = (showTextSheet.value && infoStartTimestamp !== null) ? now - infoStartTimestamp : infoTimeMs;\n  const videoTime = (videoPlaying && videoPlayingStartTimestamp !== null) ? now - videoPlayingStartTimestamp : videoPlayingTimeMs;\n\n  fetch(`${STORY_DATA_URL}/${uuid}`, {\n    method: \"PATCH\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      \"Authorization\": process.env.VUE_APP_CDS_API_KEY ?? \"\",\n    },\n    body: JSON.stringify({\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      user_selected_search_locations: userSelectedSearchLocations,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      user_selected_map_locations: userSelectedMapLocations,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_app_time_ms: now - appStartTimestamp,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_info_time_ms: infoTime,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_video_time_ms: videoTime,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      video_opened: videoOpened, video_played: videoPlayed,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_wwt_time_reset_count: wwtStats.timeResetCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_wwt_reverse_count: wwtStats.reverseCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_wwt_play_pause_count: wwtStats.playPauseCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      wwt_speedups: wwtStats.speedups,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      wwt_slowdowns: wwtStats.slowdowns,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      wwt_rate_selections: wwtStats.rateSelections,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      wwt_start_stop_times: [wwtStats.startTime, selectedTime.value],\n    }),\n    keepalive: true,\n  }).then(() => {\n    resetData();\n  });\n}\n\nasync function resetCamera(): Promise<void> {\n  const time = store.currentTime;\n\n  const latRad = selectedLocation.value.latitudeDeg * D2R;\n  const lonRad = selectedLocation.value.longitudeDeg * D2R;\n\n  const sunAltAz = getSunPositionAtTime(time);\n  const sunAz = sunAltAz.azRad;\n  const startAlt = smallSize.value ? 15 * D2R : 25 * D2R;\n  const startRADec = horizontalToEquatorial(\n    startAlt,\n    sunAz,\n    latRad,\n    lonRad,\n    time,\n  );\n\n  return store.gotoRADecZoom({\n    raRad: startRADec.raRad,\n    decRad: startRADec.decRad,\n    zoomDeg: 360,\n    instant: true,\n  });\n  \n}\n\nfunction updateWWTLocation(location: LocationDeg) {\n  wwtSettings.set_locationLat(location.latitudeDeg);\n  wwtSettings.set_locationLng(location.longitudeDeg);\n}\n\nfunction updateAltAzGrid(show: boolean) {\n  store.applySetting([\"showAltAzGrid\", show]);\n}\n\nfunction updateAltAzGridText(show: boolean) {\n  store.applySetting([\"showAltAzGridText\", show]);\n}\n\nfunction updateEcliptic(show: boolean) {\n  store.applySetting([\"showEcliptic\", show]);\n  // store.applySetting([\"showEclipticOverviewText\", show]);\n}\n\nfunction updateEclipticColor(sunAlt: number) {\n  const opacity = skyOpacityForSunAlt(sunAlt);\n  const component = 255 - opacity * (255 - 119);\n  const color = Color.fromArgb(255, component, 0, component);\n  store.applySetting([\"eclipticColor\", color]);\n}\n\nfunction updateConstellations(show: boolean) {\n  store.applySetting([\"showConstellationFigures\", show]);\n  store.applySetting([\"showConstellationLabels\", show]);\n}\n\nwatch(selectedLocation, (location: LocationDeg) => {\n  console.log('selectedLocation changed', location);\n  updateSelectedLocationText();\n  updateWWTLocation(location);\n  resetCamera();\n  WWTControl.singleton.renderOneFrame();\n});\n\n// watch(selectedTime, (value: number) => {\n//   console.log(value);});\nwatch(playing, (play: boolean) => {\n  store.setClockSync(play);\n});\n\nwatch(showAltAzGrid, (show: boolean) => {\n  updateAltAzGrid(show);\n  updateAltAzGridText(show || showHorizon.value);\n});\nwatch(showEcliptic, updateEcliptic);\nwatch(showConstellations, updateConstellations);\nwatch(showHorizon, (show: boolean) => {\n  updateAltAzGridText(show || showAltAzGrid.value);\n});\n\nwatch(dateTime, (dt: Date) => {\n  store.setTime(dt);\n});\n\nwatch(skipIntroChecked, (checked: boolean) => {\n  window.localStorage.setItem(SKIP_INTRO_CONTENT_KEY, String(checked));\n});\n\nwatch(showTextSheet, (show: boolean) => {\n  const now = Date.now();\n  if (show) {\n    infoStartTimestamp = now; \n  } else if (infoStartTimestamp !== null) {\n    infoTimeMs += (now - infoStartTimestamp);\n    infoStartTimestamp = null;\n  }\n});\n\nwatch(showVideoSheet, (show: boolean) => {\n  if (show) {\n    videoOpened = true;\n  }\n});\n\nwatch(inNorthernHemisphere, (_inNorth: boolean) => resetAltAzGridText());\n\nwatch(showSplashScreen, (show: boolean) => {\n  if (!show) {\n    inIntro.value = true;\n  }\n});\n\nwatch(inIntro, (intro: boolean) => {\n  if (!intro) {\n    if (!showSplashScreen.value && responseOptOut.value === null) {\n      showPrivacyDialog.value = true;\n    }\n  }\n});\n\nwatch(responseOptOut, (optOut: boolean | null) => {\n  if (optOut !== null) {\n    window.localStorage.setItem(OPT_OUT_KEY, String(optOut));\n  }\n});\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_WorldWideTelescope = _resolveComponent(\"WorldWideTelescope\")!\n  const _component_splash_screen = _resolveComponent(\"splash-screen\")!\n  const _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\")!\n  const _component_v_checkbox = _resolveComponent(\"v-checkbox\")!\n  const _component_v_card = _resolveComponent(\"v-card\")!\n  const _component_v_dialog = _resolveComponent(\"v-dialog\")!\n  const _component_icon_button = _resolveComponent(\"icon-button\")!\n  const _component_geolocation_button = _resolveComponent(\"geolocation-button\")!\n  const _component_location_search = _resolveComponent(\"location-search\")!\n  const _component_location_selector = _resolveComponent(\"location-selector\")!\n  const _component_v_icon = _resolveComponent(\"v-icon\")!\n  const _component_time_display = _resolveComponent(\"time-display\")!\n  const _component_date_time_picker = _resolveComponent(\"date-time-picker\")!\n  const _component_v_overlay = _resolveComponent(\"v-overlay\")!\n  const _component_speed_control = _resolveComponent(\"speed-control\")!\n  const _component_credit_logos = _resolveComponent(\"credit-logos\")!\n  const _component_v_card_text = _resolveComponent(\"v-card-text\")!\n  const _component_v_spacer = _resolveComponent(\"v-spacer\")!\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n  const _component_v_card_actions = _resolveComponent(\"v-card-actions\")!\n  const _component_v_tab = _resolveComponent(\"v-tab\")!\n  const _component_v_tabs = _resolveComponent(\"v-tabs\")!\n  const _component_v_window_item = _resolveComponent(\"v-window-item\")!\n  const _component_v_chip = _resolveComponent(\"v-chip\")!\n  const _component_v_col = _resolveComponent(\"v-col\")!\n  const _component_v_row = _resolveComponent(\"v-row\")!\n  const _component_funding_acknowledgement = _resolveComponent(\"funding-acknowledgement\")!\n  const _component_v_container = _resolveComponent(\"v-container\")!\n  const _component_v_window = _resolveComponent(\"v-window\")!\n  const _component_v_app = _resolveComponent(\"v-app\")!\n\n  return (_openBlock(), _createBlock(_component_v_app, {\n    id: \"app\",\n    style: _normalizeStyle(cssVars.value)\n  }, {\n    default: _withCtx(() => [\n      _createElementVNode(\"div\", _hoisted_1, [\n        _createVNode(_component_WorldWideTelescope, { \"wwt-namespace\": _ctx.wwtNamespace }, null, 8, [\"wwt-namespace\"]),\n        _createVNode(_component_splash_screen, {\n          title: \"Planetary Parade\",\n          cssVars: cssVars.value,\n          onClose: closeSplashScreen\n        }, null, 8, [\"cssVars\"]),\n        _createVNode(_component_v_dialog, {\n          modelValue: inIntro.value,\n          \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((inIntro).value = $event))\n        }, {\n          default: _withCtx(() => [\n            (inIntro.value)\n              ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n                  _createVNode(_component_v_card, { class: \"info-card elevation-5\" }, {\n                    default: _withCtx(() => [\n                      _createElementVNode(\"div\", _hoisted_3, [\n                        _createVNode(_component_font_awesome_icon, {\n                          size: \"xl\",\n                          class: \"ma-1\",\n                          color: accentColor.value,\n                          icon: \"xmark\",\n                          onClick: _cache[0] || (_cache[0] = ($event: any) => (inIntro.value = !inIntro.value)),\n                          onKeyup: _cache[1] || (_cache[1] = _withKeys(($event: any) => (inIntro.value = !inIntro.value), [\"enter\"])),\n                          tabindex: \"0\",\n                          \"tooltip-location\": \"start\"\n                        }, null, 8, [\"color\"])\n                      ]),\n                      _createElementVNode(\"div\", _hoisted_4, [\n                        _cache[66] || (_cache[66] = _createElementVNode(\"h3\", {\n                          style: {\"color\":\"#f4ba3e\"},\n                          class: \"mb-2\"\n                        }, \"Quick Start\", -1)),\n                        _createElementVNode(\"ol\", null, [\n                          _createElementVNode(\"li\", null, [\n                            _cache[53] || (_cache[53] = _createTextVNode(\"Set desired location using \")),\n                            _createVNode(_component_font_awesome_icon, {\n                              class: \"bullet-icon\",\n                              icon: \"location-dot\",\n                              style: {\"color\":\"#f4ba3e\"}\n                            }),\n                            _cache[54] || (_cache[54] = _createTextVNode()),\n                            _cache[55] || (_cache[55] = _createElementVNode(\"strong\", null, [\n                              _createElementVNode(\"span\", { style: {\"color\":\"#f4ba3e\"} }, \"(top-center)\")\n                            ], -1)),\n                            _cache[56] || (_cache[56] = _createTextVNode(\".\"))\n                          ]),\n                          _createElementVNode(\"li\", null, [\n                            _cache[57] || (_cache[57] = _createTextVNode(\"Click box that displays date/time \")),\n                            _createElementVNode(\"strong\", null, [\n                              _withDirectives(_createElementVNode(\"span\", _hoisted_5, \"(bottom-left)\", 512), [\n                                [_vShow, !_unref(xs)]\n                              ]),\n                              _withDirectives(_createElementVNode(\"span\", _hoisted_6, \"(bottom-center)\", 512), [\n                                [_vShow, _unref(xs)]\n                              ])\n                            ]),\n                            _cache[58] || (_cache[58] = _createTextVNode(\" to update, or press \")),\n                            _createVNode(_component_font_awesome_icon, {\n                              class: \"bullet-icon\",\n                              icon: \"play\",\n                              style: {\"color\":\"#f4ba3e\"}\n                            }),\n                            _cache[59] || (_cache[59] = _createTextVNode(\" to advance time.\"))\n                          ]),\n                          _cache[65] || (_cache[65] = _createElementVNode(\"li\", null, \"Go outdoors and find the planet parade!\", -1)),\n                          _createElementVNode(\"li\", null, [\n                            _cache[60] || (_cache[60] = _createTextVNode(\"Learn more using \")),\n                            _createVNode(_component_font_awesome_icon, {\n                              class: \"bullet-icon\",\n                              icon: \"book-open\",\n                              style: {\"color\":\"#f4ba3e\"}\n                            }),\n                            _cache[61] || (_cache[61] = _createTextVNode(\" and \")),\n                            _createVNode(_component_font_awesome_icon, {\n                              class: \"bullet-icon\",\n                              icon: \"video\",\n                              style: {\"color\":\"#f4ba3e\"}\n                            }),\n                            _cache[62] || (_cache[62] = _createTextVNode()),\n                            _cache[63] || (_cache[63] = _createElementVNode(\"strong\", null, [\n                              _createElementVNode(\"span\", { style: {\"color\":\"#f4ba3e\"} }, \"(upper-left)\")\n                            ], -1)),\n                            _cache[64] || (_cache[64] = _createTextVNode(\". \"))\n                          ])\n                        ])\n                      ]),\n                      _createVNode(_component_v_checkbox, {\n                        modelValue: skipIntroChecked.value,\n                        \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((skipIntroChecked).value = $event)),\n                        label: \"Do not display Intro Content again\",\n                        density: \"default\",\n                        \"hide-details\": \"\"\n                      }, null, 8, [\"modelValue\"])\n                    ]),\n                    _: 1\n                  })\n                ]))\n              : _createCommentVNode(\"\", true)\n          ]),\n          _: 1\n        }, 8, [\"modelValue\"]),\n        _createVNode(_Transition, { name: \"fade\" }, {\n          default: _withCtx(() => [\n            _withDirectives(_createElementVNode(\"div\", _hoisted_7, _cache[67] || (_cache[67] = [\n              _createElementVNode(\"div\", { class: \"container\" }, [\n                _createElementVNode(\"div\", { class: \"spinner\" }),\n                _createElementVNode(\"p\", null, \"Loading \")\n              ], -1)\n            ]), 512), [\n              [_vShow, isLoading.value]\n            ])\n          ]),\n          _: 1\n        }),\n        _createElementVNode(\"div\", _hoisted_8, [\n          _createElementVNode(\"div\", _hoisted_9, [\n            _createVNode(_component_icon_button, {\n              modelValue: showTextSheet.value,\n              \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((showTextSheet).value = $event)),\n              \"fa-icon\": \"book-open\",\n              color: buttonColor.value,\n              \"tooltip-text\": showTextSheet.value ? 'Hide Info' : 'Learn More',\n              \"tooltip-location\": \"start\"\n            }, null, 8, [\"modelValue\", \"color\", \"tooltip-text\"]),\n            _createVNode(_component_icon_button, {\n              modelValue: showVideoSheet.value,\n              \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((showVideoSheet).value = $event)),\n              \"fa-icon\": \"video\",\n              color: buttonColor.value,\n              \"tooltip-text\": \"Watch video\",\n              \"tooltip-location\": \"start\"\n            }, null, 8, [\"modelValue\", \"color\"])\n          ]),\n          _createElementVNode(\"div\", _hoisted_10, [\n            _createVNode(_component_icon_button, {\n              modelValue: showLocationSelector.value,\n              \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event: any) => ((showLocationSelector).value = $event)),\n              \"fa-icon\": \"location-dot\",\n              color: buttonColor.value,\n              \"tooltip-text\": \"Select Location\",\n              \"tooltip-location\": \"start\"\n            }, null, 8, [\"modelValue\", \"color\"]),\n            _createVNode(_component_v_dialog, {\n              modelValue: showLocationSelector.value,\n              \"onUpdate:modelValue\": _cache[11] || (_cache[11] = ($event: any) => ((showLocationSelector).value = $event)),\n              \"max-width\": \"fit-content\",\n              transition: \"slide-y-transition\"\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_v_card, null, {\n                  default: _withCtx(() => [\n                    _createElementVNode(\"div\", _hoisted_11, [\n                      _createVNode(_component_font_awesome_icon, {\n                        style: {\"cursor\":\"pointer\",\"z-index\":\"1000\"},\n                        icon: \"xmark\",\n                        size: \"xl\",\n                        onClick: _cache[7] || (_cache[7] = ($event: any) => (showLocationSelector.value = false)),\n                        onKeyup: _cache[8] || (_cache[8] = _withKeys(($event: any) => (showLocationSelector.value = false), [\"enter\"])),\n                        tabindex: \"0\",\n                        color: \"black\"\n                      })\n                    ]),\n                    _createElementVNode(\"div\", _hoisted_12, [\n                      _createVNode(_component_geolocation_button, {\n                        id: \"location\",\n                        size: \"30px\",\n                        density: \"default\",\n                        elevation: \"5\",\n                        color: accentColor.value,\n                        onGeolocation: _cache[9] || (_cache[9] = ($event: any) => (selectedLocation.value = {longitudeDeg: $event.longitude, latitudeDeg: $event.latitude}))\n                      }, null, 8, [\"color\"]),\n                      _createVNode(_component_location_search, {\n                        class: _normalizeClass(['location-search']),\n                        small: \"\",\n                        \"button-size\": \"xl\",\n                        \"accent-color\": accentColor.value,\n                        \"search-provider\": searchProvider,\n                        onSetLocation: setLocationFromSearchFeature,\n                        onError: _cache[10] || (_cache[10] = ($event: any) => (searchErrorMessage.value = $event))\n                      }, null, 8, [\"accent-color\"])\n                    ]),\n                    _createVNode(_component_location_selector, {\n                      \"model-value\": selectedLocation.value,\n                      \"onUpdate:modelValue\": updateLocationFromMap\n                    }, null, 8, [\"model-value\"])\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            }, 8, [\"modelValue\"]),\n            _createElementVNode(\"span\", {\n              tabindex: \"0\",\n              id: \"my-location-label\",\n              class: \"elevation-1\",\n              onClick: _cache[12] || (_cache[12] = ($event: any) => (showLocationSelector.value=true)),\n              onKeyup: _cache[13] || (_cache[13] = _withKeys(($event: any) => (showLocationSelector.value=true), [\"enter\"]))\n            }, _toDisplayString(xSmallSize.value ? 'Location' : 'Current location') + \": \" + _toDisplayString(selectedLocationText.value != '' ? selectedLocationText.value : 'Cambridge, MA (default)'), 33)\n          ]),\n          _createElementVNode(\"div\", _hoisted_13, [\n            _createElementVNode(\"div\", _hoisted_14, [\n              _createElementVNode(\"div\", _hoisted_15, [\n                _createVNode(_component_font_awesome_icon, {\n                  size: \"lg\",\n                  class: \"tab-focusable\",\n                  color: accentColor.value,\n                  icon: showControls.value ? `chevron-down` : `gear`,\n                  onClick: _cache[14] || (_cache[14] = ($event: any) => (showControls.value = !showControls.value)),\n                  onKeyup: _cache[15] || (_cache[15] = _withKeys(($event: any) => (showControls.value = !showControls.value), [\"enter\"])),\n                  tabindex: \"0\"\n                }, null, 8, [\"color\", \"icon\"])\n              ]),\n              (showControls.value)\n                ? (_openBlock(), _createElementBlock(\"div\", _hoisted_16, [\n                    _createVNode(_component_v_checkbox, {\n                      color: accentColor.value,\n                      modelValue: showEcliptic.value,\n                      \"onUpdate:modelValue\": _cache[16] || (_cache[16] = ($event: any) => ((showEcliptic).value = $event)),\n                      onKeyup: _cache[17] || (_cache[17] = _withKeys(($event: any) => (showEcliptic.value = !showEcliptic.value), [\"enter\"])),\n                      label: \"Ecliptic\",\n                      \"hide-details\": \"\"\n                    }, null, 8, [\"color\", \"modelValue\"]),\n                    _createVNode(_component_v_checkbox, {\n                      color: accentColor.value,\n                      modelValue: showAltAzGrid.value,\n                      \"onUpdate:modelValue\": _cache[18] || (_cache[18] = ($event: any) => ((showAltAzGrid).value = $event)),\n                      onKeyup: _cache[19] || (_cache[19] = _withKeys(($event: any) => (showAltAzGrid.value = !showAltAzGrid.value), [\"enter\"])),\n                      label: \"Sky Grid\",\n                      \"hide-details\": \"\"\n                    }, null, 8, [\"color\", \"modelValue\"]),\n                    _createVNode(_component_v_checkbox, {\n                      color: accentColor.value,\n                      modelValue: showHorizon.value,\n                      \"onUpdate:modelValue\": _cache[20] || (_cache[20] = ($event: any) => ((showHorizon).value = $event)),\n                      onKeyup: _cache[21] || (_cache[21] = _withKeys(($event: any) => (showHorizon.value = !showHorizon.value), [\"enter\"])),\n                      label: \"Horizon/Sky\",\n                      \"hide-details\": \"\"\n                    }, null, 8, [\"color\", \"modelValue\"]),\n                    _createVNode(_component_v_checkbox, {\n                      color: accentColor.value,\n                      modelValue: showPlanetLabels.value,\n                      \"onUpdate:modelValue\": _cache[22] || (_cache[22] = ($event: any) => ((showPlanetLabels).value = $event)),\n                      onKeyup: _cache[23] || (_cache[23] = _withKeys(($event: any) => (showPlanetLabels.value = !showPlanetLabels.value), [\"enter\"])),\n                      label: \"Planet Labels\",\n                      \"hide-details\": \"\"\n                    }, null, 8, [\"color\", \"modelValue\"]),\n                    _createVNode(_component_v_checkbox, {\n                      color: accentColor.value,\n                      modelValue: showConstellations.value,\n                      \"onUpdate:modelValue\": _cache[24] || (_cache[24] = ($event: any) => ((showConstellations).value = $event)),\n                      onKeyup: _cache[25] || (_cache[25] = _withKeys(($event: any) => (showConstellations.value = !showConstellations.value), [\"enter\"])),\n                      label: \"Constellations\",\n                      \"hide-details\": \"\"\n                    }, null, 8, [\"color\", \"modelValue\"])\n                  ]))\n                : _createCommentVNode(\"\", true)\n            ]),\n            _createElementVNode(\"div\", _hoisted_17, [\n              _createElementVNode(\"div\", _hoisted_18, [\n                _cache[68] || (_cache[68] = _createElementVNode(\"div\", { class: \"planet-visibility-title\" }, \"Above Horizon\", -1)),\n                _createVNode(_component_font_awesome_icon, {\n                  size: \"lg\",\n                  class: \"tab-focusable\",\n                  color: accentColor.value,\n                  icon: showPlanetVisiblity.value ? `chevron-down` : `chevron-up`,\n                  onClick: _cache[26] || (_cache[26] = ($event: any) => (showPlanetVisiblity.value = !showPlanetVisiblity.value)),\n                  onKeyup: _cache[27] || (_cache[27] = _withKeys(($event: any) => (showPlanetVisiblity.value = !showPlanetVisiblity.value), [\"enter\"])),\n                  tabindex: \"0\"\n                }, null, 8, [\"color\", \"icon\"])\n              ]),\n              (showPlanetVisiblity.value)\n                ? (_openBlock(), _createElementBlock(\"div\", _hoisted_19, [\n                    _createElementVNode(\"p\", {\n                      class: _normalizeClass(['planet-label','sun', sunVis.value ? '' : 'not-visible' ])\n                    }, [\n                      _createVNode(_component_v_icon, null, {\n                        default: _withCtx(() => _cache[69] || (_cache[69] = [\n                          _createTextVNode(\"mdi-weather-sunny\")\n                        ])),\n                        _: 1\n                      }),\n                      _cache[70] || (_cache[70] = _createTextVNode(\" Sun\"))\n                    ], 2),\n                    _createElementVNode(\"p\", {\n                      class: _normalizeClass(['planet-label', mercuryVis.value ? '' : 'not-visible' ])\n                    }, [\n                      _createVNode(_component_v_icon, null, {\n                        default: _withCtx(() => _cache[71] || (_cache[71] = [\n                          _createTextVNode(\"mdi-eye-outline\")\n                        ])),\n                        _: 1\n                      }),\n                      _cache[72] || (_cache[72] = _createTextVNode(\" Mercury\"))\n                    ], 2),\n                    _createElementVNode(\"p\", {\n                      class: _normalizeClass(['planet-label', venusVis.value   ? '' : 'not-visible' ])\n                    }, [\n                      _createVNode(_component_v_icon, null, {\n                        default: _withCtx(() => _cache[73] || (_cache[73] = [\n                          _createTextVNode(\"mdi-eye-outline\")\n                        ])),\n                        _: 1\n                      }),\n                      _cache[74] || (_cache[74] = _createTextVNode(\" Venus\"))\n                    ], 2),\n                    _createElementVNode(\"p\", {\n                      class: _normalizeClass(['planet-label', marsVis.value    ? '' : 'not-visible' ])\n                    }, [\n                      _createVNode(_component_v_icon, null, {\n                        default: _withCtx(() => _cache[75] || (_cache[75] = [\n                          _createTextVNode(\"mdi-eye-outline\")\n                        ])),\n                        _: 1\n                      }),\n                      _cache[76] || (_cache[76] = _createTextVNode(\" Mars\"))\n                    ], 2),\n                    _createElementVNode(\"p\", {\n                      class: _normalizeClass(['planet-label', jupiterVis.value ? '' : 'not-visible' ])\n                    }, [\n                      _createVNode(_component_v_icon, null, {\n                        default: _withCtx(() => _cache[77] || (_cache[77] = [\n                          _createTextVNode(\"mdi-eye-outline\")\n                        ])),\n                        _: 1\n                      }),\n                      _cache[78] || (_cache[78] = _createTextVNode(\" Jupiter\"))\n                    ], 2),\n                    _createElementVNode(\"p\", {\n                      class: _normalizeClass(['planet-label', saturnVis.value  ? '' : 'not-visible' ])\n                    }, [\n                      _createVNode(_component_v_icon, null, {\n                        default: _withCtx(() => _cache[79] || (_cache[79] = [\n                          _createTextVNode(\"mdi-eye-outline\")\n                        ])),\n                        _: 1\n                      }),\n                      _cache[80] || (_cache[80] = _createTextVNode(\" Saturn\"))\n                    ], 2),\n                    _createElementVNode(\"p\", {\n                      class: _normalizeClass(['planet-label', uranusVis.value  ? '' : 'not-visible' ])\n                    }, [\n                      _createVNode(_component_v_icon, null, {\n                        default: _withCtx(() => _cache[81] || (_cache[81] = [\n                          _createTextVNode(\"mdi-binoculars\")\n                        ])),\n                        _: 1\n                      }),\n                      _cache[82] || (_cache[82] = _createTextVNode(\" Uranus\"))\n                    ], 2),\n                    _createElementVNode(\"p\", {\n                      class: _normalizeClass(['planet-label', neptuneVis.value ? '' : 'not-visible' ])\n                    }, [\n                      _createVNode(_component_v_icon, null, {\n                        default: _withCtx(() => _cache[83] || (_cache[83] = [\n                          _createTextVNode(\"mdi-telescope\")\n                        ])),\n                        _: 1\n                      }),\n                      _cache[84] || (_cache[84] = _createTextVNode(\" Neptune\"))\n                    ], 2)\n                  ]))\n                : _createCommentVNode(\"\", true)\n            ])\n          ])\n        ]),\n        _createElementVNode(\"div\", _hoisted_20, [\n          _createElementVNode(\"div\", _hoisted_21, [\n            _createVNode(_component_v_overlay, {\n              modelValue: datePickerOpen.value,\n              \"onUpdate:modelValue\": _cache[32] || (_cache[32] = ($event: any) => ((datePickerOpen).value = $event)),\n              activator: \"parent\",\n              \"location-strategy\": \"connected\",\n              location: \"top end\",\n              origin: \"bottom end\",\n              scrim: false,\n              style: _normalizeStyle(cssVars.value)\n            }, {\n              activator: _withCtx(({props}) => [\n                _createVNode(_component_v_card, _mergeProps(props, {\n                  class: \"td__card\",\n                  width: \"fit-content\",\n                  rounded: \"lg\",\n                  tabindex: \"0\",\n                  onKeyup: _withKeys(props.onClick, [\"enter\"])\n                }), {\n                  default: _withCtx(() => [\n                    _createVNode(_component_time_display, {\n                      class: \"bsn__time\",\n                      date: localSelectedDate.value,\n                      ampm: \"\",\n                      \"short-time-date\": true,\n                      \"show-timezone\": \"\",\n                      timezone: _unref(shortTimezone)\n                    }, null, 8, [\"date\", \"timezone\"]),\n                    (!(_unref(smAndDown) || mobile.value))\n                      ? (_openBlock(), _createBlock(_component_v_icon, {\n                          key: 0,\n                          class: \"td__icon\"\n                        }, {\n                          default: _withCtx(() => _cache[85] || (_cache[85] = [\n                            _createTextVNode(\"mdi-cursor-default-click\")\n                          ])),\n                          _: 1\n                        }))\n                      : _createCommentVNode(\"\", true)\n                  ]),\n                  _: 2\n                }, 1040, [\"onKeyup\"])\n              ]),\n              default: _withCtx(() => [\n                _createVNode(_component_v_card, {\n                  ref: \"dtpCard\",\n                  tabindex: \"0\",\n                  width: \"fit-content\",\n                  elevation: \"5\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_v_icon, {\n                      tabindex: \"0\",\n                      class: \"dtp-close-button\",\n                      onClick: _cache[28] || (_cache[28] = ($event: any) => (datePickerOpen.value=false)),\n                      onKeyup: _cache[29] || (_cache[29] = _withKeys(($event: any) => (datePickerOpen.value=false), [\"enter\"])),\n                      color: accentColor.value,\n                      size: \"18\"\n                    }, {\n                      default: _withCtx(() => _cache[86] || (_cache[86] = [\n                        _createTextVNode(\"mdi-close\")\n                      ])),\n                      _: 1\n                    }, 8, [\"color\"]),\n                    _createVNode(_component_date_time_picker, {\n                      tabindex: \"0\",\n                      modelValue: localSelectedDate.value,\n                      \"onUpdate:modelValue\": _cache[31] || (_cache[31] = ($event: any) => ((localSelectedDate).value = $event)),\n                      \"editable-time\": true\n                    }, {\n                      default: _withCtx(() => [\n                        _createElementVNode(\"button\", {\n                          class: \"dtp__button\",\n                          onClick: _cache[30] || (_cache[30] = () => {selectedTime.value = Date.now()}),\n                          name: \"set-now\",\n                          \"aria-label\": \"Set time to Now\"\n                        }, \"Now\")\n                      ]),\n                      _: 1\n                    }, 8, [\"modelValue\"])\n                  ]),\n                  _: 1\n                }, 512)\n              ]),\n              _: 1\n            }, 8, [\"modelValue\", \"style\"])\n          ]),\n          _createVNode(_component_speed_control, {\n            playing: playing.value,\n            \"onUpdate:playing\": [\n              _cache[33] || (_cache[33] = ($event: any) => ((playing).value = $event)),\n              _cache[36] || (_cache[36] = (_playing) => {\n          _unref(wwtStats).playPauseCount += 1;\n        })\n            ],\n            store: _unref(store),\n            color: accentColor.value,\n            defaultRate: 1000,\n            useInline: _unref(xs),\n            maxSpeed: 10000,\n            \"show-text\": \"\",\n            onReset: _cache[34] || (_cache[34] = () => {\n          selectedTime.value = Date.now();\n          _unref(wwtStats).timeResetCount += 1;\n        }),\n            \"onUpdate:reverse\": _cache[35] || (_cache[35] = (_reverse) => {\n          _unref(wwtStats).reverseCount += 1;\n        }),\n            onSlowDown: _cache[37] || (_cache[37] = (rate) => {\n          _unref(wwtStats).slowdowns.push(rate);\n        }),\n            onSpeedUp: _cache[38] || (_cache[38] = (rate) => {\n          _unref(wwtStats).speedups.push(rate);\n        }),\n            onSetRate: _cache[39] || (_cache[39] = (rate) => {\n          _unref(wwtStats).rateSelections.push(rate);\n        })\n          }, null, 8, [\"playing\", \"store\", \"color\", \"useInline\"]),\n          _createElementVNode(\"div\", _hoisted_22, [\n            _createVNode(_component_icon_button, {\n              \"md-icon\": \"mdi-information-outline\",\n              onActivate: _cache[40] || (_cache[40] = () => inIntro.value = true),\n              color: accentColor.value,\n              \"focus-color\": accentColor.value,\n              \"tooltip-text\": \"Show Quick Start Guide\",\n              \"tooltip-location\": \"bottom\",\n              \"tooltip-offset\": \"5px\",\n              \"show-tooltip\": !mobile.value,\n              mdSize: \"1.2em\"\n            }, null, 8, [\"color\", \"focus-color\", \"show-tooltip\"]),\n            _createVNode(_component_icon_button, {\n              \"md-icon\": \"mdi-lock\",\n              onActivate: _cache[41] || (_cache[41] = () => showPrivacyDialog.value = true),\n              color: accentColor.value,\n              \"focus-color\": accentColor.value,\n              \"tooltip-text\": \"Change privacy settings\",\n              \"tooltip-location\": \"bottom\",\n              \"tooltip-offset\": \"5px\",\n              \"show-tooltip\": !mobile.value,\n              mdSize: \"1.2em\"\n            }, null, 8, [\"color\", \"focus-color\", \"show-tooltip\"])\n          ]),\n          (!smallSize.value)\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_23, [\n                _createVNode(_component_credit_logos)\n              ]))\n            : _createCommentVNode(\"\", true)\n        ]),\n        _createVNode(_component_v_dialog, {\n          id: \"video-container\",\n          modelValue: showVideoSheet.value,\n          \"onUpdate:modelValue\": _cache[44] || (_cache[44] = ($event: any) => ((showVideoSheet).value = $event)),\n          transition: \"slide-y-transition\",\n          fullscreen: \"\"\n        }, {\n          default: _withCtx(() => [\n            _createElementVNode(\"div\", _hoisted_24, [\n              _createVNode(_component_font_awesome_icon, {\n                id: \"video-close-icon\",\n                class: \"close-icon\",\n                icon: \"times\",\n                size: \"lg\",\n                onClick: _cache[42] || (_cache[42] = ($event: any) => (showVideoSheet.value = false)),\n                onKeyup: _cache[43] || (_cache[43] = _withKeys(($event: any) => (showVideoSheet.value = false), [\"enter\"])),\n                tabindex: \"0\"\n              }),\n              _cache[87] || (_cache[87] = _createElementVNode(\"video\", {\n                controls: \"\",\n                id: \"info-video\"\n              }, [\n                _createElementVNode(\"source\", {\n                  src: \"CosmicDS Planet Parade Overhead View.mp4\",\n                  type: \"video/mp4\"\n                })\n              ], -1))\n            ])\n          ]),\n          _: 1\n        }, 8, [\"modelValue\"]),\n        _createVNode(_component_v_dialog, {\n          scrim: \"false\",\n          modelValue: showPrivacyDialog.value,\n          \"onUpdate:modelValue\": _cache[47] || (_cache[47] = ($event: any) => ((showPrivacyDialog).value = $event)),\n          \"max-width\": \"400px\",\n          id: \"privacy-popup-dialog\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_v_card, null, {\n              default: _withCtx(() => [\n                _createVNode(_component_v_card_text, null, {\n                  default: _withCtx(() => _cache[88] || (_cache[88] = [\n                    _createTextVNode(\" To evaluate usage of this app, \"),\n                    _createElementVNode(\"strong\", null, \"anonymized\", -1),\n                    _createTextVNode(\" data may be collected, including locations searched or selected on map. Places selected via geolocation services on your device are NOT collected. \")\n                  ])),\n                  _: 1\n                }),\n                _createVNode(_component_v_card_actions, { class: \"pt-3\" }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_v_spacer),\n                    _createVNode(_component_v_btn, {\n                      color: \"#BDBDBD\",\n                      href: \"https://www.cfa.harvard.edu/privacy-statement\",\n                      target: \"_blank\",\n                      rel: \"noopener noreferrer\"\n                    }, {\n                      default: _withCtx(() => _cache[89] || (_cache[89] = [\n                        _createTextVNode(\" Privacy Policy \")\n                      ])),\n                      _: 1\n                    }),\n                    _createVNode(_component_v_btn, {\n                      color: \"#ff6666\",\n                      onClick: _cache[45] || (_cache[45] = () => {\n              responseOptOut.value = true;\n              showPrivacyDialog.value = false;\n            })\n                    }, {\n                      default: _withCtx(() => _cache[90] || (_cache[90] = [\n                        _createTextVNode(\" Opt out \")\n                      ])),\n                      _: 1\n                    }),\n                    _createVNode(_component_v_btn, {\n                      color: \"green\",\n                      onClick: _cache[46] || (_cache[46] = () => {\n              responseOptOut.value = false;\n              showPrivacyDialog.value = false;\n            })\n                    }, {\n                      default: _withCtx(() => _cache[91] || (_cache[91] = [\n                        _createTextVNode(\" Allow \")\n                      ])),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }, 8, [\"modelValue\"]),\n        _createVNode(_component_v_dialog, {\n          style: _normalizeStyle(cssVars.value),\n          class: \"bottom-sheet\",\n          id: \"text-bottom-sheet\",\n          \"hide-overlay\": \"\",\n          persistent: \"\",\n          \"no-click-animation\": \"\",\n          absolute: \"\",\n          width: \"100%\",\n          scrim: false,\n          location: \"bottom\",\n          modelValue: showTextSheet.value,\n          \"onUpdate:modelValue\": _cache[52] || (_cache[52] = ($event: any) => ((showTextSheet).value = $event)),\n          transition: \"dialog-bottom-transition\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_v_card, { height: \"100%\" }, {\n              default: _withCtx(() => [\n                _createVNode(_component_v_tabs, {\n                  modelValue: tab.value,\n                  \"onUpdate:modelValue\": _cache[48] || (_cache[48] = ($event: any) => ((tab).value = $event)),\n                  height: \"32px\",\n                  color: accentColor.value,\n                  \"slider-color\": accentColor.value,\n                  id: \"tabs\",\n                  dense: \"\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_v_tab, {\n                      class: \"info-tabs\",\n                      tabindex: \"0\"\n                    }, {\n                      default: _withCtx(() => _cache[92] || (_cache[92] = [\n                        _createElementVNode(\"h3\", null, \"Information\", -1)\n                      ])),\n                      _: 1\n                    }),\n                    _createVNode(_component_v_tab, {\n                      class: \"info-tabs\",\n                      tabindex: \"0\"\n                    }, {\n                      default: _withCtx(() => _cache[93] || (_cache[93] = [\n                        _createElementVNode(\"h3\", null, \"Using WWT\", -1)\n                      ])),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                }, 8, [\"modelValue\", \"color\", \"slider-color\"]),\n                _createVNode(_component_font_awesome_icon, {\n                  id: \"close-text-icon\",\n                  class: \"control-icon\",\n                  icon: \"times\",\n                  size: \"lg\",\n                  onClick: _cache[49] || (_cache[49] = ($event: any) => (showTextSheet.value = false)),\n                  onKeyup: _cache[50] || (_cache[50] = _withKeys(($event: any) => (showTextSheet.value = false), [\"enter\"])),\n                  tabindex: \"0\"\n                }),\n                _createVNode(_component_v_window, {\n                  modelValue: tab.value,\n                  \"onUpdate:modelValue\": _cache[51] || (_cache[51] = ($event: any) => ((tab).value = $event)),\n                  id: \"tab-items\",\n                  class: \"pb-2 no-bottom-border-radius\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_v_window_item, null, {\n                      default: _withCtx(() => [\n                        _createVNode(_component_v_card, { class: \"no-bottom-border-radius scrollable\" }, {\n                          default: _withCtx(() => [\n                            _createVNode(_component_v_card_text, { class: \"info-text no-bottom-border-radius\" }, {\n                              default: _withCtx(() => [\n                                _cache[101] || (_cache[101] = _createElementVNode(\"h3\", null, \"What is the planet parade?\", -1)),\n                                _cache[102] || (_cache[102] = _createElementVNode(\"p\", null, \" During February 2025, seven planetsMercury, Saturn, Neptune, Venus, Uranus, Jupiter, and Marswill be visible in the night sky all at once! \", -1)),\n                                _cache[103] || (_cache[103] = _createElementVNode(\"p\", null, \" Which planets will be visible to your eye depends on how dark your night sky is. For most of the month, from a reasonably dark, clear sky, you should be able to see four of the seven planets (Saturn, Venus, Jupiter, and Mars) by eye. Uranus and Neptune will also be up, but you will likely need binoculars or a small telescope to see them. \", -1)),\n                                _cache[104] || (_cache[104] = _createElementVNode(\"p\", null, \" At the end of February, Mercury, which is usually difficult to spot, will move far enough away from the Sun to also become visible. \", -1)),\n                                _cache[105] || (_cache[105] = _createElementVNode(\"h3\", null, \"Cool! How do I see the planet parade?\", -1)),\n                                _cache[106] || (_cache[106] = _createElementVNode(\"p\", null, \" The best time to see the planet parade will be shortly after it gets dark, maybe 20-30 minutes after sunset. In the Northern Hemisphere, you'll want a clear view towards the southern half of the sky, from west to east. \", -1)),\n                                _cache[107] || (_cache[107] = _createElementVNode(\"p\", null, \" You can use this resource to simulate the planet parade where you are. \", -1)),\n                                _createElementVNode(\"ul\", null, [\n                                  _createElementVNode(\"li\", null, [\n                                    _cache[94] || (_cache[94] = _createTextVNode(\"Click \")),\n                                    _createVNode(_component_font_awesome_icon, {\n                                      class: \"bullet-icon\",\n                                      icon: \"location-dot\"\n                                    }),\n                                    _cache[95] || (_cache[95] = _createTextVNode(\" in the top-center of the view and choose your location. (The default location is Cambridge, MA.)\"))\n                                  ]),\n                                  _cache[96] || (_cache[96] = _createElementVNode(\"li\", null, \"The display defaults to the current day just before sunset. Use the time controls to advance time until just after sunset.\", -1)),\n                                  _cache[97] || (_cache[97] = _createElementVNode(\"li\", null, [\n                                    _createTextVNode(\" If \"),\n                                    _createElementVNode(\"span\", { style: {\"color\":\"var(--accent-color)\"} }, \"Horizon/Sky\"),\n                                    _createTextVNode(\" is checked, you can see the Sun rise above the horizon in the morning and set in the evening. The sky will lighten and darken with the Sun's changing position. \")\n                                  ], -1)),\n                                  _cache[98] || (_cache[98] = _createElementVNode(\"li\", null, [\n                                    _createTextVNode(\" Display the cardinal directions in the view to help orient yourself by checking \"),\n                                    _createElementVNode(\"span\", { style: {\"color\":\"var(--accent-color)\"} }, \"Sky Grid\"),\n                                    _createTextVNode(\". \")\n                                  ], -1))\n                                ]),\n                                _cache[108] || (_cache[108] = _createElementVNode(\"h3\", null, \"How do I find my way around the sky?\", -1)),\n                                _cache[109] || (_cache[109] = _createElementVNode(\"p\", null, \" Here are some tips for finding the planets in the sky from the Northern Hemisphere. \", -1)),\n                                _cache[110] || (_cache[110] = _createElementVNode(\"ul\", null, [\n                                  _createElementVNode(\"li\", null, \" Venus is the brightest planet and should be easiest to spot above the western horizon. \"),\n                                  _createElementVNode(\"li\", null, \" Once you've found Venus, look down toward the horizon to find Saturn. \"),\n                                  _createElementVNode(\"li\", null, \" Imagine a line between Saturn and Venus that points along a big arc towards Jupiter (which is above and to the right of Orion). \"),\n                                  _createElementVNode(\"li\", null, \" Keep following that path to a bright, red object, which is Mars. \"),\n                                  _createElementVNode(\"li\", null, \" Mercury's position will change throughout the month, but it will be near the horizon, close to Venus and Saturn. \")\n                                ], -1)),\n                                _cache[111] || (_cache[111] = _createElementVNode(\"h3\", null, \"What is the significance of the planet parade?\", -1)),\n                                _cache[112] || (_cache[112] = _createElementVNode(\"p\", null, \" The planet parade happens when all the planets happen to be on the same side of their orbits around the Sun as Earth, so they all are on Earth's night-time side. (When a planet is on the opposite side of the Sun during Earth, that means it is up in the sky during the day when the Sun outshines it.) \", -1)),\n                                _cache[113] || (_cache[113] = _createElementVNode(\"p\", null, [\n                                  _createElementVNode(\"strong\", null, \"The planets are not really all in a line.\"),\n                                  _createTextVNode(\" It only appears that way from Earth because Earth and the other planets all orbit the Sun in roughly the same plane (as if they were on a vinyl record). From Earth's point of view, all the other solar system objects appear to move along a circular path around the sky, which ancient astronomers called the \\\"ecliptic.\\\" The \"),\n                                  _createElementVNode(\"span\", { style: {\"color\":\"var(--accent-color)\"} }, \"Ecliptic\"),\n                                  _createTextVNode(\" is displayed as a purple or magenta path in the virtual sky. \")\n                                ], -1)),\n                                _createElementVNode(\"p\", null, [\n                                  _cache[99] || (_cache[99] = _createTextVNode(\" Click \")),\n                                  _createVNode(_component_font_awesome_icon, {\n                                    class: \"bullet-icon\",\n                                    icon: \"video\",\n                                    style: {\"color\":\"#f4ba3e\"}\n                                  }),\n                                  _cache[100] || (_cache[100] = _createTextVNode(\" in the upper left to watch a (silent) video showing an overhead view of the planets and how their positions lead to the planet parade. \"))\n                                ]),\n                                _cache[114] || (_cache[114] = _createElementVNode(\"h3\", null, \"What else can I do to learn more?\", -1)),\n                                _cache[115] || (_cache[115] = _createElementVNode(\"p\", null, [\n                                  _createTextVNode(\" Take your own images of the planets using \"),\n                                  _createElementVNode(\"strong\", null, [\n                                    _createElementVNode(\"a\", {\n                                      href: \"https://mo-www.cfa.harvard.edu/OWN/todays_solar_system.html#SS\",\n                                      target: \"_blank\",\n                                      rel: \"noopener noreferrer\"\n                                    }, \"MicroObservatory's Observing With NASA\")\n                                  ]),\n                                  _createTextVNode(\" program! \")\n                                ], -1)),\n                                _cache[116] || (_cache[116] = _createElementVNode(\"h3\", null, \"Will the planets be this big in my sky?\", -1)),\n                                _cache[117] || (_cache[117] = _createElementVNode(\"p\", null, \" Unfortunately, no. In this visualization, we scaled up the size of the solar system objects so you would be able to see them when zoomed out to a large swath of sky. In reality, the planets will appear in the sky as points of light (or very small disks through binoculars or a telescope). \", -1)),\n                                _createVNode(_component_v_spacer, { class: \"end-spacer\" })\n                              ]),\n                              _: 1\n                            })\n                          ]),\n                          _: 1\n                        })\n                      ]),\n                      _: 1\n                    }),\n                    _createVNode(_component_v_window_item, null, {\n                      default: _withCtx(() => [\n                        _createVNode(_component_v_card, { class: \"no-bottom-border-radius scrollable\" }, {\n                          default: _withCtx(() => [\n                            _createVNode(_component_v_card_text, { class: \"info-text no-bottom-border-radius\" }, {\n                              default: _withCtx(() => [\n                                _createVNode(_component_v_container, null, {\n                                  default: _withCtx(() => [\n                                    _createVNode(_component_v_row, { align: \"center\" }, {\n                                      default: _withCtx(() => [\n                                        _createVNode(_component_v_col, { cols: \"4\" }, {\n                                          default: _withCtx(() => [\n                                            _createVNode(_component_v_chip, {\n                                              label: \"\",\n                                              outlined: \"\"\n                                            }, {\n                                              default: _withCtx(() => _cache[118] || (_cache[118] = [\n                                                _createTextVNode(\" Pan \")\n                                              ])),\n                                              _: 1\n                                            })\n                                          ]),\n                                          _: 1\n                                        }),\n                                        _createVNode(_component_v_col, {\n                                          cols: \"8\",\n                                          class: \"pt-1\"\n                                        }, {\n                                          default: _withCtx(() => [\n                                            _createElementVNode(\"strong\", null, _toDisplayString(_unref(touchscreen) ? \"press + drag\" : \"click + drag\"), 1),\n                                            _createTextVNode(\" \" + _toDisplayString(_unref(touchscreen) ? \":\" : \"or\") + \" \", 1),\n                                            _createElementVNode(\"strong\", null, _toDisplayString(_unref(touchscreen) ? \":\" : \"W-A-S-D\"), 1),\n                                            _createTextVNode(\" \" + _toDisplayString(_unref(touchscreen) ? \":\" : \"keys\"), 1),\n                                            _cache[119] || (_cache[119] = _createElementVNode(\"br\", null, null, -1))\n                                          ]),\n                                          _: 1\n                                        })\n                                      ]),\n                                      _: 1\n                                    }),\n                                    _createVNode(_component_v_row, { align: \"center\" }, {\n                                      default: _withCtx(() => [\n                                        _createVNode(_component_v_col, { cols: \"4\" }, {\n                                          default: _withCtx(() => [\n                                            _createVNode(_component_v_chip, {\n                                              label: \"\",\n                                              outlined: \"\"\n                                            }, {\n                                              default: _withCtx(() => _cache[120] || (_cache[120] = [\n                                                _createTextVNode(\" Zoom \")\n                                              ])),\n                                              _: 1\n                                            })\n                                          ]),\n                                          _: 1\n                                        }),\n                                        _createVNode(_component_v_col, {\n                                          cols: \"8\",\n                                          class: \"pt-1\"\n                                        }, {\n                                          default: _withCtx(() => [\n                                            _createElementVNode(\"strong\", null, _toDisplayString(_unref(touchscreen) ? \"pinch in and out\" : \"scroll in and out\"), 1),\n                                            _createTextVNode(\" \" + _toDisplayString(_unref(touchscreen) ? \":\" : \"or\") + \" \", 1),\n                                            _createElementVNode(\"strong\", null, _toDisplayString(_unref(touchscreen) ? \":\" : \"I-O\"), 1),\n                                            _createTextVNode(\" \" + _toDisplayString(_unref(touchscreen) ? \":\" : \"keys\"), 1),\n                                            _cache[121] || (_cache[121] = _createElementVNode(\"br\", null, null, -1))\n                                          ]),\n                                          _: 1\n                                        })\n                                      ]),\n                                      _: 1\n                                    }),\n                                    _createVNode(_component_v_row, null, {\n                                      default: _withCtx(() => [\n                                        _createVNode(_component_v_col, { cols: \"12\" }, {\n                                          default: _withCtx(() => [\n                                            _cache[122] || (_cache[122] = _createElementVNode(\"div\", { class: \"credits\" }, [\n                                              _createElementVNode(\"h3\", null, \"Credits:\"),\n                                              _createElementVNode(\"h4\", null, [\n                                                _createElementVNode(\"a\", {\n                                                  href: \"https://www.cosmicds.cfa.harvard.edu/\",\n                                                  target: \"_blank\",\n                                                  rel: \"noopener noreferrer\"\n                                                }, \"CosmicDS\"),\n                                                _createTextVNode(\" Vue Data Stories Team:\")\n                                              ]),\n                                              _createTextVNode(\" Jon Carifio\"),\n                                              _createElementVNode(\"br\"),\n                                              _createTextVNode(\" Pat Udomprasert\"),\n                                              _createElementVNode(\"br\"),\n                                              _createTextVNode(\" John Lewis\"),\n                                              _createElementVNode(\"br\"),\n                                              _createTextVNode(\" Alyssa Goodman\"),\n                                              _createElementVNode(\"br\"),\n                                              _createTextVNode(\" Mary Dussault\"),\n                                              _createElementVNode(\"br\"),\n                                              _createTextVNode(\" Harry Houghton\"),\n                                              _createElementVNode(\"br\"),\n                                              _createTextVNode(\" Evaluator: Sue Sunbury\"),\n                                              _createElementVNode(\"br\"),\n                                              _createElementVNode(\"br\"),\n                                              _createElementVNode(\"h4\", null, \"WorldWide Telescope Team:\"),\n                                              _createTextVNode(\" Peter Williams\"),\n                                              _createElementVNode(\"br\"),\n                                              _createTextVNode(\" A. David Weigel\"),\n                                              _createElementVNode(\"br\"),\n                                              _createTextVNode(\" Jon Carifio\"),\n                                              _createElementVNode(\"br\")\n                                            ], -1)),\n                                            _createVNode(_component_v_spacer, { class: \"end-spacer\" })\n                                          ]),\n                                          _: 1\n                                        })\n                                      ]),\n                                      _: 1\n                                    }),\n                                    _createVNode(_component_v_row, null, {\n                                      default: _withCtx(() => [\n                                        _createVNode(_component_v_col, null, {\n                                          default: _withCtx(() => [\n                                            _createVNode(_component_funding_acknowledgement)\n                                          ]),\n                                          _: 1\n                                        })\n                                      ]),\n                                      _: 1\n                                    })\n                                  ]),\n                                  _: 1\n                                })\n                              ]),\n                              _: 1\n                            })\n                          ]),\n                          _: 1\n                        })\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                }, 8, [\"modelValue\"])\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }, 8, [\"style\", \"modelValue\"])\n      ])\n    ]),\n    _: 1\n  }, 8, [\"style\"]))\n}\n}\n\n})","<template>\n<v-app\n  id=\"app\"\n  :style=\"cssVars\"\n>\n  <div\n    id=\"main-content\"\n  >\n    <WorldWideTelescope\n      :wwt-namespace=\"wwtNamespace\"\n    ></WorldWideTelescope>\n\n\n    <!-- This contains the splash screen content -->\n\n    <splash-screen \n      title=\"Planetary Parade\" \n      :cssVars=\"cssVars\" \n      @close=\"closeSplashScreen\"\n      />\n    <v-dialog\n      v-model=\"inIntro\"\n    >\n      <div v-if=\"inIntro\" id=\"introduction-overlay\">\n        <v-card class=\"info-card elevation-5\">\n\n          <div id=\"intro-window-close-button\">\n            <font-awesome-icon\n              size=\"xl\"\n              class=\"ma-1\"\n              :color=\"accentColor\"\n              icon='xmark'\n              @click=\"inIntro = !inIntro\"\n              @keyup.enter=\"inIntro = !inIntro\"\n              tabindex=\"0\"\n              tooltip-location=\"start\"\n            /> \n          </div>\n\n\n          <div class=\"intro-text\">\n            <h3 style=\"color: #f4ba3e\" class=\"mb-2\">Quick Start</h3>\n            <ol>\n              <li>Set desired location using <font-awesome-icon class=\"bullet-icon\" icon=\"location-dot\" style=\"color: #f4ba3e\" /> <strong><span style=\"color: #f4ba3e\">(top-center)</span></strong>.</li>\n              <li>Click box that displays date/time \n                <strong>\n                <span v-show=\"!xs\" style=\"color: #f4ba3e\">(bottom-left)</span>\n                <span v-show=\"xs\" style=\"color: #f4ba3e\">(bottom-center)</span>\n              </strong>\n              to update, or press <font-awesome-icon class=\"bullet-icon\" icon=\"play\" style=\"color: #f4ba3e\" /> to advance time.</li>\n              <li>Go outdoors and find the planet parade!</li>\n              <li>Learn more using <font-awesome-icon class=\"bullet-icon\" icon=\"book-open\" style=\"color: #f4ba3e\" /> and <font-awesome-icon class=\"bullet-icon\" icon=\"video\" style=\"color: #f4ba3e\" /> <strong><span style=\"color: #f4ba3e\">(upper-left)</span></strong>.   </li>\n            </ol>\n          </div>\n\n          <v-checkbox\n            v-model=\"skipIntroChecked\"\n            label=\"Do not display Intro Content again\"\n            density=\"default\"\n            hide-details\n          >\n          </v-checkbox>\n        </v-card>\n      </div>\n\n    </v-dialog>\n\n    <transition name=\"fade\">\n      <div\n        class=\"modal\"\n        id=\"modal-loading\"\n        v-show=\"isLoading\"\n      >\n        <div class=\"container\">\n          <div class=\"spinner\"></div>\n          <p>Loading </p>\n        </div>\n      </div>\n    </transition>\n\n\n    <!-- This block contains the elements (e.g. icon buttons displayed at/near the top of the screen -->\n\n    <div id=\"top-content\">\n      <div id=\"left-buttons\">\n        <icon-button\n          v-model=\"showTextSheet\"\n          fa-icon=\"book-open\"\n          :color=\"buttonColor\"\n          :tooltip-text=\"showTextSheet ? 'Hide Info' : 'Learn More'\"\n          tooltip-location=\"start\"\n        >\n        </icon-button>\n        <icon-button\n          v-model=\"showVideoSheet\"\n          fa-icon=\"video\"\n          :color=\"buttonColor\"\n          tooltip-text=\"Watch video\"\n          tooltip-location=\"start\"\n        >\n        </icon-button>\n      </div>\n      <div id=\"center-buttons\">\n        <icon-button\n          v-model=\"showLocationSelector\"\n          fa-icon=\"location-dot\"\n          :color=\"buttonColor\"\n          tooltip-text=\"Select Location\"\n          tooltip-location=\"start\"\n        ></icon-button>\n        <v-dialog\n          v-model=\"showLocationSelector\"\n          max-width=\"fit-content\"\n          transition=\"slide-y-transition\"\n        >\n          <v-card>\n            <div id=\"geolocation-close\">\n              <font-awesome-icon\n                style=\"cursor: pointer; z-index: 1000;\"\n                icon=\"xmark\"\n                size=\"xl\"\n                @click=\"showLocationSelector = false\"\n                @keyup.enter=\"showLocationSelector = false\"\n                tabindex=\"0\"\n                color=\"black\"\n              ></font-awesome-icon>\n            </div>\n            <div id=\"geolocation-controls\">\n              <geolocation-button\n                id=\"location\"\n                size=\"30px\"\n                density=\"default\"\n                elevation=\"5\"\n                :color=\"accentColor\"\n                @geolocation=\"selectedLocation = {longitudeDeg: $event.longitude, latitudeDeg: $event.latitude}\"\n              />\n              <location-search\n                :class=\"['location-search']\"\n                small\n                button-size=\"xl\"\n                :accent-color=\"accentColor\"\n                :search-provider=\"searchProvider\"\n                @set-location=\"setLocationFromSearchFeature\"\n                @error=\"searchErrorMessage = $event\"\n              >\n              </location-search>\n            </div>\n            <location-selector\n              :model-value=\"selectedLocation\"\n              @update:modelValue=\"updateLocationFromMap\"\n            />\n\n          </v-card>\n        </v-dialog>\n        <span tabindex=\"0\" id=\"my-location-label\" class=\"elevation-1\" @click=\"showLocationSelector=true\" @keyup.enter=\"showLocationSelector=true\">{{ xSmallSize ? 'Location' : 'Current location'}}: {{ selectedLocationText != '' ? selectedLocationText : 'Cambridge, MA (default)' }}</span>\n      </div>\n      <div id=\"right-buttons\">\n        <div id=\"controls\" class=\"collapsable-control control-icon-wrapper\">\n          <div class=\"controls-top-row\">\n            <font-awesome-icon\n              size=\"lg\"\n              class=\"tab-focusable\"\n              :color=\"accentColor\"\n              :icon=\"showControls ? `chevron-down` : `gear`\"\n              @click=\"showControls = !showControls\" \n              @keyup.enter=\"showControls = !showControls\"\n              tabindex=\"0\" />\n          </div>\n        \n          <div v-if=\"showControls\" id=\"control-checkboxes\">\n            <v-checkbox :color=\"accentColor\" v-model=\"showEcliptic\" @keyup.enter=\"showEcliptic = !showEcliptic\"\n            label=\"Ecliptic\" hide-details />\n            <v-checkbox :color=\"accentColor\" v-model=\"showAltAzGrid\" @keyup.enter=\"showAltAzGrid = !showAltAzGrid\"\n              label=\"Sky Grid\" hide-details />\n            <v-checkbox :color=\"accentColor\" v-model=\"showHorizon\" @keyup.enter=\"showHorizon = !showHorizon\"\n              label=\"Horizon/Sky\" hide-details />\n              <v-checkbox :color=\"accentColor\" v-model=\"showPlanetLabels\" @keyup.enter=\"showPlanetLabels = !showPlanetLabels\"\n              label=\"Planet Labels\" hide-details />\n              <v-checkbox :color=\"accentColor\" v-model=\"showConstellations\" @keyup.enter=\"showConstellations = !showConstellations\"\n              label=\"Constellations\" hide-details />\n\n          </div>\n        </div>\n        \n        <div id=\"planet-visibility-box\" class=\"collapsable-control control-icon-wrapper\">\n          <div class=\"controls-top-row planet-visibility\">\n            <div class=\"planet-visibility-title\">Above Horizon</div>\n            <font-awesome-icon\n              size=\"lg\"\n              class=\"tab-focusable\"\n              :color=\"accentColor\"\n              :icon=\"showPlanetVisiblity ? `chevron-down` : `chevron-up`\"\n              @click=\"showPlanetVisiblity = !showPlanetVisiblity\" \n              @keyup.enter=\"showPlanetVisiblity = !showPlanetVisiblity\"\n              tabindex=\"0\" />\n          </div>\n          <!-- {{ planetIsVisible(SolarSystemObjects.sun, dateTime,  selectedLocation) }} -->\n          <div v-if=\"showPlanetVisiblity\" id=\"planet-visibility-label\">\n            <p :class=\"['planet-label','sun', sunVis ? '' : 'not-visible' ]\"><v-icon>mdi-weather-sunny</v-icon> Sun</p>\n            <p :class=\"['planet-label', mercuryVis ? '' : 'not-visible' ]\"><v-icon>mdi-eye-outline</v-icon> Mercury</p>\n            <p :class=\"['planet-label', venusVis   ? '' : 'not-visible' ]\"><v-icon>mdi-eye-outline</v-icon> Venus</p>\n            <p :class=\"['planet-label', marsVis    ? '' : 'not-visible' ]\"><v-icon>mdi-eye-outline</v-icon> Mars</p>\n            <p :class=\"['planet-label', jupiterVis ? '' : 'not-visible' ]\"><v-icon>mdi-eye-outline</v-icon> Jupiter</p>\n            <p :class=\"['planet-label', saturnVis  ? '' : 'not-visible' ]\"><v-icon>mdi-eye-outline</v-icon> Saturn</p>\n            <p :class=\"['planet-label', uranusVis  ? '' : 'not-visible' ]\"><v-icon>mdi-binoculars</v-icon> Uranus</p>\n            <p :class=\"['planet-label', neptuneVis ? '' : 'not-visible' ]\"><v-icon>mdi-telescope</v-icon> Neptune</p>\n          </div>\n        </div>\n      </div>\n    </div>\n\n\n    <!-- This block contains the elements (e.g. the project icons) displayed along the bottom of the screen -->\n\n    <div id=\"bottom-content\">\n      <div id=\"date-picker\">\n        <v-overlay \n          v-model=\"datePickerOpen\"\n          activator=\"parent\"\n          location-strategy=\"connected\"\n          location=\"top end\"\n          origin=\"bottom end\"\n          :scrim=\"false\"\n          :style=\"cssVars\"\n        >\n        <template #activator=\"{props}\">\n          <!-- any props added are passed directly to v-card -->\n          <v-card \n            v-bind=\"props\"\n            class=\"td__card\"\n            width=\"fit-content\"\n            rounded=\"lg\"\n            tabindex=\"0\"\n            @keyup.enter=\"props.onClick\"\n            >\n            <time-display class=\"bsn__time\" :date=\"localSelectedDate\" ampm :short-time-date=\"true\" show-timezone :timezone=\"shortTimezone\" />\n            <v-icon v-if=\"!(smAndDown || mobile)\" class=\"td__icon\"  >mdi-cursor-default-click</v-icon>\n          </v-card>\n        </template>\n          <v-card ref=\"dtpCard\" tabindex=\"0\" width=\"fit-content\" elevation=\"5\">\n            <v-icon tabindex=\"0\" class=\"dtp-close-button\" @click=\"datePickerOpen=false\" @keyup.enter=\"datePickerOpen=false\" :color=\"accentColor\" size=\"18\">mdi-close</v-icon>\n            <date-time-picker tabindex=\"0\" v-model=\"localSelectedDate\" :editable-time=\"true\">\n              <!-- <button class=\"dtp__button\" @click=\"() => {playbackControl.pause(); set9pm(); goToTCrB()}\" name=\"set-9pm\" aria-label=\"Set time to 9pm\">9pm</button>\n              <button class=\"dtp__button\" @click=\"() => {playbackControl.pause(); setMidnight(); goToTCrB()}\" name=\"set-midnight\" aria-label=\"Set time to Midnight\">Midnight</button>-->\n              <button class=\"dtp__button\" @click=\"() => {selectedTime = Date.now()}\" name=\"set-now\" aria-label=\"Set time to Now\">Now</button> \n            </date-time-picker>\n          </v-card>\n        </v-overlay>\n      </div>\n      \n      <!-- eslint-disable-next-line vue/no-v-model-argument -->\n      <speed-control v-model:playing=\"playing\" \n        :store=\"store\"\n        :color=\"accentColor\" \n        :defaultRate=\"1000\"\n        :useInline=\"xs\"\n        :maxSpeed=\"10000\"\n        show-text\n        @reset=\"() => {\n          selectedTime = Date.now();\n          wwtStats.timeResetCount += 1;\n        }\"\n        @update:reverse=\"(_reverse: boolean) => {\n          wwtStats.reverseCount += 1;\n        }\"\n        @update:playing=\"(_playing: boolean) => {\n          wwtStats.playPauseCount += 1;\n        }\"\n        @slow-down=\"(rate: number) => {\n          wwtStats.slowdowns.push(rate);\n        }\"\n        @speed-up=\"(rate: number) => {\n          wwtStats.speedups.push(rate);\n        }\"\n        @set-rate=\"(rate: number) => {\n          wwtStats.rateSelections.push(rate);\n        }\"\n        />\n      <div id=\"change-flags\">\n        <icon-button\n          md-icon=\"mdi-information-outline\"\n          @activate=\"() => inIntro = true\"\n          :color=\"accentColor\"\n          :focus-color=\"accentColor\"\n          tooltip-text=\"Show Quick Start Guide\"\n          tooltip-location=\"bottom\"\n          tooltip-offset=\"5px\"\n          :show-tooltip=\"!mobile\"\n          mdSize=\"1.2em\"\n        >\n        </icon-button>\n        <icon-button\n          md-icon=\"mdi-lock\"\n          @activate=\"() => showPrivacyDialog = true\"\n          :color=\"accentColor\"\n          :focus-color=\"accentColor\"\n          tooltip-text=\"Change privacy settings\"\n          tooltip-location=\"bottom\"\n          tooltip-offset=\"5px\"\n          :show-tooltip=\"!mobile\"\n          mdSize=\"1.2em\"\n        >\n        </icon-button>\n      </div>\n      <div id=\"body-logos\" v-if=\"!smallSize\">\n        <credit-logos/>\n      </div>\n    </div>\n\n\n    <!-- This dialog contains the video that is displayed when the video icon is clicked -->\n\n    <v-dialog\n      id=\"video-container\"\n      v-model=\"showVideoSheet\"\n      transition=\"slide-y-transition\"\n      fullscreen\n    >\n      <div class=\"video-wrapper\">\n        <font-awesome-icon\n          id=\"video-close-icon\"\n          class=\"close-icon\"\n          icon=\"times\"\n          size=\"lg\"\n          @click=\"showVideoSheet = false\"\n          @keyup.enter=\"showVideoSheet = false\"\n          tabindex=\"0\"\n        ></font-awesome-icon>\n        <video\n          controls\n          id=\"info-video\"\n        >\n          <source src=\"CosmicDS Planet Parade Overhead View.mp4\" type=\"video/mp4\">\n        </video>\n      </div>\n    </v-dialog>\n\n    <!-- Data collection opt-out dialog -->\n    <v-dialog\n      scrim=\"false\"\n      v-model=\"showPrivacyDialog\"\n      max-width=\"400px\"\n      id=\"privacy-popup-dialog\"\n    >\n      <v-card>\n        <v-card-text>\n          To evaluate usage of this app, <strong>anonymized</strong> data may be collected, including locations searched or selected on map. Places selected via geolocation services on your device are NOT collected.\n        </v-card-text>\n        <v-card-actions class=\"pt-3\">\n          <v-spacer></v-spacer>\n          <v-btn\n            color=\"#BDBDBD\"\n            href=\"https://www.cfa.harvard.edu/privacy-statement\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n          Privacy Policy\n          </v-btn>\n          <v-btn\n            color=\"#ff6666\"\n            @click=\"() => {\n              responseOptOut = true;\n              showPrivacyDialog = false;\n            }\"\n          >\n          Opt out\n          </v-btn>\n          <v-btn \n            color=\"green\"\n            @click=\"() => {\n              responseOptOut = false;\n              showPrivacyDialog = false;\n            }\"\n          >\n            Allow\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n\n\n    <!-- This dialog contains the informational content that is displayed when the book icon is clicked -->\n\n    <v-dialog\n      :style=\"cssVars\"\n      class=\"bottom-sheet\"\n      id=\"text-bottom-sheet\"\n      hide-overlay\n      persistent\n      no-click-animation\n      absolute\n      width=\"100%\"\n      :scrim=\"false\"\n      location=\"bottom\"\n      v-model=\"showTextSheet\"\n      transition=\"dialog-bottom-transition\"\n    >\n      <v-card height=\"100%\">\n        <v-tabs\n          v-model=\"tab\"\n          height=\"32px\"\n          :color=\"accentColor\"\n          :slider-color=\"accentColor\"\n          id=\"tabs\"\n          dense\n        >\n          <v-tab class=\"info-tabs\" tabindex=\"0\"><h3>Information</h3></v-tab>\n          <v-tab class=\"info-tabs\" tabindex=\"0\"><h3>Using WWT</h3></v-tab>\n        </v-tabs>\n        <font-awesome-icon\n          id=\"close-text-icon\"\n          class=\"control-icon\"\n          icon=\"times\"\n          size=\"lg\"\n          @click=\"showTextSheet = false\"\n          @keyup.enter=\"showTextSheet = false\"\n          tabindex=\"0\"\n        ></font-awesome-icon>\n        <v-window v-model=\"tab\" id=\"tab-items\" class=\"pb-2 no-bottom-border-radius\">\n          <v-window-item>\n            <v-card class=\"no-bottom-border-radius scrollable\">\n              <v-card-text class=\"info-text no-bottom-border-radius\">\n                <h3>What is the planet parade?</h3>\n                <p>\n                  During February 2025, seven planets&#8212;Mercury, Saturn, Neptune, Venus, Uranus, Jupiter, and Mars&#8212;will be visible in the night sky all at once! \n                </p>\n                <p> \n                  Which planets will be visible to your eye depends on how dark your night sky is. For most of the month, from a reasonably dark, clear sky, you should be able to see four of the seven planets (Saturn, Venus, Jupiter, and Mars) by eye. Uranus and Neptune will also be up, but you will likely need binoculars or a small telescope to see them.\n                </p> \n                <p>\n                  At the end of February, Mercury, which is usually difficult to spot, will move far enough away from the Sun to also become visible.\n                </p>\n                <h3>Cool! How do I see the planet parade?</h3>\n                <p>\n                  The best time to see the planet parade will be shortly after it gets dark, maybe 20-30 minutes after sunset. In the Northern Hemisphere, you'll want a clear view towards the southern half of the sky, from west to east. \n                </p>\n                <p>\n                  You can use this resource to simulate the planet parade where you are.\n                </p>\n                <ul>\n                  <li>Click <font-awesome-icon class=\"bullet-icon\" icon=\"location-dot\"/> in the top-center of the view and choose your location. (The default location is Cambridge, MA.)</li>\n                  <li>The display defaults to the current day just before sunset. Use the time controls to advance time until just after sunset.</li>\n                  <li>\n                    If <span style=\"color: var(--accent-color)\">Horizon/Sky</span> is checked, you can see the Sun rise above the horizon in the morning and set in the evening. The sky will lighten and darken with the Sun's changing position. \n                  </li>\n                  <li>\n                    Display the cardinal directions in the view to help orient yourself by checking <span style=\"color: var(--accent-color)\">Sky Grid</span>.\n                  </li>\n                </ul>\n                <h3>How do I find my way around the sky?</h3>\n                <p>\n                  Here are some tips for finding the planets in the sky from the Northern Hemisphere.\n                </p>\n                <ul>\n                  <li>\n                    Venus is the brightest planet and should be easiest to spot above the western horizon.\n                  </li>\n                  <li>\n                    Once you've found Venus, look down toward the horizon to find Saturn.\n                  </li>\n                  <li>\n                     Imagine a line between Saturn and Venus that points along a big arc towards Jupiter (which is above and to the right of Orion).\n                  </li>\n                  <li> \n                    Keep following that path to a bright, red object, which is Mars.\n                  </li>\n                  <li>\n                    Mercury's position will change throughout the month, but it will be near the horizon, close to Venus and Saturn.\n                  </li>\n                </ul> \n                <h3>What is the significance of the planet parade?</h3>\n                <p>\n                  The planet parade happens when all the planets happen to be on the same side of their orbits around the Sun as Earth, so they all are on Earth's night-time side. (When a planet is on the opposite side of the Sun during Earth, that means it is up in the sky during the day when the Sun outshines it.) \n                </p>\n                <p>\n                  <strong>The planets are not really all in a line.</strong> It only appears that way from Earth because Earth and the other planets all orbit the Sun in roughly the same plane (as if they were on a vinyl record). From Earth's point of view, all the other solar system objects appear to move along a circular path around the sky, which ancient astronomers called the \"ecliptic.\" The <span style=\"color: var(--accent-color)\">Ecliptic</span> is displayed as a purple or magenta path in the virtual sky. \n                </p>\n                <p>\n                  Click <font-awesome-icon class=\"bullet-icon\" icon=\"video\" style=\"color: #f4ba3e\" /> in the upper left to watch a (silent) video showing an overhead view of the planets and how their positions lead to the planet parade.\n                </p>\n                <h3>What else can I do to learn more?</h3>\n                <p>\n                  Take your own images of the planets using <strong><a href=\"https://mo-www.cfa.harvard.edu/OWN/todays_solar_system.html#SS\" target=\"_blank\" rel=\"noopener noreferrer\">MicroObservatory's Observing With NASA</a></strong> program!\n                </p>\n                <h3>Will the planets be this big in my sky?</h3>\n                <p>\n                  Unfortunately, no. In this visualization, we scaled up the size of the solar system objects so you would be able to see them when zoomed out to a large swath of sky. In reality, the planets will appear in the sky as points of light (or very small disks through binoculars or a telescope).\n                </p>\n                <v-spacer class=\"end-spacer\"></v-spacer>\n              </v-card-text>\n            </v-card>\n          </v-window-item>\n          <v-window-item>\n            <v-card class=\"no-bottom-border-radius scrollable\">\n              <v-card-text class=\"info-text no-bottom-border-radius\">\n                <v-container>\n                  <v-row align=\"center\">\n                  <v-col cols=\"4\">\n                      <v-chip\n                        label\n                        outlined\n                      >\n                        Pan\n                      </v-chip>\n                    </v-col>\n                    <v-col cols=\"8\" class=\"pt-1\">\n                      <strong>{{ touchscreen ? \"press + drag\" : \"click + drag\" }}</strong>  {{ touchscreen ? \":\" : \"or\" }}  <strong>{{ touchscreen ? \":\" : \"W-A-S-D\" }}</strong> {{ touchscreen ? \":\" : \"keys\" }}<br>\n                    </v-col>\n                  </v-row>\n                  <v-row align=\"center\">\n                    <v-col cols=\"4\">\n                      <v-chip\n                        label\n                        outlined\n                      >\n                        Zoom\n                      </v-chip>\n                    </v-col>\n                    <v-col cols=\"8\" class=\"pt-1\">\n                      <strong>{{ touchscreen ? \"pinch in and out\" : \"scroll in and out\" }}</strong> {{ touchscreen ? \":\" : \"or\" }} <strong>{{ touchscreen ? \":\" : \"I-O\" }}</strong> {{ touchscreen ? \":\" : \"keys\" }}<br>\n                    </v-col>\n                  </v-row>\n                  <v-row>\n                    <v-col cols=\"12\">\n                      <div class=\"credits\">\n                      <h3>Credits:</h3>\n                      <h4><a href=\"https://www.cosmicds.cfa.harvard.edu/\" target=\"_blank\" rel=\"noopener noreferrer\">CosmicDS</a> Vue Data Stories Team:</h4>\n                      Jon Carifio<br>\n                      Pat Udomprasert<br>\n                      John Lewis<br>\n                      Alyssa Goodman<br>\n                      Mary Dussault<br>\n                      Harry Houghton<br>\n                      Evaluator: Sue Sunbury<br>\n                      <br>\n                      <h4>WorldWide Telescope Team:</h4>\n                      Peter Williams<br>\n                      A. David Weigel<br>\n                      Jon Carifio<br>\n                      </div>\n                      <v-spacer class=\"end-spacer\"></v-spacer>\n                    </v-col>\n                  </v-row>\n                  <v-row>\n                    <v-col>\n                      <funding-acknowledgement/>\n                    </v-col>\n                  </v-row>\n                </v-container>              \n              </v-card-text>\n            </v-card>\n          </v-window-item>\n        </v-window>\n      </v-card>\n    </v-dialog>\n\n  </div>\n</v-app>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, reactive, computed, markRaw, onMounted, nextTick, watch } from \"vue\";\nimport { Color, Grids, Planets, Settings, WWTControl, AstroCalc } from \"@wwtelescope/engine\";\nimport { SolarSystemObjects } from \"@wwtelescope/engine-types\";\nimport { engineStore } from \"@wwtelescope/engine-pinia\";\nimport { BackgroundImageset, LocationDeg, skyBackgroundImagesets, supportsTouchscreen, blurActiveElement, useWWTKeyboardControls, API_BASE_URL, D2R } from \"@cosmicds/vue-toolkit\";\nimport { useDisplay } from \"vuetify\";\nimport { v4 } from \"uuid\";\n\nimport { useTimezone } from \"./timezones\";\nimport { horizontalToEquatorial, skyOpacityForSunAlt, getJulian, equatorialToHorizontal } from \"./utils\";\nimport { resetAltAzGridText, makeAltAzGridText, drawPlanets, renderOneFrame, drawEcliptic, drawSkyOverlays } from \"./wwt-hacks\";\nimport { MapBoxFeature, MapBoxFeatureCollection, geocodingInfoForSearch, textForLocation } from \"@cosmicds/vue-toolkit/src/mapbox\";\n// import { useGeolocation } from \"@cosmicds/vue-toolkit\";\nimport { useSun } from './useSun';\n\nconst STORY_DATA_URL = `${API_BASE_URL}/planet-parade/data`;\n\nconst UUID_KEY = \"eclipse-mini-uuid\" as const;\nconst OPT_OUT_KEY = \"eclipse-mini-optout\" as const;\nconst SKIP_INTRO_CONTENT_KEY = \"skip-intro-content\" as const;\nconst maybeUUID = window.localStorage.getItem(UUID_KEY);\nconst storedOptOut = window.localStorage.getItem(OPT_OUT_KEY);\nconst skipIntroContent = window.localStorage.getItem(SKIP_INTRO_CONTENT_KEY)?.toLowerCase() === \"true\";\nconst existingUser = maybeUUID !== null;\nconst uuid = maybeUUID ?? v4();\nif (!existingUser) {\n  window.localStorage.setItem(UUID_KEY, uuid);\n}\nlet infoTimeMs = 0;\nlet videoPlayingTimeMs = 0;\nlet videoPlaying = false;\nlet videoOpened = false;\nlet videoPlayed = false;\nlet appStartTimestamp = Date.now();\nlet infoStartTimestamp = null as number | null;\nlet videoPlayingStartTimestamp = null as number | null;\n\nlet userSelectedSearchLocations: [number, number][] = [];\nlet userSelectedMapLocations: [number, number][] = [];\n\ntype SheetType = \"text\" | \"video\";\nexport interface PlanetParadeProps {\n  wwtNamespace?: string;\n}\n\nconst store = engineStore();\n\nuseWWTKeyboardControls(store);\n\nconst touchscreen = supportsTouchscreen();\nconst { smAndDown, smAndUp, xs } = useDisplay();\n\nconst _props = withDefaults(defineProps<PlanetParadeProps>(), {\n  wwtNamespace: \"planet-parade\",\n});\n\nconst queryHideSplash = new URLSearchParams(window.location.search).get(\"splash\")?.toLowerCase() === \"false\";\nconst splash = !(queryHideSplash || skipIntroContent);\nconst showSplashScreen = ref(splash);\nconst backgroundImagesets = reactive<BackgroundImageset[]>([]);\nconst sheet = ref<SheetType | null>(null);\nconst layersLoaded = ref(false);\nconst positionSet = ref(false);\nconst accentColor = ref(\"#f4ba3e\");\nconst accentColor2 = ref(\"#6793ff\");\nconst buttonColor = ref(\"#f4ba3e\");\nconst tab = ref(0);\nconst showHorizon = ref(true);\nconst showAltAzGrid = ref(true);\nconst showEcliptic = ref(true);\nconst showLocationSelector = ref(false);\nconst playing = ref(false);\nconst showControls = ref(smAndUp.value);\nconst showConstellations = ref(false);\nconst showPlanetLabels = ref(true);\nconst inIntro = ref(false);\nconst showPrivacyDialog = ref(false);\nconst datePickerOpen = ref(false);\nconst skipIntroChecked = ref(skipIntroContent);\nconst showPlanetVisiblity = ref(true);\n\nconst wwtStats = markRaw({\n  timeResetCount: 0,\n  reverseCount: 0,\n  playPauseCount: 0,\n  speedups: [] as number[],\n  slowdowns: [] as number[],\n  rateSelections: [] as number[],\n  startTime: Date.now(),\n});\n\nconst optOut = typeof storedOptOut === \"string\" ? storedOptOut === \"true\" : null;\nconst responseOptOut = ref(optOut);\n\nconst geocodingOptions = {\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  access_token: process.env.VUE_APP_MAPBOX_ACCESS_TOKEN ?? \"\", \n};\n\nconst selectedLocation = ref<LocationDeg>({\n  longitudeDeg: -71.1056,\n  latitudeDeg: 42.3581,\n});\nconst selectedLocationText = ref(\"\");\nupdateSelectedLocationText();\n\n// const { geolocation, geolocate} = useGeolocation();\n// function useGeolocated() {\n//   if (!geolocation.value) {return;}\n//   selectedLocation.value = { latitudeDeg: geolocation.value.latitude, longitudeDeg: geolocation.value.longitude };\n// }\n// watch(\n//   geolocation,\n//   (location) => {\n//     if (location) {\n//       selectedLocation.value = { latitudeDeg: location?.latitude, longitudeDeg: location?.longitude };\n//     }\n//   }\n// );\n\nconst searchErrorMessage = ref<string | null>(null);\nconst { selectedTimezoneOffset, shortTimezone, browserTimezoneOffset } = useTimezone(selectedLocation);\n\nconst selectedTime = ref(Date.now());\n\nconst { getTimeforSunAlt, getSunPositionAtTime } = useSun(store, selectedLocation, selectedTime, selectedTimezoneOffset);\n// faking localization because\n// <date-time-picker> and <time-display> are not timezone aware\nconst localSelectedDate = computed({\n  // if you console log this date it will still say the local timezone \n  // as determined by the browser Intl.DateTimeFormat().resolvedOptions().timeZone\n  // but we have manually offset it so the hours are correct for the selected timezone\n  get: () => {\n    const time = selectedTime.value;\n    const fakeUTC = time + browserTimezoneOffset;\n    return new Date(fakeUTC + selectedTimezoneOffset.value);\n  },\n  set: (value: Date) => {\n    // get local time\n    const time = value.getTime();\n    // undo fake localization\n    const newTime = time - selectedTimezoneOffset.value - browserTimezoneOffset;\n    selectedTime.value = new Date(newTime).getTime();\n  }\n});\n\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nconst wwtSettings: Settings = Settings.get_active();\n\nfunction doWWTModifications() {\n\n  Grids._makeAltAzGridText = makeAltAzGridText;\n  Grids.drawEcliptic = drawEcliptic;\n\n  // We need to render one frame ahead of time\n  // as there's a lot of setup done on the first frame\n  // render that we need to use\n  WWTControl.singleton.renderOneFrame();\n\n  const boundRenderOneFrame = renderOneFrame.bind(WWTControl.singleton);\n  const newFrameRender = function() { \n    boundRenderOneFrame(\n      showHorizon.value,\n      showHorizon.value,\n      showPlanetLabels.value,\n    );\n  };\n\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  WWTControl.singleton._drawSkyOverlays = drawSkyOverlays.bind(WWTControl.singleton);\n\n  // as well as our custom text overlays\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  WWTControl.singleton.renderOneFrame = newFrameRender;\n\n  const originalUpdatePlanetLocations = Planets.updatePlanetLocations;\n  const planetScales = [\n    8,  // Sun\n    1.25,  // Mercury\n    1.25,  // Venus\n    1.25,  // Mars\n    2.5,  // Jupiter\n    4.5,  // Saturn\n    2,  // Uranus\n    2,  // Neptune\n    1,  // Pluto\n    1.25,  // Moon\n  ];\n  function newUpdatePlanetLocations(threeD: boolean) {\n    originalUpdatePlanetLocations(threeD);\n    for (let i = 0; i <= SolarSystemObjects.moon; i++) {\n      Planets._planetScales[i] = planetScales[i];\n    }\n  }\n  Planets.updatePlanetLocations = newUpdatePlanetLocations;\n  Planets.drawPlanets = drawPlanets;\n\n  // Recall that zoom = 6 * FOV, in WWT\n  const maxFOV = 90;\n  WWTControl.singleton.set_zoomMax(maxFOV * 6);\n\n}\n\n\nfunction planetIsVisible(planetName, date: Date, location: LocationDeg) {\n  // Get planet position\n  const planetPos = AstroCalc.getPlanet(getJulian(date), planetName, location.latitudeDeg * D2R, location.longitudeDeg * D2R, 0);\n  // Convert to horizontal\n  const altAz = equatorialToHorizontal(planetPos.RA * 15 * D2R, planetPos.dec * D2R, location.latitudeDeg * D2R, location.longitudeDeg * D2R, date);\n  // Check if planet is above minimum altitude\n  return altAz.altRad > 0;\n}\n\nconst sunVis = computed(() => planetIsVisible(SolarSystemObjects.sun, dateTime.value, selectedLocation.value));\nconst mercuryVis = computed(() => planetIsVisible(SolarSystemObjects.mercury, dateTime.value, selectedLocation.value));\nconst venusVis = computed(() => planetIsVisible(SolarSystemObjects.venus, dateTime.value, selectedLocation.value));\nconst marsVis = computed(() => planetIsVisible(SolarSystemObjects.mars, dateTime.value, selectedLocation.value));\nconst jupiterVis = computed(() => planetIsVisible(SolarSystemObjects.jupiter, dateTime.value, selectedLocation.value));\nconst saturnVis = computed(() => planetIsVisible(SolarSystemObjects.saturn, dateTime.value, selectedLocation.value));\nconst uranusVis = computed(() => planetIsVisible(SolarSystemObjects.uranus, dateTime.value, selectedLocation.value));\nconst neptuneVis = computed(() => planetIsVisible(SolarSystemObjects.neptune, dateTime.value, selectedLocation.value));\n\nonMounted(() => {\n  store.waitForReady().then(async () => {\n    skyBackgroundImagesets.forEach(iset => backgroundImagesets.push(iset));\n\n    // If there are layers to set up, do that here!\n    layersLoaded.value = true;\n\n    const altTime = getTimeforSunAlt(2).setting;\n    if (altTime) {\n      selectedTime.value = altTime;\n    }\n    wwtStats.startTime = selectedTime.value;\n    setTimeout(() => resetCamera().then(() => positionSet.value = true), 100);\n\n    store.applySetting([\"localHorizonMode\", true]);\n    store.applySetting([\"altAzGridColor\", Color.fromArgb(180, 133, 201, 254)]);\n    store.applySetting([\"eclipticColor\", Color.fromArgb(255, 255, 0, 255)]);\n    store.applySetting([\"actualPlanetScale\", false]);\n    updateAltAzGrid(showAltAzGrid.value);\n    updateAltAzGridText(showAltAzGrid.value || showHorizon.value);\n    updateEcliptic(showEcliptic.value);\n    updateConstellations(showConstellations.value);\n    updateWWTLocation(selectedLocation.value);\n    store.setClockSync(false);\n    store.setClockRate(1800);\n\n    doWWTModifications();\n    // geolocate().then(() => {\n    //   console.log('got location');\n    //   useGeolocated(); \n    //   selectedTime.value = todayAt4pm.value;\n    //   resetCamera();\n    // });\n    \n    createUserEntry();\n\n    setInterval(() => {\n      if (playing.value) {\n        const time = store.currentTime;\n        selectedTime.value = time.getTime();\n      }\n      const sunPosition = getSunPositionAtTime(store.currentTime);\n      updateEclipticColor(sunPosition.altRad);\n    }, 500);\n\n    window.addEventListener(\"keyup\", (event: KeyboardEvent) => {\n      if ([\"Esc\", \"Escape\"].includes(event.key) && showVideoSheet.value) {\n        showVideoSheet.value = false;\n      }\n    });\n\n    window.addEventListener(\"visibilitychange\", () => {\n      if (document.visibilityState === \"hidden\") {\n        updateUserData();\n      } else {\n        resetData();\n      }\n    });\n  });\n});\n\nconst ready = computed(() => layersLoaded.value && positionSet.value);\n\n/* `isLoading` is a bit redundant here, but it could potentially have independent logic */\nconst isLoading = computed(() => !ready.value);\n\n// It doesn't really matter which one we note here\nconst inNorthernHemisphere = computed(() => selectedLocation.value.latitudeDeg > 0);\n\nconst dateTime = computed(() => new Date(selectedTime.value));\n\n/* Properties related to device/screen characteristics */\nconst smallSize = computed(() => smAndDown.value);\n\nconst mobile = computed(() => smallSize.value && touchscreen);\n\nconst xSmallSize = computed(() => xs.value);\n\n/* This lets us inject component data into element CSS */\nconst cssVars = computed(() => {\n  return {\n    \"--accent-color\": accentColor.value,\n    \"--accent-color2\": accentColor2.value,\n    \"--app-content-height\": showTextSheet.value ? \"66%\" : \"100%\",\n  };\n});\n\n\n/**\n  Computed flags that control whether the relevant dialogs display.\n  The `sheet` data member stores which sheet is open, so these are just\n  computed wrappers around modifying/querying that which can be used as\n  dialog v-model values\n*/\nconst showTextSheet = computed({\n  get() {\n    return sheet.value === \"text\";\n  },\n  set(_value: boolean) {\n    selectSheet(\"text\");\n  }\n});\n\nconst showVideoSheet = computed({\n  get() {\n    return sheet.value === \"video\";\n  },\n  set(value: boolean) {\n    selectSheet(\"video\");\n    if (!value) {\n      const video = document.querySelector(\"#info-video\") as HTMLVideoElement;\n      video.pause();\n    } else {\n      nextTick(() => {\n        const video = document.querySelector(\"#info-video\") as HTMLVideoElement;\n        video.addEventListener(\"play\", (_event: Event) => {\n          videoPlaying = true;\n          videoPlayingStartTimestamp = Date.now();\n          videoPlayed = true;\n        });\n\n        video.addEventListener(\"pause\", (_event: Event) => {\n          videoPlaying = false;\n          const now = Date.now();\n          if (videoPlayingStartTimestamp !== null) {\n            videoPlayingTimeMs += (now - videoPlayingStartTimestamp);\n            videoPlayingStartTimestamp = null;\n          }\n        });\n      });\n    }\n  }\n});\n\n/**\n  This is convenient if there's any other logic that we want to run\n  when the splash screen is closed\n*/\nfunction closeSplashScreen() {\n  showSplashScreen.value = false;\n}\n\nfunction selectSheet(sheetType: SheetType | null) {\n  if (sheet.value === sheetType) {\n    sheet.value = null;\n    nextTick(() => {\n      blurActiveElement();\n    });\n  } else {\n    sheet.value = sheetType;\n  }\n}\n\nfunction getTextForLocation(longitudeDeg: number, latitudeDeg: number): Promise<string> {\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  return textForLocation(longitudeDeg, latitudeDeg, geocodingOptions);\n}\n\nfunction setLocationFromFeature(feature: MapBoxFeature) {\n  selectedLocation.value = { longitudeDeg: feature.center[0], latitudeDeg: feature.center[1] };\n  getTextForLocation(feature.center[0], feature.center[1]).then(text => {\n    selectedLocationText.value = text;\n  }).catch(_err => {\n    searchErrorMessage.value = \"An error occurred while searching\";\n  });\n}\n\nfunction setLocationFromSearchFeature(feature: MapBoxFeature) {\n  setLocationFromFeature(feature);\n  userSelectedSearchLocations.push(feature.center);\n}\n\nasync function updateSelectedLocationText() {\n  selectedLocationText.value = await getTextForLocation(selectedLocation.value.longitudeDeg, selectedLocation.value.latitudeDeg);\n}\n\nfunction searchProvider(text: string): Promise<MapBoxFeatureCollection> {\n  return geocodingInfoForSearch(text, geocodingOptions);\n}\n\nfunction updateLocationFromMap(location: LocationDeg) {\n  selectedLocation.value = location;\n  userSelectedMapLocations.push([location.latitudeDeg, location.longitudeDeg]);\n}\n\nasync function createUserEntry() {\n  if (responseOptOut.value) {\n    return;\n  }\n\n  const response = await fetch(`${STORY_DATA_URL}/${uuid}`, {\n    method: \"GET\",\n    // eslint-disable-next-line @typescript-eslint/naming-convention\n    headers: { \"Authorization\": process.env.VUE_APP_CDS_API_KEY ?? \"\" }\n  });\n  const content = await response.json();\n  const exists = response.status === 200 && content.response?.user_uuid != undefined;\n  if (exists) {\n    return;\n  }\n\n  fetch(`${STORY_DATA_URL}`, {\n    method: \"PUT\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      \"Authorization\": process.env.VUE_APP_CDS_API_KEY ?? \"\",\n    },\n    body: JSON.stringify({\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      user_uuid: uuid,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      user_selected_search_locations: userSelectedSearchLocations,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      user_selected_map_locations: userSelectedMapLocations,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      app_time_ms: 0, info_time_ms: 0, video_time_ms: 0,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      video_opened: videoOpened, video_played: videoPlayed,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      wwt_time_reset_count: wwtStats.timeResetCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      wwt_reverse_count: wwtStats.reverseCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      wwt_play_pause_count: wwtStats.playPauseCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      wwt_speedups: wwtStats.speedups,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      wwt_slowdowns: wwtStats.slowdowns,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      wwt_rate_selections: wwtStats.rateSelections,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      wwt_start_stop_times: [wwtStats.startTime, selectedTime.value],\n    }),\n  });\n}\n\nfunction resetData() {\n  userSelectedMapLocations = [];\n  userSelectedSearchLocations = [];\n  infoTimeMs = 0;\n  videoPlayingTimeMs = 0;\n  const now = Date.now();\n  appStartTimestamp = now;\n  infoStartTimestamp = showTextSheet.value ? now : null;\n  videoPlayingStartTimestamp = videoPlaying ? now : null;\n  Object.assign(wwtStats, {\n    timeResetCount: 0,\n    reverseCount: 0,\n    playPauseCount: 0,\n    speedups: [],\n    slowdowns: [],\n    rateSelections: [],\n    startTime: selectedTime.value,\n  });\n}\n\nasync function updateUserData() {\n  if (responseOptOut.value) {\n    return;\n  }\n\n  const now = Date.now();\n  const infoTime = (showTextSheet.value && infoStartTimestamp !== null) ? now - infoStartTimestamp : infoTimeMs;\n  const videoTime = (videoPlaying && videoPlayingStartTimestamp !== null) ? now - videoPlayingStartTimestamp : videoPlayingTimeMs;\n\n  fetch(`${STORY_DATA_URL}/${uuid}`, {\n    method: \"PATCH\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      \"Authorization\": process.env.VUE_APP_CDS_API_KEY ?? \"\",\n    },\n    body: JSON.stringify({\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      user_selected_search_locations: userSelectedSearchLocations,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      user_selected_map_locations: userSelectedMapLocations,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_app_time_ms: now - appStartTimestamp,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_info_time_ms: infoTime,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_video_time_ms: videoTime,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      video_opened: videoOpened, video_played: videoPlayed,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_wwt_time_reset_count: wwtStats.timeResetCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_wwt_reverse_count: wwtStats.reverseCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      delta_wwt_play_pause_count: wwtStats.playPauseCount,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      wwt_speedups: wwtStats.speedups,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      wwt_slowdowns: wwtStats.slowdowns,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      wwt_rate_selections: wwtStats.rateSelections,\n      // eslint-disable-next-line @typescript-eslint/naming-convention\n      wwt_start_stop_times: [wwtStats.startTime, selectedTime.value],\n    }),\n    keepalive: true,\n  }).then(() => {\n    resetData();\n  });\n}\n\nasync function resetCamera(): Promise<void> {\n  const time = store.currentTime;\n\n  const latRad = selectedLocation.value.latitudeDeg * D2R;\n  const lonRad = selectedLocation.value.longitudeDeg * D2R;\n\n  const sunAltAz = getSunPositionAtTime(time);\n  const sunAz = sunAltAz.azRad;\n  const startAlt = smallSize.value ? 15 * D2R : 25 * D2R;\n  const startRADec = horizontalToEquatorial(\n    startAlt,\n    sunAz,\n    latRad,\n    lonRad,\n    time,\n  );\n\n  return store.gotoRADecZoom({\n    raRad: startRADec.raRad,\n    decRad: startRADec.decRad,\n    zoomDeg: 360,\n    instant: true,\n  });\n  \n}\n\nfunction updateWWTLocation(location: LocationDeg) {\n  wwtSettings.set_locationLat(location.latitudeDeg);\n  wwtSettings.set_locationLng(location.longitudeDeg);\n}\n\nfunction updateAltAzGrid(show: boolean) {\n  store.applySetting([\"showAltAzGrid\", show]);\n}\n\nfunction updateAltAzGridText(show: boolean) {\n  store.applySetting([\"showAltAzGridText\", show]);\n}\n\nfunction updateEcliptic(show: boolean) {\n  store.applySetting([\"showEcliptic\", show]);\n  // store.applySetting([\"showEclipticOverviewText\", show]);\n}\n\nfunction updateEclipticColor(sunAlt: number) {\n  const opacity = skyOpacityForSunAlt(sunAlt);\n  const component = 255 - opacity * (255 - 119);\n  const color = Color.fromArgb(255, component, 0, component);\n  store.applySetting([\"eclipticColor\", color]);\n}\n\nfunction updateConstellations(show: boolean) {\n  store.applySetting([\"showConstellationFigures\", show]);\n  store.applySetting([\"showConstellationLabels\", show]);\n}\n\nwatch(selectedLocation, (location: LocationDeg) => {\n  console.log('selectedLocation changed', location);\n  updateSelectedLocationText();\n  updateWWTLocation(location);\n  resetCamera();\n  WWTControl.singleton.renderOneFrame();\n});\n\n// watch(selectedTime, (value: number) => {\n//   console.log(value);});\nwatch(playing, (play: boolean) => {\n  store.setClockSync(play);\n});\n\nwatch(showAltAzGrid, (show: boolean) => {\n  updateAltAzGrid(show);\n  updateAltAzGridText(show || showHorizon.value);\n});\nwatch(showEcliptic, updateEcliptic);\nwatch(showConstellations, updateConstellations);\nwatch(showHorizon, (show: boolean) => {\n  updateAltAzGridText(show || showAltAzGrid.value);\n});\n\nwatch(dateTime, (dt: Date) => {\n  store.setTime(dt);\n});\n\nwatch(skipIntroChecked, (checked: boolean) => {\n  window.localStorage.setItem(SKIP_INTRO_CONTENT_KEY, String(checked));\n});\n\nwatch(showTextSheet, (show: boolean) => {\n  const now = Date.now();\n  if (show) {\n    infoStartTimestamp = now; \n  } else if (infoStartTimestamp !== null) {\n    infoTimeMs += (now - infoStartTimestamp);\n    infoStartTimestamp = null;\n  }\n});\n\nwatch(showVideoSheet, (show: boolean) => {\n  if (show) {\n    videoOpened = true;\n  }\n});\n\nwatch(inNorthernHemisphere, (_inNorth: boolean) => resetAltAzGridText());\n\nwatch(showSplashScreen, (show: boolean) => {\n  if (!show) {\n    inIntro.value = true;\n  }\n});\n\nwatch(inIntro, (intro: boolean) => {\n  if (!intro) {\n    if (!showSplashScreen.value && responseOptOut.value === null) {\n      showPrivacyDialog.value = true;\n    }\n  }\n});\n\nwatch(responseOptOut, (optOut: boolean | null) => {\n  if (optOut !== null) {\n    window.localStorage.setItem(OPT_OUT_KEY, String(optOut));\n  }\n});\n</script>\n\n<style lang=\"less\">\n@font-face {\n  font-family: \"Highway Gothic Narrow\";\n  src: url(\"./assets/HighwayGothicNarrow.ttf\");\n}\n\n:root {\n  --default-font-size: clamp(0.7rem, min(1.7vh, 1.7vw), 1.1rem);\n  --default-line-height: clamp(1rem, min(2.2vh, 2.2vw), 1.6rem);\n}\n\nhtml {\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  background-color: #000;\n  overflow: hidden;\n\n  \n  -ms-overflow-style: none;\n  // scrollbar-width: none;\n}\n\nbody {\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n  overflow: hidden;\n\n  font-family: Verdana, Arial, Helvetica, sans-serif;\n}\n\n#main-content {\n  position: fixed;\n  width: 100%;\n  height: var(--app-content-height);\n  overflow: hidden;\n\n  transition: height 0.1s ease-in-out;\n}\n\n#app {\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  overflow: hidden;\n  font-size: 11pt;\n\n  .wwtelescope-component {\n    position: absolute;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    border-style: none;\n    border-width: 0;\n    margin: 0;\n    padding: 0;\n  }\n}\n\n\n.fade-enter-active,\n.fade-leave-active {\n  transition: opacity 0.3s;\n}\n.fade-enter,\n.fade-leave-to {\n  opacity: 0;\n}\n\n.modal {\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  width: 100%;\n  height: 100%;\n  z-index: 100;\n  color: #fff;\n  background-color: rgba(0, 0, 0, 0.7);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n#modal-loading {\n  background-color: #000;\n  .container {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n    .spinner {\n      background-image: url(\"https://projects.cosmicds.cfa.harvard.edu/cds-website/misc/lunar_loader.gif\");\n      background-repeat: no-repeat;\n      background-size: contain;\n      width: 3rem;\n      height: 3rem;\n    }\n    p {\n      margin: 0 0 0 1rem;\n      padding: 0;\n      font-size: 150%;\n    }\n  }\n}\n\np {\n  margin-block: 10px;\n}\n\nli {\n  margin-left: 20px;\n  margin-block: 8px;\n}\n\n#top-content {\n  position: absolute;\n  top: 1rem;\n  left: 1rem;\n  width: calc(100% - 2rem);\n  pointer-events: none;\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n}\n\n#left-buttons {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n}\n\n#center-buttons {\n  position: absolute;\n  top: 0;\n  left: 50%;\n  transform: translateX(-50%);\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  gap: 1rem;\n  \n  #my-location-label {\n    background-color: #ccc;\n    padding-inline: 5px;\n    padding-block: 2px;\n    border-radius: 1em;\n    color: black;\n    font-size: var(--default-font-size);\n    pointer-events: auto;\n    cursor:pointer\n  }\n  \n  #my-location-label:hover {\n    filter: drop-shadow(0 0 2px white;)\n  }\n}\n\n#right-buttons {\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  align-items: flex-end;\n  height: auto;\n}\n\n.collapsable-control {\n  pointer-events: auto;\n\n  background: black;\n  padding-block: 0.5em;\n  padding-right: 0.5em;\n  border-radius: 5px;\n  border: solid 1px var(--accent-color);\n  display: flex;\n  flex-direction: column;\n  pointer-events: auto;\n\n  .v-label {\n    color: var(--accent-color);\n    opacity: 1;\n    font-size: var(--default-font-size);\n  }\n\n  #control-checkboxes {\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    // padding-left: calc(0.5 * var(--default-line-height));\n\n    .v-checkbox .v-selection-control {\n      font-size: calc(1.1 * var(--default-font-size));\n      height: calc(1.2 * var(--default-line-height));\n      min-height: calc(1.2 * var(--default-line-height));\n    }\n    \n    .v-selection-control .v-label {\n      white-space: nowrap;\n    }\n\n    .v-checkbox .v-selection-control__input {\n      width: calc(1.2 * var(--default-line-height));\n      height: calc(1.2 * var(--default-line-height));\n    }\n\n    .v-checkbox .v-selection-control__wrapper {\n      width: calc(1.2 * var(--default-line-height));\n      height: calc(1.2 * var(--default-line-height));\n    }\n\n    .v-btn {\n      align-self: center;\n      padding-left: 5px;\n      padding-right: 5px;\n      border: solid 1px #899499;\n\n      &:focus {\n        border: 2px solid white;\n      }\n    }\n\n    .v-btn__content {\n      color: black;\n      font-weight: 900;\n      white-space: break-spaces;\n      width: 150px;\n    }\n  }\n  \n  .controls-top-row {\n    padding-left: 0.5em;\n    display: flex;\n    width: 100%;\n    flex-direction: row;\n    justify-content: flex-end;\n  }\n}\n\n#planet-visibility-box {\n  color: var(--accent-color);\n  font-size: calc(1.1 * var(--default-font-size));\n  \n  .controls-top-row.planet-visibility {\n    justify-content: space-between;\n  }\n  \n  .planet-visibility-title {\n    // flex-basis: 12ch;\n    line-height: calc(1 * var(--default-line-height));\n    margin-bottom: 5px;\n    margin-right: 5px;\n  }\n  \n  #planet-visibility-label {\n      \n    p.planet-label {\n      font-size: var(--default-font-size);\n      margin: 0;\n      margin-left: 0.5em;\n      line-height: calc(1 * var(--default-line-height));\n      transition: color 0.3s;\n    }\n    \n    .sun {\n      color: rgb(232, 232, 59);\n      font-weight: bold;\n    }\n\n    p.planet-label.not-visible {\n      color: #333;\n    }\n  }\n}\n\n#bottom-content {\n  display: flex;\n  flex-direction: row;\n  position: absolute;\n  bottom: 1rem;\n  right: 1rem;\n  width: calc(100% - 2rem);\n  pointer-events: none;\n  align-items: center;\n  gap: 5px;\n  justify-content: center;\n}\n\n// vuetify smAndDown\n@media ( max-width: 960px ) {\n  #bottom-content {\n    align-items: flex-start;\n  }\n  #date-picker {\n    margin-block: 0;\n  }\n  \n  .td__container.bsn__time {\n    margin-block: 0.25em !important;\n  }\n}\n\n@media (max-width: 600px) {\n  #bottom-content {\n    flex-direction: column;\n    align-items: center;\n    gap: 1rem;\n  }\n}\n\n// From Sara Soueidan (https://www.sarasoueidan.com/blog/focus-indicators/) & Erik Kroes (https://www.erikkroes.nl/blog/the-universal-focus-state/)\n:focus-visible:not(.v-overlay__content, .v-field__input input),\nbutton:focus-visible,\n.focus-visible,\n.v-selection-control--focus-visible .v-selection-control__input,\n#intro-window-close-button:focus-visible {\n  outline: 9px double white !important;\n  box-shadow: 0 0 0 6px black !important;\n  border-radius: .125rem;\n}\n\n.video-wrapper {\n  height: 100%;\n  background: black;\n  text-align: center;\n  z-index: 1000;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  #video-close-icon {\n    position: absolute;\n    top: 10px;\n    right: 10px;\n    z-index: 15;\n    \n    &:hover {\n      cursor: pointer;\n    }\n\n    &:focus {\n      color: white;\n      border: 2px solid white;\n    }\n  }\n}\n\nvideo {\n  // height: 100%;\n  // width: auto;\n  // max-width: 100%;\n  object-fit: contain;\n}\n\n#info-video {\n  // position: absolute;\n  // top: 0;\n  // left: 0;\n  width: 95%;\n  height: auto;\n  max-width: 100%;\n  overflow: hidden;\n  padding: 0px;\n  z-index: 10;\n  border: 1px solid white;\n}\n\n#introduction-overlay {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.info-card {\n  height: fit-content;\n  padding-inline: 30px;\n  padding-block: 20px;\n  max-width: 500px;\n\n  @media (max-width: 600px) {\n    width: 95%;\n  }\n\n  @media (min-width: 600px) {\n    width: 80%;\n  }\n}\n\n.bottom-sheet {\n  .v-overlay__content {\n    align-self: flex-end;\n    padding: 0;\n    margin: 0;\n    max-width: 100%;\n    height: 34%;\n  }\n\n  #tabs {\n    width: calc(100% - 3em);\n    align-self: left;\n  }\n  \n  .info-text {\n    height: 33vh;\n    padding-bottom: 25px;\n  \n    & a {\n      text-decoration: none;\n    }\n\n    & h3 {\n      margin-top: 20px;\n      margin-bottom: 6px;\n      color: var(--accent-color);\n    }\n  }\n  \n  .close-icon {\n    position: absolute;\n    top: 10px;\n    right: 10px;\n    z-index: 15;\n  \n    &:hover {\n      cursor: pointer;\n    }\n  \n    &:focus {\n      color: white;\n      border: 2px solid white;\n    }\n  }\n  \n  .scrollable {\n    overflow-y: auto;\n  }\n  \n  #tab-items {\n    // padding-bottom: 2px !important;\n  \n    .v-card-text {\n      font-size: ~\"max(14px, calc(0.7em + 0.3vw))\";\n      padding-top: ~\"max(2vw, 16px)\";\n      padding-left: ~\"max(4vw, 16px)\";\n      padding-right: ~\"max(4vw, 16px)\";\n  \n      .end-spacer {\n        height: 25px;\n      }\n    }\n  \n  }\n  \n  #close-text-icon {\n    position: absolute;\n    top: 0.25em;\n    right: calc((3em - 0.6875em) / 3); // font-awesome-icons have width 0.6875em\n    color: white;\n  }\n\n  // This prevents the tabs from having some extra space to the left when the screen is small\n  // (around 400px or less)\n  .v-tabs:not(.v-tabs--vertical).v-tabs--right>.v-slide-group--is-overflowing.v-tabs-bar--is-mobile:not(.v-slide-group--has-affixes) .v-slide-group__next, .v-tabs:not(.v-tabs--vertical):not(.v-tabs--right)>.v-slide-group--is-overflowing.v-tabs-bar--is-mobile:not(.v-slide-group--has-affixes) .v-slide-group__prev {\n    display: none;\n  }\n\n}\n\n.map-container {\n  @media (max-width: 600px) {\n    width: 90vw;\n    height: 70vh;\n  }\n\n@media (min-width: 601px) {\n    width: 70vw;\n    height: 60vh;\n  }\n}\n\n#geolocation-close {\n  position: absolute;\n  top: 1rem;\n  right: 1rem;\n  z-index: 1000;\n}\n\n#geolocation-controls {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  align-items: center;\n  position: absolute;\n  width: 350px;\n  bottom: 1rem;\n  right: 1rem;\n  z-index: 1000;\n  gap: 5px;\n\n  .location-search {\n    flex-grow: 1;\n  }\n\n  @media (max-width: 600px) {\n    width: 300px;\n  }\n}\n\n#geolocation-wrapper\\+location .v-btn {\n  background-color: black;\n}\n\n#slider {\n  display: flex;\n  flex-direction: row;\n  flex-grow: 1;\n  gap: 0.5em;\n  align-items: center;\n}\n\n// Styling the slider\n#slider .v-slider {\n  pointer-events: auto;\n\n  .v-slider-track {\n    // --v-slider-track-size: 4px !important;\n\n    .v-slider-track__background {\n      background-color: #CCC !important;\n    }\n\n    .v-slider-track__fill {\n      background-color: rgb(255 193 203)!important;\n      height: var(--v-slider-track-size) !important;\n    }\n\n    .v-slider-track__background--opacity {\n      opacity: 1 !important;\n    }\n  }\n\n  .v-slider-thumb {\n    \n    .v-slider-thumb__surface {\n      border: 1px solid black !important;\n    }\n  }\n  \n\n  .v-slider-thumb__label {\n    min-width: fit-content;\n    white-space: nowrap;\n    color: black;\n    padding-inline: 0.7rem;\n    background-color: var(--accent-color);\n\n    font-size: var(--default-font-size);\n    padding-block: calc(0.5 * var(--default-line-height));\n\n    @media (max-width: 600px) {\n      font-size: calc(1 * var(--default-font-size));\n      padding-block: 0;\n      padding-inline: 0.3rem;\n      height: 15px;\n    }\n  }\n  \n  .v-slider-thumb__label::before {\n    color: var(--accent-color);\n  }\n}\n\n#change-flags {\n  position: absolute;\n  display: flex;\n  flex-direction: row;\n  gap: 5px;\n\n  @media (max-width: 990px) {\n    right: 0rem;\n    bottom: 0rem;\n  }\n  @media (min-width: 948px) {\n    right: 0.5rem;\n    bottom: 40px;\n  }\n    \n  .icon-wrapper {\n    margin: 0;\n    padding: 0.15em;\n    border: none;\n    min-width: 0;\n  }\n}\n\n#privacy-popup-dialog {\n\n  .v-card-text {\n    color: #BDBDBD;\n  }\n\n  .v-overlay__content {\n    font-size: var(--default-font-size);\n    background-color: purple;\n    position: absolute;\n    bottom: 0;\n    right: 0;\n  }\n\n  .v-btn--size-default {\n      font-size: calc(0.9 * var(--default-font-size));\n    }  \n\n  .v-card-actions .v-btn {\n    padding: 0 4px;\n  }\n}\n\n#intro-window-close-button {\n    position: absolute;\n    top: 0.25em;\n    right: 0.25em;\n\n    &:hover {\n      cursor: pointer;\n    }\n}\n\n.bullet-icon {\n  color: var(--accent-color);\n  width: 1.5em;\n}\n\n#date-picker {\n  pointer-events: auto;\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n  margin-left: 1rem;\n  margin-top: 2px;\n\n  @media (max-width: 600px) {\n    // margin: 0;\n    // margin-left: 1rem;\n  }\n\n  @media (min-width: 601px) {\n    // margin: 1rem;\n  }\n\n}\n\n.dtp-close-button {\n  position: absolute;\n  top: 0.5em;\n  right: 0.5em;\n  border-radius: 50%;\n  border: 1.5px solid car(--accent-color)\n}\n.dtp__button {\n  background-color: var(--accent-color);\n  font-size: 0.85em;\n  color: black;\n  border-radius: 5px;\n  padding: 4px;\n  margin: 4px;\n  cursor: pointer;\n}\n\n.td__card {\n  border: 2px solid var(--accent-color);\n  text-align: right;\n  position: relative;\n  overflow: visible;\n}\n\n.td__icon {\n  position: absolute;\n  bottom: -4px;\n  right: 0px;\n  z-index: 10000;\n}\n\n.bsn__time .td__time_time {\n  font-size: var(--default-font-size);\n}\n\n@media (min-width: 960px) {\n  .bsn__time .td__time_time.td__short_time {\n    font-size: calc(1.2 * var(--default-font-size));\n  }\n}\n\n\n\n.bsn__time .td__date_date {\n  font-size: calc(0.85 * var(--default-font-size));\n}\n\n.bsn__time .td__timezone_tz {\n  font-size: calc(0.85 * var(--default-font-size));\n}\n\n#body-logos  {\n  position: fixed;\n  right: 0.5em;\n  bottom: 0.5em;\n\n  #icons-container img {\n    height: 35px;\n    vertical-align: middle;\n    margin: 2px;\n  }\n}\n\n</style>\n","import script from \"./PlanetParade.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./PlanetParade.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./PlanetParade.vue?vue&type=style&index=0&id=bb062308&lang=less\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { aliases, mdi } from 'vuetify/iconsets/mdi';\nimport { createVuetify } from 'vuetify';\n\n// For test use. Do not include createVuetify()\n// see https://next.vuetifyjs.com/en/features/treeshaking/\n//import * as components from 'vuetify/components';\n//import * as directives from 'vuetify/directives';\n\n// Translations provided by Vuetify\nimport { en } from 'vuetify/locale';\n\n// Styles\nimport 'vuetify/styles';\nimport '@mdi/font/css/materialdesignicons.css';\n\nexport default createVuetify({\n  // Icon Fonts\n  icons: {\n    defaultSet: 'mdi',\n    aliases,\n    sets: {\n      mdi,\n    },\n  },\n  locale: {\n    locale: 'en',\n    fallback: 'en',\n    messages: { en },\n  },\n  theme: {\n    defaultTheme: 'dark',\n  },\n});\n\n// Export for test.\n//export { components, directives };\n","import { useModel as _useModel, mergeModels as _mergeModels, defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = [\"min\", \"max\", \"step\", \"value\"]\n\nimport { ref, watch, computed } from 'vue';\n\nexport interface Props {\n  editable?: boolean;\n  min?: string | number\n  max?: string | number ;\n  step?: number;\n  clamp?: boolean;\n  zeroPad?: number;\n  pad2?: boolean;\n}\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'TapToInput',\n  props: /*@__PURE__*/_mergeModels({\n    editable: { type: Boolean, default: true },\n    min: { default: 0 },\n    max: { default: 9999 },\n    step: { default: 1 },\n    clamp: { type: Boolean, default: false },\n    zeroPad: { default: 0 },\n    pad2: { type: Boolean, default: false }\n  }, {\n    \"modelValue\": { default: 0 },\n    \"modelModifiers\": {},\n  }),\n  emits: [\"update:modelValue\"],\n  setup(__props: any) {\n\nconst value = _useModel(__props, \"modelValue\");\nconst psuedoValue = ref(value.value);\n\nconst editing = ref(false);\nconst input = ref();\n\nconst props = __props;\n\nfunction pad(value: number) {\n  if (props.zeroPad > 0) {\n    return value.toString().padStart(props.zeroPad, '0');\n  }\n  if (props.pad2) {\n    return value.toString().padStart(2, '0');\n  }\n  return value;\n}\n\nconst parseValue = (value: string | number | CallableFunction) => {\n  if (typeof value === 'number') {\n    return value;\n  } \n  if (typeof value === 'function') {\n    return value();\n  }\n  return value.includes('.') ? parseFloat(value) : parseInt(value);\n};\n\nconst minValue = ref(parseValue(props.min));\nconst maxValue = ref(parseValue(props.max));\nconst stepValue = ref(parseValue(props.step));\n\nfunction setValue(event: Event) {\n  if (event.target) {\n    psuedoValue.value = parseInt((event.target as HTMLInputElement).value);\n  }\n}\n\nfunction blurred() {\n  editing.value = false;\n}\n\nfunction round(value, toNearest) {\n  return Math.round(value / toNearest) * toNearest;\n}\n\nconst isValid = computed(() => {\n  if (psuedoValue.value < minValue.value) {\n    return false;\n  }\n  if (psuedoValue.value > maxValue.value) {\n    return false;\n  }\n  return true;\n});\n\nfunction clampValue(value: number) {\n  if (!props.clamp) {\n    return value;\n  }\n  if (value < minValue.value) {\n    value = minValue.value;\n  } else if (value > maxValue.value) {\n    value = maxValue.value;\n  }\n  if ((value % stepValue.value) !== 0) {\n    value = round(value, stepValue.value);\n  }\n  return value;\n}\n\n// watch props\nwatch(() => props.min, (newVal) => {\n  minValue.value = parseValue(newVal);\n  psuedoValue.value = clampValue(psuedoValue.value);\n});\n\nwatch(() => props.max, (newVal) => {\n  maxValue.value = parseValue(newVal);\n  psuedoValue.value = clampValue(psuedoValue.value);\n});\n\nwatch(() => props.step, (newVal) => {\n  stepValue.value = parseValue(newVal);\n});\n\nwatch(value, (newVal) => {\n  psuedoValue.value = clampValue(newVal);\n});\n\n\nwatch(input, (value) => {\n  if (value) {\n    value.focus();\n  }    \n});\n\nwatch(psuedoValue, (newValue, oldValue) => {\n  if (isValid.value) {\n    value.value = psuedoValue.value;\n    return;\n  }\n  if (props.clamp) {\n    psuedoValue.value = clampValue(newValue);\n    value.value = psuedoValue.value;\n    return;\n  }\n  psuedoValue.value = oldValue;\n  \n});\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (!editing.value || !props.editable)\n    ? (_openBlock(), _createElementBlock(\"span\", {\n        key: 0,\n        onClick: _cache[0] || (_cache[0] = ($event: any) => (editing.value = !editing.value)),\n        ref: \"display\",\n        class: \"tti__display\"\n      }, _toDisplayString(pad(psuedoValue.value)), 513))\n    : (_openBlock(), _createElementBlock(\"input\", {\n        key: 1,\n        type: \"number\",\n        min: minValue.value,\n        max: maxValue.value,\n        step: stepValue.value,\n        value: psuedoValue.value,\n        onChange: setValue,\n        onBlur: blurred,\n        ref_key: \"input\",\n        ref: input,\n        class: \"tti__input\"\n      }, null, 40, _hoisted_1))\n}\n}\n\n})","<!-- Input/Display with up down arrow above and below -->\n<template>\n    <span \n      v-if=\"!editing || !props.editable\"\n      @click=\"editing = !editing\"\n      ref=\"display\"\n      class=\"tti__display\"\n      >{{ pad(psuedoValue) }}\n    </span>\n    <input \n      v-else\n      type=\"number\" \n      :min=\"minValue\"\n      :max=\"maxValue\"\n      :step=\"stepValue\"\n      :value=\"psuedoValue\" \n      @change=\"setValue\"\n      @blur=\"blurred\"\n      ref=\"input\"\n      class=\"tti__input\"\n      />\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, withDefaults, watch, computed } from 'vue';\n\nconst value = defineModel({ default: 0 });\nconst psuedoValue = ref(value.value);\n\nconst editing = ref(false);\nconst input = ref();\n\nexport interface Props {\n  editable?: boolean;\n  min?: string | number\n  max?: string | number ;\n  step?: number;\n  clamp?: boolean;\n  zeroPad?: number;\n  pad2?: boolean;\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  editable: true,\n  min: 0,\n  max: 9999,\n  step: 1,\n  clamp: false,\n  zeroPad: 0,\n  pad2: false,\n});\n\nfunction pad(value: number) {\n  if (props.zeroPad > 0) {\n    return value.toString().padStart(props.zeroPad, '0');\n  }\n  if (props.pad2) {\n    return value.toString().padStart(2, '0');\n  }\n  return value;\n}\n\nconst parseValue = (value: string | number | CallableFunction) => {\n  if (typeof value === 'number') {\n    return value;\n  } \n  if (typeof value === 'function') {\n    return value();\n  }\n  return value.includes('.') ? parseFloat(value) : parseInt(value);\n};\n\nconst minValue = ref(parseValue(props.min));\nconst maxValue = ref(parseValue(props.max));\nconst stepValue = ref(parseValue(props.step));\n\nfunction setValue(event: Event) {\n  if (event.target) {\n    psuedoValue.value = parseInt((event.target as HTMLInputElement).value);\n  }\n}\n\nfunction blurred() {\n  editing.value = false;\n}\n\nfunction round(value, toNearest) {\n  return Math.round(value / toNearest) * toNearest;\n}\n\nconst isValid = computed(() => {\n  if (psuedoValue.value < minValue.value) {\n    return false;\n  }\n  if (psuedoValue.value > maxValue.value) {\n    return false;\n  }\n  return true;\n});\n\nfunction clampValue(value: number) {\n  if (!props.clamp) {\n    return value;\n  }\n  if (value < minValue.value) {\n    value = minValue.value;\n  } else if (value > maxValue.value) {\n    value = maxValue.value;\n  }\n  if ((value % stepValue.value) !== 0) {\n    value = round(value, stepValue.value);\n  }\n  return value;\n}\n\n// watch props\nwatch(() => props.min, (newVal) => {\n  minValue.value = parseValue(newVal);\n  psuedoValue.value = clampValue(psuedoValue.value);\n});\n\nwatch(() => props.max, (newVal) => {\n  maxValue.value = parseValue(newVal);\n  psuedoValue.value = clampValue(psuedoValue.value);\n});\n\nwatch(() => props.step, (newVal) => {\n  stepValue.value = parseValue(newVal);\n});\n\nwatch(value, (newVal) => {\n  psuedoValue.value = clampValue(newVal);\n});\n\n\nwatch(input, (value) => {\n  if (value) {\n    value.focus();\n  }    \n});\n\nwatch(psuedoValue, (newValue, oldValue) => {\n  if (isValid.value) {\n    value.value = psuedoValue.value;\n    return;\n  }\n  if (props.clamp) {\n    psuedoValue.value = clampValue(newValue);\n    value.value = psuedoValue.value;\n    return;\n  }\n  psuedoValue.value = oldValue;\n  \n});\n\n</script>\n\n<style>\n/* Chrome, Safari, Edge, Opera */\ninput.tti__input::-webkit-outer-spin-button,\ninput.tti__input::-webkit-inner-spin-button\n{\n  -webkit-appearance: none;\n  margin: 0;\n}\n\n/* Firefox */\ninput.tti__input[type='number']\n{\n  -moz-appearance: textfield;\n  -webkit-appearance: textfield;\n  appearance: textfield;\n}\n\ninput.tti__input[type='number']\n{\n  text-align: center;\n}\n\ninput.tti__input[type='number']:invalid\n{\n  background-color: #fd6969;\n}\n\n</style>\n","import script from \"./TapToInput.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./TapToInput.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./TapToInput.vue?vue&type=style&index=0&id=a86e530e&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { useModel as _useModel, mergeModels as _mergeModels, defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, renderSlot as _renderSlot, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString } from \"vue\"\n\nconst _hoisted_1 = { class: \"dtp__container\" }\nconst _hoisted_2 = { class: \"dtp__row\" }\nconst _hoisted_3 = { class: \"dtp__grid-container\" }\nconst _hoisted_4 = { class: \"dtp__middle-slot\" }\nconst _hoisted_5 = {\n  key: 0,\n  class: \"dtp__ampm\"\n}\nconst _hoisted_6 = { class: \"dtp__bottom-content\" }\nconst _hoisted_7 = {\n  key: 0,\n  class: \"dtp__debug\"\n}\n\nimport { ref, watch, computed } from 'vue';\nimport TapToInput from './TapToInput.vue';\n\n\nexport interface Props {\n  debug?: boolean;\n  useAmpm?: boolean;\n  editableTime?: boolean;\n}\n\ntype Unit = 'year' | 'month' | 'day' | 'hour' | 'minute' | 'second';\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'DateTimePicker',\n  props: /*@__PURE__*/_mergeModels({\n    debug: { type: Boolean, default: false },\n    useAmpm: { type: Boolean, default: true },\n    editableTime: { type: Boolean, default: true }\n  }, {\n    \"modelValue\": {default: new Date('2027-01-01 12:00:00 UTC')},\n    \"modelModifiers\": {},\n  }),\n  emits: [\"update:modelValue\"],\n  setup(__props: any) {\n\nconst props = __props;\n\n\nconst date = _useModel(__props, \"modelValue\");\n\nconst year = ref(date.value.getFullYear());\nconst month = ref(date.value.getMonth()+1);\nconst day = ref(date.value.getDate());\nconst hour = ref(date.value.getHours());\nconst minute = ref(date.value.getMinutes());\nconst second = ref(date.value.getSeconds());\n\n// const ampm = ref(hour.value >= 12);\n\n\nconst isAm = computed({\n  get: () => hour.value < 12,\n  set: (value) => {\n    if (value) {\n      for (let i = 0; i < 12; i++) {\n        decrement('hour');\n      }\n    } else {\n      for (let i = 0; i < 12; i++) {\n        increment('hour');\n      }\n    }\n  }\n});\n\n// watch(ampm, (value) => { isAm.value = value;});\n\nconst values = {\n  year: year,\n  month: month,\n  day: day,\n  hour: hour,\n  minute: minute,\n  second: second,\n};\n\nconst limits = computed(() => ({\n  year: { min: 1, max: Infinity },\n  month: { min: 1, max: 12 },\n  day: { min: 1, max: _daysInMonth(month.value, year.value) },\n  hour: { min: 0, max: 23 },\n  minute: { min: 0, max: 59 },\n  second: { min: 0, max: 59 },\n}));\n\nconst units: Unit[] = ['second', 'minute', 'hour', 'day', 'month', 'year'];\n\nfunction changeValue(unit: Unit, increment: boolean) {\n  const limit = limits.value[unit].max;\n  const min = limits.value[unit].min;\n\n  if (increment) {\n    if (values[unit].value < limit) {\n      values[unit].value++;\n    } else {\n      values[unit].value = min;\n      const nextUnit = units[units.indexOf(unit) + 1];\n      if (nextUnit) {\n        changeValue(nextUnit, increment);\n      } else if (unit === 'hour' && props.useAmpm) {\n        // Toggle AM/PM when hour goes from 11 to 12\n        isAm.value = !isAm.value;\n      }\n    }\n  } else {\n    if (values[unit].value > min) {\n      values[unit].value--;\n    } else {\n      values[unit].value = limit;\n      const prevUnit = units[units.indexOf(unit) + 1];\n      if (prevUnit) {\n        changeValue(prevUnit, increment);\n      } else if (unit === 'hour' && props.useAmpm) {\n        // Toggle AM/PM when hour goes from 12 to 11\n        isAm.value = !isAm.value;\n      }\n    }\n  }\n\n  // Ensure hour is always between 0 and 23\n  if (unit === 'hour') {\n    hour.value = hour.value % 24;\n  }\n}\n\nconst displayHour = computed({\n  get() {\n    if (props.useAmpm) {\n      const h = hour.value % 12;\n      return h === 0 ? 12 : h;\n    } else {\n      return hour.value;\n    }\n  },\n  set(value: number) {\n    if (props.useAmpm) {\n      if (value === 12) {\n        hour.value = isAm.value ? 0 : 12;\n      } else {\n        hour.value = isAm.value ? value : value + 12;\n      }\n    } else {\n      hour.value = value;\n    }\n  }\n});\n\nfunction increment(value: Unit) {\n  changeValue(value, true);\n}\n\nfunction decrement(value: Unit) {\n  changeValue(value, false);\n}\n\nfunction _daysInMonth(month: number, year: number) {\n  return new Date(year, month, 0).getDate();\n}\n\n\nfunction utcDate(date: Date) {\n  // utc date string\n  return date.toISOString(); \n}\n\nfunction pad2(n: number) {\n  return n.toString().padStart(2, '0');\n}\n\n// update the date v-model\nwatch([year, month, day, hour, minute, second], () => {\n  date.value = new Date(year.value, month.value-1, day.value, hour.value, minute.value, second.value);\n});\n\n// watcher to fix leap years\nwatch([year, month, day, hour, minute, second], () => {\n  if (month.value === 2 && day.value > _daysInMonth(month.value, year.value)) {\n    day.value = _daysInMonth(month.value, year.value);\n  }\n});\n// after we have mounted make the up and down buttons the same width\n// keep this up to date with the model value\nwatch(date, () => {\n  year.value = date.value.getFullYear();\n  month.value = date.value.getMonth()+1;\n  day.value = date.value.getDate();\n  hour.value = date.value.getHours();\n  minute.value = date.value.getMinutes();\n  second.value = date.value.getSeconds();\n});\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_v_icon = _resolveComponent(\"v-icon\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _createElementVNode(\"div\", _hoisted_3, [\n        _createElementVNode(\"button\", {\n          id: \"dtp__year-up\",\n          class: \"dtp__grid-item\",\n          onClick: _cache[0] || (_cache[0] = ($event: any) => (increment('year')))\n        }, [\n          _cache[21] || (_cache[21] = _createElementVNode(\"span\", { class: \"dtp__button-label\" }, \"yr\", -1)),\n          _createVNode(_component_v_icon, null, {\n            default: _withCtx(() => _cache[20] || (_cache[20] = [\n              _createTextVNode(\"mdi-menu-up\")\n            ])),\n            _: 1\n          })\n        ]),\n        _createVNode(TapToInput, {\n          editable: props.editableTime,\n          id: \"dtp__year\",\n          class: \"dtp__grid-item dtp__time_part\",\n          min: limits.value.year.min,\n          max: limits.value.year.max,\n          modelValue: year.value,\n          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((year).value = $event))\n        }, null, 8, [\"editable\", \"min\", \"max\", \"modelValue\"]),\n        _createElementVNode(\"button\", {\n          id: \"dtp__year-up\",\n          class: \"dtp__grid-item\",\n          onClick: _cache[2] || (_cache[2] = ($event: any) => (decrement('year')))\n        }, [\n          _createVNode(_component_v_icon, null, {\n            default: _withCtx(() => _cache[22] || (_cache[22] = [\n              _createTextVNode(\"mdi-menu-down\")\n            ])),\n            _: 1\n          })\n        ]),\n        _cache[40] || (_cache[40] = _createElementVNode(\"span\", null, null, -1)),\n        _cache[41] || (_cache[41] = _createElementVNode(\"span\", null, \"-\", -1)),\n        _cache[42] || (_cache[42] = _createElementVNode(\"span\", null, null, -1)),\n        _createElementVNode(\"button\", {\n          id: \"dtp__month-up\",\n          class: \"dtp__grid-item\",\n          onClick: _cache[3] || (_cache[3] = ($event: any) => (increment('month')))\n        }, [\n          _cache[24] || (_cache[24] = _createElementVNode(\"span\", { class: \"dtp__button-label\" }, \"mo\", -1)),\n          _createVNode(_component_v_icon, null, {\n            default: _withCtx(() => _cache[23] || (_cache[23] = [\n              _createTextVNode(\"mdi-menu-up\")\n            ])),\n            _: 1\n          })\n        ]),\n        _createVNode(TapToInput, {\n          editable: props.editableTime,\n          id: \"dtp__month\",\n          class: \"dtp__grid-item dtp__time_part\",\n          min: limits.value.month.min,\n          max: limits.value.month.max,\n          pad2: \"\",\n          modelValue: month.value,\n          \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((month).value = $event))\n        }, null, 8, [\"editable\", \"min\", \"max\", \"modelValue\"]),\n        _createElementVNode(\"button\", {\n          id: \"dtp__month-up\",\n          class: \"dtp__grid-item\",\n          onClick: _cache[5] || (_cache[5] = ($event: any) => (decrement('month')))\n        }, [\n          _createVNode(_component_v_icon, null, {\n            default: _withCtx(() => _cache[25] || (_cache[25] = [\n              _createTextVNode(\"mdi-menu-down\")\n            ])),\n            _: 1\n          })\n        ]),\n        _cache[43] || (_cache[43] = _createElementVNode(\"span\", null, null, -1)),\n        _cache[44] || (_cache[44] = _createElementVNode(\"span\", null, \"-\", -1)),\n        _renderSlot(_ctx.$slots, \"bottom-middle\", {}, () => [\n          _cache[26] || (_cache[26] = _createElementVNode(\"span\", null, null, -1))\n        ]),\n        _createElementVNode(\"button\", {\n          id: \"dtp__day-up\",\n          class: \"dtp__grid-item\",\n          onClick: _cache[6] || (_cache[6] = ($event: any) => (increment('day')))\n        }, [\n          _cache[28] || (_cache[28] = _createElementVNode(\"span\", { class: \"dtp__button-label\" }, \"day\", -1)),\n          _createVNode(_component_v_icon, null, {\n            default: _withCtx(() => _cache[27] || (_cache[27] = [\n              _createTextVNode(\"mdi-menu-up\")\n            ])),\n            _: 1\n          })\n        ]),\n        _createVNode(TapToInput, {\n          editable: props.editableTime,\n          id: \"dtp__day\",\n          class: \"dtp__grid-item dtp__time_part\",\n          min: limits.value.day.min,\n          max: limits.value.day.max,\n          pad2: \"\",\n          modelValue: day.value,\n          \"onUpdate:modelValue\": _cache[7] || (_cache[7] = ($event: any) => ((day).value = $event))\n        }, null, 8, [\"editable\", \"min\", \"max\", \"modelValue\"]),\n        _createElementVNode(\"button\", {\n          id: \"dtp__day-up\",\n          class: \"dtp__grid-item\",\n          onClick: _cache[8] || (_cache[8] = ($event: any) => (decrement('day')))\n        }, [\n          _createVNode(_component_v_icon, null, {\n            default: _withCtx(() => _cache[29] || (_cache[29] = [\n              _createTextVNode(\"mdi-menu-down\")\n            ])),\n            _: 1\n          })\n        ]),\n        _renderSlot(_ctx.$slots, \"top-middle\", {}, () => [\n          _cache[30] || (_cache[30] = _createElementVNode(\"span\", null, null, -1))\n        ]),\n        _createElementVNode(\"span\", _hoisted_4, [\n          _renderSlot(_ctx.$slots, \"center-middle\")\n        ]),\n        _cache[45] || (_cache[45] = _createElementVNode(\"span\", null, null, -1)),\n        _createElementVNode(\"button\", {\n          id: \"dtp__hour-up\",\n          class: \"dtp__grid-item\",\n          onClick: _cache[9] || (_cache[9] = ($event: any) => (increment('hour')))\n        }, [\n          _cache[32] || (_cache[32] = _createElementVNode(\"span\", { class: \"dtp__button-label\" }, \"hr\", -1)),\n          _createVNode(_component_v_icon, null, {\n            default: _withCtx(() => _cache[31] || (_cache[31] = [\n              _createTextVNode(\"mdi-menu-up\")\n            ])),\n            _: 1\n          })\n        ]),\n        _createVNode(TapToInput, {\n          editable: props.editableTime,\n          id: \"dtp__hour\",\n          class: \"dtp__grid-item dtp__time_part\",\n          min: limits.value.hour.min,\n          max: limits.value.hour.max,\n          pad2: \"\",\n          modelValue: displayHour.value,\n          \"onUpdate:modelValue\": _cache[10] || (_cache[10] = ($event: any) => ((displayHour).value = $event))\n        }, null, 8, [\"editable\", \"min\", \"max\", \"modelValue\"]),\n        _createElementVNode(\"button\", {\n          id: \"dtp__hour-up\",\n          class: \"dtp__grid-item\",\n          onClick: _cache[11] || (_cache[11] = ($event: any) => (decrement('hour')))\n        }, [\n          _createVNode(_component_v_icon, null, {\n            default: _withCtx(() => _cache[33] || (_cache[33] = [\n              _createTextVNode(\"mdi-menu-down\")\n            ])),\n            _: 1\n          })\n        ]),\n        _cache[46] || (_cache[46] = _createElementVNode(\"span\", null, null, -1)),\n        _cache[47] || (_cache[47] = _createElementVNode(\"span\", null, \":\", -1)),\n        _cache[48] || (_cache[48] = _createElementVNode(\"span\", null, null, -1)),\n        _createElementVNode(\"button\", {\n          id: \"dtp__minute-up\",\n          class: \"dtp__grid-item\",\n          onClick: _cache[12] || (_cache[12] = ($event: any) => (increment('minute')))\n        }, [\n          _cache[35] || (_cache[35] = _createElementVNode(\"span\", { class: \"dtp__button-label\" }, \"min\", -1)),\n          _createVNode(_component_v_icon, null, {\n            default: _withCtx(() => _cache[34] || (_cache[34] = [\n              _createTextVNode(\"mdi-menu-up\")\n            ])),\n            _: 1\n          })\n        ]),\n        _createVNode(TapToInput, {\n          editable: props.editableTime,\n          id: \"dtp__minute\",\n          class: \"dtp__grid-item dtp__time_part\",\n          min: limits.value.minute.min,\n          max: limits.value.minute.max,\n          pad2: \"\",\n          modelValue: minute.value,\n          \"onUpdate:modelValue\": _cache[13] || (_cache[13] = ($event: any) => ((minute).value = $event))\n        }, null, 8, [\"editable\", \"min\", \"max\", \"modelValue\"]),\n        _createElementVNode(\"button\", {\n          id: \"dtp__minute-up\",\n          class: \"dtp__grid-item\",\n          onClick: _cache[14] || (_cache[14] = ($event: any) => (decrement('minute')))\n        }, [\n          _createVNode(_component_v_icon, null, {\n            default: _withCtx(() => _cache[36] || (_cache[36] = [\n              _createTextVNode(\"mdi-menu-down\")\n            ])),\n            _: 1\n          })\n        ]),\n        _cache[49] || (_cache[49] = _createElementVNode(\"span\", null, null, -1)),\n        _cache[50] || (_cache[50] = _createElementVNode(\"span\", null, \":\", -1)),\n        _cache[51] || (_cache[51] = _createElementVNode(\"span\", null, null, -1)),\n        _createElementVNode(\"button\", {\n          id: \"dtp__second-up\",\n          class: \"dtp__grid-item\",\n          onClick: _cache[15] || (_cache[15] = ($event: any) => (increment('second')))\n        }, [\n          _cache[38] || (_cache[38] = _createElementVNode(\"span\", { class: \"dtp__button-label\" }, \"sec\", -1)),\n          _createVNode(_component_v_icon, null, {\n            default: _withCtx(() => _cache[37] || (_cache[37] = [\n              _createTextVNode(\"mdi-menu-up\")\n            ])),\n            _: 1\n          })\n        ]),\n        _createVNode(TapToInput, {\n          editable: props.editableTime,\n          id: \"dtp__second\",\n          class: \"dtp__grid-item dtp__time_part\",\n          min: limits.value.second.min,\n          max: limits.value.second.max,\n          pad2: \"\",\n          modelValue: second.value,\n          \"onUpdate:modelValue\": _cache[16] || (_cache[16] = ($event: any) => ((second).value = $event))\n        }, null, 8, [\"editable\", \"min\", \"max\", \"modelValue\"]),\n        _createElementVNode(\"button\", {\n          id: \"dtp__second-up\",\n          class: \"dtp__grid-item\",\n          onClick: _cache[17] || (_cache[17] = ($event: any) => (decrement('second')))\n        }, [\n          _createVNode(_component_v_icon, null, {\n            default: _withCtx(() => _cache[39] || (_cache[39] = [\n              _createTextVNode(\"mdi-menu-down\")\n            ])),\n            _: 1\n          })\n        ])\n      ]),\n      (props.useAmpm)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [\n            _createElementVNode(\"button\", {\n              name: \"set-am\",\n              class: _normalizeClass([\"dtp__ampm-button\", \"dtp__ampm-am\", { \"dtp__ampm-active\": isAm.value }]),\n              onClick: _cache[18] || (_cache[18] = ($event: any) => (isAm.value = true)),\n              \"aria-label\": \"Set AM\"\n            }, \"AM\", 2),\n            _createElementVNode(\"button\", {\n              name: \"set-pm\",\n              class: _normalizeClass([\"dtp__ampm-button\", \"dtp__ampm-pm\", { \"dtp__ampm-active\": !isAm.value }]),\n              onClick: _cache[19] || (_cache[19] = ($event: any) => (isAm.value = false)),\n              \"aria-label\": \"Set PM\"\n            }, \"PM\", 2)\n          ]))\n        : _createCommentVNode(\"\", true)\n    ]),\n    _createElementVNode(\"div\", _hoisted_6, [\n      _renderSlot(_ctx.$slots, \"default\")\n    ]),\n    (props.debug)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [\n          _createElementVNode(\"span\", null, \"Local: \" + _toDisplayString(year.value) + \"-\" + _toDisplayString(pad2(month.value)) + \"-\" + _toDisplayString(pad2(day.value)) + \" \" + _toDisplayString(pad2(hour.value)) + \":\" + _toDisplayString(pad2(minute.value)) + \":\" + _toDisplayString(pad2(second.value)), 1),\n          _createElementVNode(\"span\", null, \"UTC: \" + _toDisplayString(utcDate(date.value)), 1)\n        ]))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","<!-- Design Inspired by Date/Time Picker at Stellarium Web https://stellarium-web.org/ -->\n<template>\n  <div class=\"dtp__container\">\n    <div class=\"dtp__row\">\n      <div class=\"dtp__grid-container\">\n\n        <!-- 1-1 -->\n        <button id=\"dtp__year-up\" class=\"dtp__grid-item\" @click=\"increment('year')\">\n          <span class=\"dtp__button-label\">yr</span>\n          <v-icon>mdi-menu-up</v-icon>\n        </button>\n        <!-- 2-1 -->\n        <tap-to-input :editable=\"props.editableTime\" id=\"dtp__year\" class=\"dtp__grid-item dtp__time_part\" :min=\"limits.year.min\" :max=\"limits.year.max\" v-model=\"year\" />\n        <!-- 3-1 -->\n        <button id=\"dtp__year-up\" class=\"dtp__grid-item\" @click=\"decrement('year')\">\n          <v-icon>mdi-menu-down</v-icon>\n        </button>\n\n        <!-- 1-2 -->\n        <span></span>\n        <!-- 2-2 -->\n        <span>-</span>\n        <!-- 3-2 -->\n        <span></span>\n\n        <!-- 1-3 -->\n        <button id=\"dtp__month-up\" class=\"dtp__grid-item\" @click=\"increment('month')\">\n          <span class=\"dtp__button-label\">mo</span>\n          <v-icon>mdi-menu-up</v-icon>\n        </button>\n        <!-- 2-3 -->\n        <tap-to-input :editable=\"props.editableTime\" id=\"dtp__month\" class=\"dtp__grid-item dtp__time_part\" :min=\"limits.month.min\" :max=\"limits.month.max\" pad2 v-model=\"month\" />\n        <!-- 3-3 -->\n        <button id=\"dtp__month-up\" class=\"dtp__grid-item\" @click=\"decrement('month')\">\n          <v-icon>mdi-menu-down</v-icon>\n        </button>\n\n        <!-- 1-4 -->\n        <span></span>\n        <!-- 2-4 -->\n        <span>-</span>\n        <!-- 3-4 -->\n        <slot name=\"bottom-middle\"><span></span></slot>\n\n        <!-- 1-5 -->\n        <button id=\"dtp__day-up\" class=\"dtp__grid-item\" @click=\"increment('day')\">\n          <span class=\"dtp__button-label\">day</span>\n          <v-icon>mdi-menu-up</v-icon>\n        </button>\n        <!-- 2-5 -->\n        <tap-to-input :editable=\"props.editableTime\" id=\"dtp__day\" class=\"dtp__grid-item dtp__time_part\" :min=\"limits.day.min\" :max=\"limits.day.max\" pad2 v-model=\"day\" />\n        <!-- 3-5 -->\n        <button id=\"dtp__day-up\" class=\"dtp__grid-item\" @click=\"decrement('day')\">\n          <v-icon>mdi-menu-down</v-icon>\n        </button>\n\n        <!-- 1-6 -->\n        <slot name=\"top-middle\"><span></span></slot>\n        <!-- 2-6 -->\n        <span class=\"dtp__middle-slot\"><slot name=\"center-middle\"></slot></span>\n        <!-- 3-6 -->\n        <span></span>\n\n        <!-- 1-7 -->\n        <button id=\"dtp__hour-up\" class=\"dtp__grid-item\" @click=\"increment('hour')\">\n          <span class=\"dtp__button-label\">hr</span>\n          <v-icon>mdi-menu-up</v-icon>\n        </button>\n        <!-- 2-7 -->\n        <tap-to-input :editable=\"props.editableTime\" id=\"dtp__hour\" class=\"dtp__grid-item dtp__time_part\" :min=\"limits.hour.min\" :max=\"limits.hour.max\" pad2 v-model=\"displayHour\" />\n        <!-- 3-7 -->\n        <button id=\"dtp__hour-up\" class=\"dtp__grid-item\" @click=\"decrement('hour')\">\n          <v-icon>mdi-menu-down</v-icon>\n        </button>\n\n        <!-- 1-8 -->\n        <span></span>\n        <!-- 2-8 -->\n        <span>:</span>\n        <!-- 3-8 -->\n        <span></span>\n\n        <!-- 1-9 -->\n        <button id=\"dtp__minute-up\" class=\"dtp__grid-item\" @click=\"increment('minute')\">\n          <span class=\"dtp__button-label\">min</span>\n          <v-icon>mdi-menu-up</v-icon>\n        </button>\n        <!-- 2-9 -->\n        <tap-to-input :editable=\"props.editableTime\" id=\"dtp__minute\" class=\"dtp__grid-item dtp__time_part\" :min=\"limits.minute.min\" :max=\"limits.minute.max\" pad2 v-model=\"minute\" />\n        <!-- 3-9 -->\n        <button id=\"dtp__minute-up\" class=\"dtp__grid-item\" @click=\"decrement('minute')\">\n          <v-icon>mdi-menu-down</v-icon>\n        </button>\n\n        <!-- 1-10 -->\n        <span></span>\n        <!-- 2-10 -->\n        <span>:</span>\n        <!-- 3-10 -->\n        <span></span>\n\n        <!-- 1-11 -->\n        <button id=\"dtp__second-up\" class=\"dtp__grid-item\" @click=\"increment('second')\">\n          <span class=\"dtp__button-label\">sec</span>\n          <v-icon>mdi-menu-up</v-icon>\n        </button>\n        <!-- 2-11 -->\n        <tap-to-input :editable=\"props.editableTime\" id=\"dtp__second\" class=\"dtp__grid-item dtp__time_part\" :min=\"limits.second.min\" :max=\"limits.second.max\" pad2 v-model=\"second\" />\n        <!-- 3-11 -->\n        <button id=\"dtp__second-up\" class=\"dtp__grid-item\" @click=\"decrement('second')\">\n          <v-icon>mdi-menu-down</v-icon>\n        </button>\n\n        <!-- <div class=\"dtp__rollers up-rollers\"> -->\n        <!-- </div> -->\n\n        <!-- <span class=\"dtp__time-string\"> -->\n        <!-- <span id=\"dtp__year\" class=\"dtp__grid-item dtp__time_part\">{{ year }}</span> -->\n\n        <!-- <span id=\"dtp__month\" class=\"dtp__grid-item dtp__time_part\">{{ pad2(month) }}</span> -->\n        <!-- <span id=\"dtp__day\" class=\"dtp__grid-item dtp__time_part\">{{ pad2(day) }}</span>  -->\n        <!-- <span id=\"dtp__hour\" class=\"dtp__grid-item dtp__time_part\">{{ pad2(displayHour) }}</span> -->\n        <!-- <span id=\"dtp__minute\" class=\"dtp__grid-item dtp__time_part\">{{ pad2(minute) }}</span> -->\n        <!-- <span id=\"dtp__second\" class=\"dtp__grid-item dtp__time_part\">{{ pad2(second) }}</span> -->\n        <!-- </span> -->\n\n      </div>\n      \n      <div class=\"dtp__ampm\" v-if=\"props.useAmpm\">\n        <button \n          name=\"set-am\" \n          :class='[\"dtp__ampm-button\", \"dtp__ampm-am\", { \"dtp__ampm-active\": isAm }]' \n          @click=\"isAm = true\" \n          aria-label=\"Set AM\"\n          >AM</button>\n        <button \n          name=\"set-pm\" \n          :class='[\"dtp__ampm-button\", \"dtp__ampm-pm\", { \"dtp__ampm-active\": !isAm }]' \n          @click=\"isAm = false\" \n          aria-label=\"Set PM\"\n          >PM</button>\n      </div>\n    </div>\n    \n    <div class=\"dtp__bottom-content\">\n      <slot></slot>\n    </div>\n    <div v-if=\"props.debug\" class=\"dtp__debug\">\n      <span>Local: {{ year }}-{{ pad2(month) }}-{{ pad2(day) }} {{ pad2(hour) }}:{{ pad2(minute) }}:{{ pad2(second) }}</span>\n      <span>UTC: {{ utcDate(date) }} </span>\n    </div>\n\n  </div>\n\n</template>\n\n\n<script setup lang=\"ts\">\nimport { ref, watch, computed } from 'vue';\nimport TapToInput from './TapToInput.vue';\n\n\nexport interface Props {\n  debug?: boolean;\n  useAmpm?: boolean;\n  editableTime?: boolean;\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  debug: false,\n  useAmpm: true,\n  editableTime: true,\n});\n\n\nconst date = defineModel({default: new Date('2027-01-01 12:00:00 UTC')});\n\nconst year = ref(date.value.getFullYear());\nconst month = ref(date.value.getMonth()+1);\nconst day = ref(date.value.getDate());\nconst hour = ref(date.value.getHours());\nconst minute = ref(date.value.getMinutes());\nconst second = ref(date.value.getSeconds());\n\n// const ampm = ref(hour.value >= 12);\n\n\nconst isAm = computed({\n  get: () => hour.value < 12,\n  set: (value) => {\n    if (value) {\n      for (let i = 0; i < 12; i++) {\n        decrement('hour');\n      }\n    } else {\n      for (let i = 0; i < 12; i++) {\n        increment('hour');\n      }\n    }\n  }\n});\n\n// watch(ampm, (value) => { isAm.value = value;});\n\nconst values = {\n  year: year,\n  month: month,\n  day: day,\n  hour: hour,\n  minute: minute,\n  second: second,\n};\n\ntype Unit = 'year' | 'month' | 'day' | 'hour' | 'minute' | 'second';\n\nconst limits = computed(() => ({\n  year: { min: 1, max: Infinity },\n  month: { min: 1, max: 12 },\n  day: { min: 1, max: _daysInMonth(month.value, year.value) },\n  hour: { min: 0, max: 23 },\n  minute: { min: 0, max: 59 },\n  second: { min: 0, max: 59 },\n}));\n\nconst units: Unit[] = ['second', 'minute', 'hour', 'day', 'month', 'year'];\n\nfunction changeValue(unit: Unit, increment: boolean) {\n  const limit = limits.value[unit].max;\n  const min = limits.value[unit].min;\n\n  if (increment) {\n    if (values[unit].value < limit) {\n      values[unit].value++;\n    } else {\n      values[unit].value = min;\n      const nextUnit = units[units.indexOf(unit) + 1];\n      if (nextUnit) {\n        changeValue(nextUnit, increment);\n      } else if (unit === 'hour' && props.useAmpm) {\n        // Toggle AM/PM when hour goes from 11 to 12\n        isAm.value = !isAm.value;\n      }\n    }\n  } else {\n    if (values[unit].value > min) {\n      values[unit].value--;\n    } else {\n      values[unit].value = limit;\n      const prevUnit = units[units.indexOf(unit) + 1];\n      if (prevUnit) {\n        changeValue(prevUnit, increment);\n      } else if (unit === 'hour' && props.useAmpm) {\n        // Toggle AM/PM when hour goes from 12 to 11\n        isAm.value = !isAm.value;\n      }\n    }\n  }\n\n  // Ensure hour is always between 0 and 23\n  if (unit === 'hour') {\n    hour.value = hour.value % 24;\n  }\n}\n\nconst displayHour = computed({\n  get() {\n    if (props.useAmpm) {\n      const h = hour.value % 12;\n      return h === 0 ? 12 : h;\n    } else {\n      return hour.value;\n    }\n  },\n  set(value: number) {\n    if (props.useAmpm) {\n      if (value === 12) {\n        hour.value = isAm.value ? 0 : 12;\n      } else {\n        hour.value = isAm.value ? value : value + 12;\n      }\n    } else {\n      hour.value = value;\n    }\n  }\n});\n\nfunction increment(value: Unit) {\n  changeValue(value, true);\n}\n\nfunction decrement(value: Unit) {\n  changeValue(value, false);\n}\n\nfunction _daysInMonth(month: number, year: number) {\n  return new Date(year, month, 0).getDate();\n}\n\n\nfunction utcDate(date: Date) {\n  // utc date string\n  return date.toISOString(); \n}\n\nfunction pad2(n: number) {\n  return n.toString().padStart(2, '0');\n}\n\n// update the date v-model\nwatch([year, month, day, hour, minute, second], () => {\n  date.value = new Date(year.value, month.value-1, day.value, hour.value, minute.value, second.value);\n});\n\n// watcher to fix leap years\nwatch([year, month, day, hour, minute, second], () => {\n  if (month.value === 2 && day.value > _daysInMonth(month.value, year.value)) {\n    day.value = _daysInMonth(month.value, year.value);\n  }\n});\n// after we have mounted make the up and down buttons the same width\n// keep this up to date with the model value\nwatch(date, () => {\n  year.value = date.value.getFullYear();\n  month.value = date.value.getMonth()+1;\n  day.value = date.value.getDate();\n  hour.value = date.value.getHours();\n  minute.value = date.value.getMinutes();\n  second.value = date.value.getSeconds();\n});\n\n</script>\n\n<style lang=\"less\">\n@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Mono:wght@500&display=swap');\n\n.dtp__container {\n  padding-top: 1.5em;\n  padding-bottom: 5px;\n  padding-inline: 15px;\n}\n\n@media (max-width: 350px) {\n  .dtp__container {\n    font-size: 5vw;\n  }\n}\n\n.dtp__grid-container {\n  display: grid;\n  grid-auto-flow: column;\n  grid-template-columns: repeat(11, 0fr);\n  grid-template-rows: auto auto auto;\n  justify-items: center;\n  justify-content: center;\n  font-family: 'Noto Sans Mono', monospace;\n  gap: 2px;\n  margin-bottom: 10px;\n}\n\n.dtp__row {\n  display: grid;\n  grid-template-columns: 0fr 0fr;\n  align-items: center;\n  gap: 1em;\n}\n\n@media (max-width: 350px) {\n  .dtp__row {\n    display: grid;\n    grid-template-columns: 0fr;\n    grid-template-rows: 0fr 0fr;\n    justify-items: center;\n    gap: 2px;\n  }\n}\n\n.dtp__grid-container > * {\n  margin: 0;\n  padding: 0;\n  width: 100%;\n}\n\n.dtp__middle-slot {\n  width: 1.5em;\n}\n\n.dtp__bottom-content {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.dtp__grid-item {\n  position: relative;\n  // outline: 1px solid red;\n  text-align: center;\n}\n\nspan.dtp__button-label {\n  font-size: 0.8em;\n  // display: none;\n  position:absolute;\n  top: -5px;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  // outline: 1px solid red;\n}\n\n.dtp__ampm {\n  display: grid;\n  grid-template-columns: 3em;\n  grid-template-rows: 0fr 0fr;\n  gap: 1px;\n}\n\n.dtp__ampm-button {\n  background-color: #444;\n  color: #ccc;\n  padding: 0;\n  align-self: center;\n  font-size: .9em;\n  width: 4ch;\n}\n\n// for dtp__ampm-am/pm add only left right and top/bottom border raidus\n.dtp__ampm-am {\n  border: 1px solid var(--accent-color);\n  border-top-left-radius: .75ch;\n  border-top-right-radius: .75ch;\n  border-bottom: none\n}\n\n.dtp__ampm-pm {\n  border: 1px solid var(--accent-color);\n  border-bottom-left-radius: .75ch;\n  border-bottom-right-radius: .75ch;\n  border-top: none\n}\n\n@media (max-width: 350px) { \n  .dtp__ampm {\n    grid-template-columns: 0fr 0fr;\n    grid-template-rows: 0fr;\n    margin-bottom: 0.5em;\n  }\n  \n  .dtp__ampm-am {\n    border: 1px solid var(--accent-color);\n    border-radius: 0;\n    border-top-left-radius: .75ch;\n    border-bottom-left-radius: .75ch;\n    border-right: none;\n  }\n  \n  .dtp__ampm-pm {\n    border: 1px solid var(--accent-color);\n    border-radius: 0;\n    border-top-right-radius: .75ch;\n    border-bottom-right-radius: .75ch;\n    border-left: none;\n  }\n  \n}\n\n.dtp__ampm-active {\n  color: var(--accent-color);\n  background-color: #0e0552;\n}\n\n/* Chrome, Safari, Edge, Opera */\n.dtp__container input::-webkit-outer-spin-button,\ninput::-webkit-inner-spin-button {\n  -webkit-appearance: none;\n  margin: 0;\n}\n\n/* Firefox */\n.dtp__container  input[type=number] {\n  -moz-appearance: textfield;\n  appearance: textfield;\n}\n\ninput#dtp__year {\n  width: 4ch;\n}\n\ninput.dtp__time_part {\n  width: 2.5ch;\n}\n\n</style>\n","import script from \"./DateTimePicker.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./DateTimePicker.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./DateTimePicker.vue?vue&type=style&index=0&id=4bf0a910&lang=less\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, vShow as _vShow, withKeys as _withKeys, withModifiers as _withModifiers, normalizeClass as _normalizeClass, withCtx as _withCtx, withDirectives as _withDirectives, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nimport { computed, ref, watch } from \"vue\";\nimport { MapBoxFeature, MapBoxFeatureCollection, textForMapboxFeature } from \"@cosmicds/vue-toolkit/src/mapbox\";\n\ntype SearchProvider = (searchText: string) => Promise<MapBoxFeatureCollection | null>;\n\nexport interface LocationSearchProps {\n  searchProvider?: SearchProvider;\n  modelValue?: boolean;\n  stayOpen?: boolean;\n  accentColor?: string;\n  small?: boolean;\n  theme?: string;\n  buttonSize?: string;\n  bgColor?: string;\n}\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'LocationSearch',\n  props: {\n    searchProvider: { type: Function, default: (_searchText: string) => null },\n    modelValue: { type: Boolean, default: true },\n    stayOpen: { type: Boolean, default: false },\n    accentColor: { default: \"white\" },\n    small: { type: Boolean, default: false },\n    theme: { default: \"dark\" },\n    buttonSize: { default: \"1x\" },\n    bgColor: { default: \"black\" }\n  },\n  emits: [\"error\", \"set-location\", \"update:modelValue\"],\n  setup(__props: any, { emit: __emit }) {\n\nconst props = __props;\n\nconst emit = __emit;\n\nconst searchOpen = ref(props.modelValue || props.stayOpen);\nconst searchItem = ref<string | null>(null);\nconst searchResults = ref<MapBoxFeatureCollection | null>(null);\nconst searchErrorMessage = ref<string | null>(null);\nconst locationJustUpdated = ref(false);\nconst menuOpen = ref(false);\nconst comboFocused = ref(false);\nconst searchInput = ref<HTMLInputElement | null>(null);\n\nconst cssStyles = computed(() => {\n  return {\n    \"--accent-color\": props.accentColor,\n    \"--bg-color\": props.bgColor,\n    \"--fg-container-padding\": searchOpen.value ? (props.small ? \"0px 5px 0px 0px\" : \"5px 10px 12px 10px\") : \"0px\",\n    \"--border-radius\": searchOpen.value ? \"7px\" : \"20px\",\n  };\n});\n\nfunction itemText(item: string | MapBoxFeature): string {\n  if (typeof item === \"string\") {\n    return item;\n  }\n  return textForMapboxFeature(item);\n}\n\nfunction performForwardGeocodingSearch() {\n  const search = searchItem.value;\n  if (search === null || search.length < 3) {\n    return;\n  }\n\n  props.searchProvider(search).then(info => {\n    if (info !== null && info.features.length === 1) {\n      setLocationFromSearchFeature(info.features[0]);\n    } else if (info !== null && info.features.length === 0) {\n      searchErrorMessage.value = \"No matching places were found\";\n      emit(\"error\", searchErrorMessage.value); \n    } else {\n      searchResults.value = info;\n    }\n  });\n}\n\nfunction focusCombobox() {\n  const input = searchInput.value as HTMLInputElement;\n  input.focus();\n}\n\nfunction blurCombobox() {\n  const input = searchInput.value as HTMLInputElement;\n  input.blur();\n}\n\nfunction toggleSearch() {\n  if (searchOpen.value) {\n    performForwardGeocodingSearch();\n    menuOpen.value = true;\n    focusCombobox();\n  } else {\n    searchOpen.value = true;\n  }\n}\n\n// function closeSearch() {\n//   searchOpen.value = false;\n//   clearSearchData();\n// }\n\nfunction onFocusChange(focused: boolean) {\n  comboFocused.value = focused;\n}\n\nfunction setLocationFromSearchFeature(feature: MapBoxFeature) {\n  blurCombobox();\n  timedJustUpdatedLocation();\n  clearSearchData();\n  emit(\"set-location\", feature);\n}\n\nfunction clearSearchData() {\n  searchResults.value = null;\n  searchItem.value = null;\n  searchErrorMessage.value = null;\n}\n\nfunction timedJustUpdatedLocation() {\n  locationJustUpdated.value = true;\n  setTimeout(() => {\n    locationJustUpdated.value = false;\n  }, 5000);\n}\n\nwatch(() => props.modelValue, (value: boolean) => { searchOpen.value = value; });\n\nwatch(searchOpen, (value: boolean) => emit(\"update:modelValue\", value));\n\nwatch(searchItem, function(item: string | MapBoxFeature | null) {\n  if (searchErrorMessage.value) {\n    searchErrorMessage.value = null;\n  }\n  if (!item || (typeof item === \"string\" && item.length === 0)) {\n    searchResults.value = null;\n  }\n  if (item && typeof item !== \"string\") {\n    setLocationFromSearchFeature(item);\n  }\n});\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\")!\n  const _component_v_combobox = _resolveComponent(\"v-combobox\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    class: \"forward-geocoding-container\",\n    style: _normalizeStyle(cssStyles.value)\n  }, [\n    _withDirectives(_createVNode(_component_v_combobox, {\n      class: _normalizeClass(['forward-geocoding-input', locationJustUpdated.value ? 'geocode-success' : '', _ctx.small ? 'forward-geocoding-input-small' : '']),\n      modelValue: searchItem.value,\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((searchItem).value = $event)),\n      items: searchResults.value ? searchResults.value.features : [],\n      \"item-title\": itemText,\n      \"bg-color\": _ctx.bgColor,\n      label: \"Enter city or zip\",\n      density: _ctx.small ? 'compact' : 'default',\n      \"hide-details\": \"\",\n      solo: \"\",\n      color: _ctx.accentColor,\n      onInput: () => {},\n      onKeydown: [\n        _withKeys(performForwardGeocodingSearch, [\"enter\"]),\n        _cache[1] || (_cache[1] = _withKeys(($event: any) => (searchResults.value = null), [\"esc\"])),\n        _cache[2] || (_cache[2] = _withModifiers(() => {}, [\"stop\"]))\n      ],\n      \"error-messages\": searchErrorMessage.value,\n      \"onClick:append\": focusCombobox,\n      \"onUpdate:focused\": _cache[3] || (_cache[3] = ($event: any) => (onFocusChange($event))),\n      ref_key: \"searchInput\",\n      ref: searchInput,\n      menu: menuOpen.value,\n      \"onUpdate:menu\": _cache[4] || (_cache[4] = ($event: any) => (menuOpen.value = $event))\n    }, {\n      append: _withCtx(() => [\n        _createVNode(_component_font_awesome_icon, {\n          class: \"geocoding-search-icon\",\n          icon: \"magnifying-glass\",\n          size: searchOpen.value ? 'xl' : _ctx.buttonSize,\n          color: \"gray\",\n          onClick: toggleSearch\n        }, null, 8, [\"size\"])\n      ]),\n      _: 1\n    }, 8, [\"class\", \"modelValue\", \"items\", \"bg-color\", \"density\", \"color\", \"error-messages\", \"menu\"]), [\n      [_vShow, searchOpen.value]\n    ]),\n    _withDirectives(_createVNode(_component_font_awesome_icon, {\n      class: \"geocoding-search-icon\",\n      icon: \"magnifying-glass\",\n      size: searchOpen.value ? 'xl' : _ctx.buttonSize,\n      color: \"gray\",\n      onClick: _withModifiers(toggleSearch, [\"prevent\"])\n    }, null, 8, [\"size\"]), [\n      [_vShow, !searchOpen.value && !_ctx.stayOpen]\n    ])\n  ], 4))\n}\n}\n\n})","<template>\n  <div\n    class=\"forward-geocoding-container\"\n    :style=\"cssStyles\"\n  >\n    <v-combobox\n      v-show=\"searchOpen\"\n      :class=\"['forward-geocoding-input', locationJustUpdated ? 'geocode-success' : '', small ? 'forward-geocoding-input-small' : '']\"\n      v-model=\"searchItem\"\n      :items=\"searchResults ? searchResults.features : []\"\n      :item-title=\"itemText\"\n      :bg-color=\"bgColor\"\n      label=\"Enter city or zip\"\n      :density=\"small ? 'compact' : 'default'\"\n      hide-details\n      solo\n      :color=\"accentColor\"\n      @input=\"() => {}\"\n      @keydown.enter=\"performForwardGeocodingSearch\"\n      @keydown.esc=\"searchResults = null\"\n      @keydown.stop\n      :error-messages=\"searchErrorMessage\"\n      @click:append=\"focusCombobox\"\n      @update:focused=\"onFocusChange($event)\"\n      ref=\"searchInput\"\n      :menu=\"menuOpen\"\n      @update:menu=\"menuOpen = $event\"\n    >\n    <template v-slot:append>\n      <font-awesome-icon\n        class=\"geocoding-search-icon\"\n        icon=\"magnifying-glass\"\n        :size=\"searchOpen ? 'xl' : buttonSize\"\n        color=\"gray\"\n        @click=\"toggleSearch\"\n      ></font-awesome-icon>\n    </template>\n  </v-combobox>\n  <font-awesome-icon\n      v-show=\"!searchOpen && !stayOpen\"\n      class=\"geocoding-search-icon\"\n      icon=\"magnifying-glass\"\n      :size=\"searchOpen ? 'xl' : buttonSize\"\n      color=\"gray\"\n      @click.prevent=\"toggleSearch\"\n    ></font-awesome-icon>\n  </div>\n</template> \n\n<script setup lang=\"ts\">\nimport { computed, ref, watch } from \"vue\";\nimport { MapBoxFeature, MapBoxFeatureCollection, textForMapboxFeature } from \"@cosmicds/vue-toolkit/src/mapbox\";\n\ntype SearchProvider = (searchText: string) => Promise<MapBoxFeatureCollection | null>;\n\nexport interface LocationSearchProps {\n  searchProvider?: SearchProvider;\n  modelValue?: boolean;\n  stayOpen?: boolean;\n  accentColor?: string;\n  small?: boolean;\n  theme?: string;\n  buttonSize?: string;\n  bgColor?: string;\n}\n\nconst props = withDefaults(defineProps<LocationSearchProps>(), {\n  searchProvider: (_searchText: string) => null,\n  modelValue: true,\n  stayOpen: false,\n  accentColor: \"white\",\n  small: false,\n  theme: \"dark\",\n  buttonSize: \"1x\",\n  bgColor: \"black\",\n});\n\nconst emit = defineEmits<{\n  (e: \"error\", message: string): void\n  (e: \"set-location\", feature: MapBoxFeature): void\n  (e: \"update:modelValue\", value: boolean): void\n}>();\n\nconst searchOpen = ref(props.modelValue || props.stayOpen);\nconst searchItem = ref<string | null>(null);\nconst searchResults = ref<MapBoxFeatureCollection | null>(null);\nconst searchErrorMessage = ref<string | null>(null);\nconst locationJustUpdated = ref(false);\nconst menuOpen = ref(false);\nconst comboFocused = ref(false);\nconst searchInput = ref<HTMLInputElement | null>(null);\n\nconst cssStyles = computed(() => {\n  return {\n    \"--accent-color\": props.accentColor,\n    \"--bg-color\": props.bgColor,\n    \"--fg-container-padding\": searchOpen.value ? (props.small ? \"0px 5px 0px 0px\" : \"5px 10px 12px 10px\") : \"0px\",\n    \"--border-radius\": searchOpen.value ? \"7px\" : \"20px\",\n  };\n});\n\nfunction itemText(item: string | MapBoxFeature): string {\n  if (typeof item === \"string\") {\n    return item;\n  }\n  return textForMapboxFeature(item);\n}\n\nfunction performForwardGeocodingSearch() {\n  const search = searchItem.value;\n  if (search === null || search.length < 3) {\n    return;\n  }\n\n  props.searchProvider(search).then(info => {\n    if (info !== null && info.features.length === 1) {\n      setLocationFromSearchFeature(info.features[0]);\n    } else if (info !== null && info.features.length === 0) {\n      searchErrorMessage.value = \"No matching places were found\";\n      emit(\"error\", searchErrorMessage.value); \n    } else {\n      searchResults.value = info;\n    }\n  });\n}\n\nfunction focusCombobox() {\n  const input = searchInput.value as HTMLInputElement;\n  input.focus();\n}\n\nfunction blurCombobox() {\n  const input = searchInput.value as HTMLInputElement;\n  input.blur();\n}\n\nfunction toggleSearch() {\n  if (searchOpen.value) {\n    performForwardGeocodingSearch();\n    menuOpen.value = true;\n    focusCombobox();\n  } else {\n    searchOpen.value = true;\n  }\n}\n\n// function closeSearch() {\n//   searchOpen.value = false;\n//   clearSearchData();\n// }\n\nfunction onFocusChange(focused: boolean) {\n  comboFocused.value = focused;\n}\n\nfunction setLocationFromSearchFeature(feature: MapBoxFeature) {\n  blurCombobox();\n  timedJustUpdatedLocation();\n  clearSearchData();\n  emit(\"set-location\", feature);\n}\n\nfunction clearSearchData() {\n  searchResults.value = null;\n  searchItem.value = null;\n  searchErrorMessage.value = null;\n}\n\nfunction timedJustUpdatedLocation() {\n  locationJustUpdated.value = true;\n  setTimeout(() => {\n    locationJustUpdated.value = false;\n  }, 5000);\n}\n\nwatch(() => props.modelValue, (value: boolean) => { searchOpen.value = value; });\n\nwatch(searchOpen, (value: boolean) => emit(\"update:modelValue\", value));\n\nwatch(searchItem, function(item: string | MapBoxFeature | null) {\n  if (searchErrorMessage.value) {\n    searchErrorMessage.value = null;\n  }\n  if (!item || (typeof item === \"string\" && item.length === 0)) {\n    searchResults.value = null;\n  }\n  if (item && typeof item !== \"string\") {\n    setLocationFromSearchFeature(item);\n  }\n});\n</script>\n\n<style lang=\"less\">\n\n// https://vue-loader.vuejs.org/guide/scoped-css.html#deep-selectors\n.forward-geocoding-container {\n  --border-radius: 20px;\n  position: relative;\n  color: var(--accent-color);\n  border: 2px solid var(--accent-color);\n  border-radius: var(--border-radius);\n  background-color: var(--bg-color);\n  margin-left: 0.25rem;\n  margin-bottom: 0.25rem;\n  padding: var(--fg-container-padding);\n\n  // there are two separate labels, we want the 2nd one to be large. the first is the small floating label\n  .v-field > .v-field__field > .v-label.v-field-label:nth-child(2) {\n    font-size: 1.2rem;\n  }\n\n  // .v-input--horizontal .v-input__append {\n  //   margin-inline-start: 0;\n  // }\n  \n  .v-text-field {\n    min-width: 150px;\n  }\n  \n  .v-field--variant-filled.v-field--has-background .v-field__overlay {\n    border-top-right-radius: 0px;\n}\n\n  .forward-geocoding-input > .v-input__control > .v-field {\n    border-radius: var(--border-radius);\n  }\n  \n  .forward-geocoding-input.geocode-success label {\n    opacity: 1;\n  }\n  \n  .forward-geocoding-input-small label {\n    // .v-label sets default to 1rem\n    font-size: 0.8rem;\n  }\n\n  .forward-geocoding-input-row {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-around;\n    gap: 10px;\n    align-items: center;\n  }\n  \n  .geocoding-search-icon {\n    padding-inline: calc(0.3 * var(--default-line-height));\n    padding-block: calc(0.4 * var(--default-line-height));\n  }\n\n  .geocoding-search-icon:hover, #geocoding-close-icon:hover {\n    cursor: pointer;\n  }\n\n}\n</style>\n","import script from \"./LocationSearch.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./LocationSearch.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./LocationSearch.vue?vue&type=style&index=0&id=049c9a1e&lang=less\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, mergeProps as _mergeProps, normalizeStyle as _normalizeStyle } from \"vue\"\n\nconst _hoisted_1 = {\n  key: 1,\n  id: \"playback-play-pause-button\"\n}\nconst _hoisted_2 = {\n  key: 0,\n  id: \"playback-reverse-time\"\n}\nconst _hoisted_3 = { id: \"reverse-button-text\" }\nconst _hoisted_4 = { id: \"playback-slider-container\" }\nconst _hoisted_5 = { id: \"tick-container\" }\nconst _hoisted_6 = { class: \"tick-label\" }\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_v_icon = _resolveComponent(\"v-icon\")!\n  const _component_icon_button = _resolveComponent(\"icon-button\")!\n  const _component_v_slider = _resolveComponent(\"v-slider\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", {\n    id: \"enclosing-playback-container\",\n    style: _normalizeStyle(_ctx.cssVars)\n  }, [\n    ((_ctx.inline && _ctx.inlineButton) || _ctx.showCloseButton)\n      ? (_openBlock(), _createElementBlock(\"div\", {\n          key: 0,\n          id: \"playback-close-button\",\n          onClick: _cache[0] || (_cache[0] = ($event: any) => (_ctx.$emit('close')))\n        }, [\n          _createVNode(_component_v_icon, {\n            color: _ctx.color,\n            size: \"18\"\n          }, {\n            default: _withCtx(() => _cache[4] || (_cache[4] = [\n              _createTextVNode(\"mdi-close\")\n            ])),\n            _: 1\n          }, 8, [\"color\"])\n        ]))\n      : _createCommentVNode(\"\", true),\n    (!_ctx.inline || _ctx.inlineButton && !_ctx.hidePlayButton)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n          _createVNode(_component_icon_button, {\n            \"md-icon\": _ctx.isPaused ? 'mdi-play' : 'mdi-pause',\n            onActivate: _cache[1] || (_cache[1] = ($event: any) => (_ctx.isPaused = !_ctx.isPaused)),\n            color: _ctx.color,\n            \"focus-color\": _ctx.color,\n            \"tooltip-text\": \"Play/Pause\",\n            \"tooltip-location\": \"top\",\n            \"tooltip-offset\": \"5px\",\n            \"md-size\": \"18\"\n          }, null, 8, [\"md-icon\", \"color\", \"focus-color\"]),\n          (!_ctx.inline || _ctx.inlineButton)\n            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n                _createVNode(_component_icon_button, {\n                  onActivate: _cache[2] || (_cache[2] = ($event: any) => (_ctx.reverseTime = !_ctx.reverseTime)),\n                  \"md-icon\": _ctx.reverseTime ? 'mdi-step-forward-2' : 'mdi-step-backward-2',\n                  color: _ctx.color,\n                  \"focus-color\": _ctx.color,\n                  \"tooltip-text\": \"Forward/Reverse\",\n                  \"tooltip-location\": \"top\",\n                  \"tooltip-offset\": \"5px\",\n                  \"md-size\": \"18\"\n                }, null, 8, [\"md-icon\", \"color\", \"focus-color\"]),\n                _createElementVNode(\"span\", _hoisted_3, _toDisplayString(_ctx.reverseTime ? 'Forward' : 'Reverse'), 1)\n              ]))\n            : _createCommentVNode(\"\", true)\n        ]))\n      : _createCommentVNode(\"\", true),\n    _createElementVNode(\"div\", _hoisted_4, [\n      _createElementVNode(\"div\", _hoisted_5, [\n        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.index, (val) => {\n          return (_openBlock(), _createElementBlock(\"div\", _mergeProps({\n            key: val,\n            ref_for: true\n          }, _ctx.options(val), { class: \"tick\" }), [\n            _createElementVNode(\"span\", _hoisted_6, _toDisplayString(_ctx.valueToMark(val)), 1)\n          ], 16))\n        }), 128))\n      ]),\n      _createVNode(_component_v_slider, {\n        ref: \"slider\",\n        \"hide-details\": \"\",\n        modelValue: _ctx.value,\n        \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((_ctx.value) = $event)),\n        max: _ctx.max ?? _ctx.index[_ctx.index.length - 1],\n        min: _ctx.min ?? _ctx.index[0],\n        \"thumb-size\": 16,\n        color: \"white\",\n        \"track-color\": \"white\",\n        \"track-fill-color\": \"white\",\n        \"thumb-color\": \"blue\",\n        \"track-size\": \"8\",\n        step: _ctx.step,\n        \"show-ticks\": _ctx.useBuiltInTicks ? 'always' : false,\n        ticks: _ctx.useBuiltInTicks ? _ctx.marks : undefined\n      }, null, 8, [\"modelValue\", \"max\", \"min\", \"step\", \"show-ticks\", \"ticks\"])\n    ])\n  ], 4))\n}","<template>\n  <div id=\"enclosing-playback-container\" :style=\"cssVars\">\n    \n    <!-- add a close box -->\n    <div v-if=\"(inline && inlineButton) || showCloseButton\" id=\"playback-close-button\" @click=\"$emit('close')\">\n        <v-icon :color=\"color\" size=\"18\">mdi-close</v-icon>\n    </div>\n    \n    <div v-if=\"!inline || inlineButton && !hidePlayButton\" id=\"playback-play-pause-button\">\n      <icon-button\n        :md-icon=\"isPaused ? 'mdi-play' : 'mdi-pause'\"\n        @activate=\"isPaused = !isPaused\"\n        :color=\"color\"\n        :focus-color=\"color\"\n        tooltip-text=\"Play/Pause\"\n        tooltip-location=\"top\"\n        tooltip-offset=\"5px\"\n        md-size=\"18\"\n      ></icon-button>\n\n      <div v-if=\"!inline || inlineButton\" id=\"playback-reverse-time\">\n        <icon-button\n          @activate=\"reverseTime = !reverseTime\"\n          :md-icon=\"reverseTime ? 'mdi-step-forward-2' : 'mdi-step-backward-2'\"\n          :color=\"color\"\n          :focus-color=\"color\"\n          tooltip-text=\"Forward/Reverse\"\n          tooltip-location=\"top\"\n          tooltip-offset=\"5px\"\n          md-size=\"18\"\n        >\n        </icon-button>\n        <span id=\"reverse-button-text\">{{ reverseTime ? 'Forward' : 'Reverse' }}</span>\n      </div>\n    </div>\n    \n    <div id=\"playback-slider-container\">\n      \n      <div id=\"tick-container\">\n        <div v-for=\"val in index\" :key=\"val\" v-bind=\"options(val)\" class=\"tick\">\n          <span class=\"tick-label\"> {{ valueToMark(val) }} </span>\n        </div>\n      </div>\n      \n      <v-slider\n        ref=\"slider\"\n        hide-details\n        v-model=\"value\"\n        :max=\"max ?? index[index.length - 1]\"\n        :min=\"min ?? index[0]\"\n        :thumb-size=\"16\"\n        color=\"white\"\n        track-color=\"white\"\n        track-fill-color=\"white\"\n        thumb-color=\"blue\"\n        track-size=\"8\"\n        :step=\"step\"\n        :show-ticks=\"useBuiltInTicks ? 'always' : false\"\n        :ticks=\"useBuiltInTicks ? marks : undefined\"\n        >\n      </v-slider>\n    </div>\n\n    \n  </div>\n\n  \n</template>\n\n\n<script lang=\"ts\">\nimport { defineComponent } from 'vue';\nimport { VSlider } from 'vuetify/components/VSlider';\nimport { SymmetricalLogTransform, symmLinspace } from './symlog';\n\nconst symLog = new SymmetricalLogTransform(10);\n\nexport default defineComponent({\n  name: 'PlaybackControl',\n\n  components: {\n    'v-slider': VSlider,\n  },\n  \n  emits: ['update:modelValue', 'paused', 'close'],\n\n  props: {\n    // Define the props here\n    modelValue: {\n      type: Number,\n      default: 1,\n    },\n    maxPower: {\n      type: Number,\n      default: 3,\n    },\n    paused: {\n      type: Boolean,\n      default: true,\n    },\n    \n    max: {\n      type: Number,\n      default: null,\n    },\n    \n    min: {\n      type: Number,\n      default: null,\n    },\n    \n    color: {\n      type: String,\n      default: 'white',\n    },\n    smallScreen: {\n      type: Boolean,\n      default: false,\n    },\n    \n    inline: {\n      type: Boolean,\n      default: true,\n    },\n    inlineButton: {\n      type: Boolean,\n      default: false,\n    },\n    showCloseButton: {\n      type: Boolean,\n      default: false,\n    },\n    hidePlayButton: {\n      type: Boolean,\n      default: false\n    }\n    \n  },\n\n  mounted() {\n    // Do something when the component is mounted\n    // get height of v-input_container\n    const container = document.getElementById('playback-slider-container');\n    if (container) {\n      // query container for the v-slider\n      const input = container.querySelector(' .v-slider__container');\n      if (input) {\n        // get the height of the v-slider\n        const height = input.clientHeight;\n        // set the height of the tick-container\n        container.style.setProperty('--v-slider-height', `${height}px`);\n      }\n    }\n    \n    // create a resize observer for enclosing-playback-container\n    // that adjusts it's scale relative to a certain width\n    const resizeObserver = new ResizeObserver((entries) => {\n      for (const _entry of entries) {\n        \n        const track = document.querySelector('.v-slider-track') as HTMLElement;\n        const container = document.getElementById('enclosing-playback-container') as HTMLElement;\n        if (container) {\n          const input = container.querySelector('.v-slider__container');\n          const tickContainer = document.querySelector('#tick-container') as HTMLElement;\n        \n          const psc = document.querySelector('#playback-slider-container') as HTMLElement;\n          if (track && container) {\n            const s = track.scrollWidth;\n            container.style.setProperty('--track-width', `${s}px`);\n          }\n          if (tickContainer && input && psc) {\n            psc.style.setProperty('--v-slider-height', `${input.clientHeight}px`);\n          }\n          \n          if (this.inline && container) {\n            container.classList.add('inset');\n          } else {\n            container.classList.remove('inset');\n          }\n        }\n        \n        // if container width is more than 300px use .normal-screen on psc\n        // if (container.clientWidth <= 300) {\n        //   psc.classList.add('small-screen');\n        // } else {\n        //   psc.classList.remove('small-screen');\n        // }\n        \n      }\n    });\n    resizeObserver.observe(document.getElementById('enclosing-playback-container')!);\n    \n  },\n\n\n\n  data() {\n    return {\n      // Define the data here\n      data: ['a', 'b', 'c'],\n      symlog: symLog,\n      index: symLog.sequence(this.maxPower).filter(v => v > 0),\n      myTicks: symmLinspace(1, Math.pow(10,this.maxPower), 2).map((val) => symLog.toSymlogIndex(val)),\n      useBuiltInTicks: true,\n    };\n  },\n\n  methods: {\n\n    // Define the methods here\n    valueToMark(value: number): number | string {\n      if (value === 0) return 'Pause';\n      const pre = this.reverseTime ? -1 : 1;\n      return (pre * symLog.fromSymLogIndex(value)).toString() + 'x';\n    },\n\n    options(val: number) {\n      const min = this.min ?? this.index[0];\n      const max = this.max ?? this.index[this.index.length - 1];\n      const pos = (val - min) / (max - min) * 100;\n      return {\n        style: {\n          left: pos + '%',\n        },\n      };\n    },\n\n  },\n\n  computed: {\n    \n    cssVars() {\n      return {\n        '--color': this.color,\n      };\n    },\n    \n    isPaused: {\n      get() {\n        console.log('PBC: isPaused get',this.paused);\n        return this.paused;\n      },\n      set(val: boolean) {\n        console.log('PBC: isPaused set',val);\n        this.$emit('paused', val);\n      }\n    },\n    \n    // Define the computed properties here\n    marks(): Record<number, string> {\n      const marks: Record<number, string> = {};\n      this.index.forEach((value) => {\n        const pre = this.reverseTime ? -1 : 1;\n        marks[value] = value === 0 ? '' : (pre * symLog.fromSymLogIndex(value)).toString();\n      });\n      \n\n      return marks;\n    },\n\n    step(): number {\n      const val = Math.abs(this.value) <= 1 ? 1 : 0.1;\n      return val;\n    },\n    \n    value: {\n      get() {\n        return Math.abs(symLog.toSymlogIndex(this.modelValue));\n      },\n      \n      set(val: number) {\n        const abs = symLog.fromSymLogIndex(val);\n        const sign = this.reverseTime ? -1 : 1;\n        this.$emit('update:modelValue', sign * abs);\n      }\n    },\n    \n    reverseTime: {\n      get() {\n        return this.modelValue < 0;\n      },\n      set(rt: boolean) {\n        const val = symLog.fromSymLogIndex(this.value);\n        this.$emit('update:modelValue', rt ? -val : val);\n      }\n    },\n\n\n\n  }\n});\n\n</script>\n\n<style lang=\"less\">\n// Define the styles here\n\n\n#enclosing-playback-container {\n  // modify the Vuetify slifer properties\n  contain: layout;\n  display: flex;\n  flex-grow: 1;\n  align-items: center;\n  width: 100%;\n  padding-left: 0.5rem;\n  padding-right: 0.25rem;\n  padding-block-start: 0.25rem;\n  padding-block-end: 0.75rem;\n  border-radius: 0.5rem;\n  border: 1px solid white;\n  // min-width: 200px;\n  max-width: 510px;\n  background-color: #272727;\n  font-size: 0.7rem;\n  --track-wdith: 0px; // get set by the resize observer to the actual track width\n  --min-tick-gap: 0.2rem;\n  --tick-color: #ddd;\n  --track-color: white;\n  --tick-font-size: 1em;\n  pointer-events: auto;\n  z-index: 9999;\n  \n  // no close button normally\n  #playback-close-button {\n    position: absolute;\n    right: 0;\n    top: 0;\n    transform: translate(125%, 0);\n    \n    border-radius: 50%;\n    padding: 2px;\n\n    pointer-events: auto;\n    \n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border: 1px solid var(--color);\n    background-color: black;\n    color: var(--color);\n  }\n    \n  // #playback-close-button {\n  //   display: none;\n  // }\n  \n  &.inset {\n    padding: 0;\n    padding-inline: 0.25rem;\n    padding-block-end: 1em;\n    background-color: black;\n    \n    border: 2px solid var(--color);\n    // transform: translateY(25%);\n    \n    --tick-font-size: clamp(10px, 1.5vw, 1em);\n    \n    i.v-icon {\n      font-size: clamp(1vw, 1.5em, 18px) !important;\n      width: 1em !important;\n      height: 1em !important;\n    }\n    \n    #playback-play-pause-button {\n      i.v-icon {\n        font-size: clamp(1vw, 1.5em, 24px) !important;\n        width: 1.5em !important;\n        height: 1em !important;\n      }\n    }\n    \n    #playback-slider-container {\n      \n      padding-inline-start: 0.5rem;\n    }\n    \n    \n    \n  }\n  \n  #playback-play-pause-button {\n    display: flex;\n    margin-inline-end: 0.5rem;\n    flex-direction: row;\n    align-items: center;\n    gap: 0.75em;\n    pointer-events: auto!important;\n    \n    #playback-reverse-time {\n      position: relative;\n      #reverse-button-text {\n        position: absolute;\n        font-size: var(--tick-font-size);\n        left: 0%;\n      }\n      .icon-wrapper {\n        border-radius: 2em;\n      }\n    }\n\n  }\n  \n    > #playback-play-pause-button.hide {\n      display: none; \n    }\n    \n  \n  #playback-slider-container {\n    flex-grow: 1;\n  }\n  \n\n  #playback-slider-container {\n    display: flex;\n    flex-direction: column;\n    position: relative;\n    padding-left: 0.5rem;\n    --v-slider-height: 32px;\n    --psc-offset: calc(-1*var(--tick-font-size)/2);\n\n    height: calc(var(--v-slider-height) + var(--tick-font-size));\n        \n    .v-slider-track__ticks {\n      border-radius: calc(var(--v-slider-height) / 2);\n    }\n    \n    .v-slider-track__tick-label {\n      display: none;\n    }\n    \n    \n    .track-tick-size {\n      font-size: var(--v-slider-track-size);\n      --avail-space: calc((var(--track-width) - 18 * var(--min-tick-gap)) / 9);\n      --v-slider-tick-size: clamp(1em, var(--avail-space), 3em); // scale with track size\n      border-radius: 50%;\n    }\n    \n    .pause-color {\n      --pause-color: rebeccaPurple !important;\n      background-color: var(--pause-color);\n      &.v-slider-track__tick--filled {\n        background-color: var(--pause-color);\n      }\n    }\n    \n    // the zero tick mark\n    \n    \n    // push the track to the back\n    .v-slider-track * {\n        opacity: 1;\n        background-color: var(--track-color);\n      }\n\n    // show no progress fill\n    .v-slider-track__fill {\n      opacity: 0;\n    }\n    \n    .v-slider-track__tick {\n      .track-tick-size();\n      \n      background-color: var(--tick-color);\n      \n      &.v-slider-track__tick--filled {\n        // margin-inline-start: calc(100% - var(--v-slider-tick-size) - 1px); // default\n        background-color: var(--tick-color);\n      }\n      \n      &.v-slider-track__tick--first {\n        // margin-inline-start: calc(var(--v-slider-tick-size) + 1px); // default\n        margin-inline-start: 0px;\n      }\n      \n      &.v-slider-track__tick--last {\n        // margin-inline-start: calc(100% - var(--v-slider-tick-size) - 1px); // default\n        margin-inline-start: 100%;\n      }\n    \n    }\n      \n    @media (max-width: 500px){\n      \n      .v-slider-track__tick {\n        --v-slider-tick-size: 2em;\n      }\n      \n    }\n      \n    \n  }\n  \n  .icon-wrapper {\n    pointer-events: auto;\n  }\n  \n      \n      \n  \n\n\n    #tick-container {\n      --height: 0px;\n      --position: calc(var(--v-slider-height) + var(--height));\n      margin-inline: 8px;\n      position: relative;\n      height: var(--height);\n      transform: translateY(var(--position));\n      \n      @media (max-width: 500px) {\n        --position: calc(var(--v-slider-height) - 0.5em);\n        transform: translateY(--position);\n      }\n\n      .tick {\n        position: absolute;\n        transform: translateX(-50%);\n      }\n      \n\n      .tick-label {\n        font-size: var(--tick-font-size);\n        color: white;\n      }\n\n    }\n  }\n\n\n</style>\n","\n\ntype PNum = number | number[];\ntype ONum<T extends PNum> = T extends number ? number : number[];\n  \nexport class SymmetricalLogTransform {\n  // adapted from matplotlib\n  // https://github.com/matplotlib/matplotlib/blob/main/lib/matplotlib/scale.py#L348\n  private base: number;\n  private logBase: number;\n  \n\n  constructor(base: number = 10) {\n    this.base = base;\n    this.logBase = Math.log(base);\n  }\n  \n  private log(x: number): number {\n    // need this to return exact numbers and 0\n    if (x === 0) {\n      return 0;\n    } \n    if (this.base == 10) {\n      return Math.log10(x);\n    }\n    if (this.base == 2) {\n      return Math.log2(x);\n    }\n    if (this.base == Math.E) {\n      return Math.log(x);\n    }\n    return Math.log(x) / this.logBase;\n  }\n  \n  // generate a sequence of values\n  public sequence(max: number, index: boolean = true): number[] {\n    const rightSide = (new Array(max + 1)).fill(0).map((_, i) => (i+1));\n    const leftSide = rightSide.map((value) => -value).reverse();\n    const seq = leftSide.concat([0]).concat(rightSide);\n    if (index) {\n      return seq;\n    } else {\n      return this.fromSymLogIndex(seq);\n    }\n  }\n  \n  // transform from real numbers to symmetrical log scale\n  private inverseTransform<T extends PNum>(value: T): ONum<T> {\n    // if value is an array, map over it\n    if (Array.isArray(value)) {\n      return value.map((v) => this.inverseTransform(v)) as ONum<T>;\n    }    \n    const absValue = Math.abs(value);\n    let out: number;\n\n    if (absValue > 1) {\n      out = Math.sign(value) * Math.pow(this.base, absValue) / this.base;\n    } else {\n      out = value;\n    }\n    return out as ONum<T>;\n  }\n  \n  private   transform<T extends PNum>(value: T): ONum<T> {\n    // if value is an array, map over it\n    if (Array.isArray(value)) {\n      return value.map((v) => this.transform(v)) as ONum<T>;\n    }\n    \n    const absValue = Math.abs(value);\n    let out: number;\n\n    if (absValue > 1) {\n      out = Math.sign(value) * (this.log(absValue) + 1);\n    } else {\n      out = value;\n    }\n    return out as ONum<T>;\n  }\n  \n  // from -3, -2, -1, 0, 1, 2, 3 --> -100, -10, -1, 0, 1, 10, 100\n  public fromSymLogIndex<T extends PNum>(value: T): ONum<T> {\n    return this.inverseTransform(value);\n  }\n  \n  public toSymlogIndex<T extends PNum>(value: T): ONum<T> {\n    return this.transform(value);\n  }\n\n}\n\n\nexport function makeSymmetric(right: number[]): number[] {\n  const left = right.map((value) => -value).reverse();\n  return left.concat([0]).concat(right);\n}\n\n// generate sequence using step size\nexport function linspace(start: number, stop: number, delta: number): number[] {\n  const out: number[] = [];\n  for (let i = start; i <= stop; i += delta) {\n    out.push(i);\n  }\n  return out;\n}\n\nexport function symmLinspace(start: number, stop: number, delta: number): number[] {\n  const right = linspace(start, stop, delta);\n  return makeSymmetric(right);\n}","import { render } from \"./PlaybackControl.vue?vue&type=template&id=67b09392&ts=true\"\nimport script from \"./PlaybackControl.vue?vue&type=script&lang=ts\"\nexport * from \"./PlaybackControl.vue?vue&type=script&lang=ts\"\n\nimport \"./PlaybackControl.vue?vue&type=style&index=0&id=67b09392&lang=less\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","// wwt_playback_control.ts\n\n// Vue composable for controlling the playback and playrate of the WWT engine\nimport { ref, watch } from \"vue\";\nimport { engineStore } from \"@wwtelescope/engine-pinia\";\ntype WWTEngineStore = ReturnType<typeof engineStore>;\nexport function usePlaybackControl(store: WWTEngineStore, debug = false) {\n  console.log(\"usePlaybackControl\");\n  const clockRate = ref(1);\n  const timePlaying = ref(false);\n  \n  const play = () => { timePlaying.value = true; };\n  \n  const pause = () => { timePlaying.value = false; };\n\n  const togglePlay = () => { timePlaying.value = !timePlaying.value; };\n  \n  \n  function setSpeed(rate: number) {\n    clockRate.value = rate;\n  }\n  \n\n  store.waitForReady().then(() => {\n    watch(clockRate, (newRate) => {\n      store.setClockRate(newRate);\n    });\n\n    watch(timePlaying, (newIsPlaying) => {\n      store.setClockSync(newIsPlaying);\n    });\n    store.setClockRate(clockRate.value);\n    store.setClockSync(timePlaying.value);\n  });\n  \n  // watch everything and log out what changes\n  if (debug) {\n    watch(clockRate, (newRate) => {\n      console.log(\"playbackRate changed\", newRate);\n    });\n    watch(timePlaying, (newIsPlaying) => {\n      console.log(\"isPlaying changed\", newIsPlaying);\n    });\n  }\n\n  \n  \n\n    \n    \n\n\n  return {\n    play, \n    pause,\n    togglePlay,\n    setSpeed,\n    timePlaying,\n    clockRate\n  };\n  \n}\n    ","import { useModel as _useModel, mergeModels as _mergeModels, defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, unref as _unref, createVNode as _createVNode, mergeProps as _mergeProps, withCtx as _withCtx, vShow as _vShow, resolveDirective as _resolveDirective, withDirectives as _withDirectives, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString } from \"vue\"\n\nconst _hoisted_1 = { id: \"speed-control\" }\nconst _hoisted_2 = { id: \"speed-buttons\" }\nconst _hoisted_3 = {\n  key: 5,\n  id: \"inline-speed-control\"\n}\nconst _hoisted_4 = {\n  key: 0,\n  id: \"speed-text\"\n}\n\nimport { ref, computed, watch } from 'vue';\nimport { useDisplay } from 'vuetify';\n\nimport { supportsTouchscreen } from \"@cosmicds/vue-toolkit\";\nimport { engineStore } from \"@wwtelescope/engine-pinia\";\n\nimport { usePlaybackControl } from '../wwt_playback_control';\n\ninterface Props {\n  store: ReturnType<typeof engineStore>;\n  color: string;\n  maxSpeed?: number;\n  defaultRate?: number;\n  useInline?: boolean;\n  showText?: boolean;\n  rateDelta?: number;\n  useOldControl?: boolean;\n}\n\nconst minSpeed = 1;\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'SpeedControl',\n  props: /*@__PURE__*/_mergeModels({\n    store: {},\n    color: { default: 'white' },\n    maxSpeed: { default: 10000 },\n    defaultRate: { default: 1 },\n    useInline: { type: Boolean, default: false },\n    showText: { type: Boolean, default: false },\n    rateDelta: { default: 10 },\n    useOldControl: { type: Boolean, default: false }\n  }, {\n    \"playing\": { type: Boolean, ...{default: false, required: true} },\n    \"playingModifiers\": {},\n  }),\n  emits: /*@__PURE__*/_mergeModels([\"reset\", \"update:reverse\", \"update:playing\", \"slow-down\", \"speed-up\", \"set-rate\"], [\"update:playing\"]),\n  setup(__props: any, { emit: __emit }) {\n\nconst { \n  color, \n  maxSpeed, \n  defaultRate, \n  store, \n  showText, \n  rateDelta, \n  useInline,\n  useOldControl,\n} = __props;\n\n\nconst playing = _useModel<boolean>(__props, 'playing');\nconst emit = __emit;\n\nconst playbackVisible = ref(false);\nconst forceRate = ref(false);\n\nconst { timePlaying, clockRate, setSpeed } = usePlaybackControl(store, false);\nsetSpeed(defaultRate);\n\ntimePlaying.value = playing.value;\nwatch(playing, (v) => {timePlaying.value = v;});\nwatch(timePlaying, (v) => {playing.value = v;});\n\nfunction clamp(val: number) {\n  return Math.min(Math.max(val, minSpeed), maxSpeed);\n}\n\nconst playbackRate = computed({\n  get: function(): number {\n    if (forceRate.value) {\n      const sign = Math.sign(clockRate.value);\n      return sign * Math.min(10, sign * clockRate.value);\n    }\n    return clockRate.value;\n  },\n  set: function(value: number) {\n    clockRate.value = Math.sign(value) * clamp(Math.abs(value));\n  }\n});\n\nfunction reverseRate() {\n  playbackRate.value = -playbackRate.value;\n}\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nfunction setDirection(direction: 'forward' | 'reverse' | null = null) {\n  playbackRate.value = direction == 'reverse' ? -Math.abs(playbackRate.value) : Math.abs(playbackRate.value);\n}\n\nfunction increaseRate() {\n  const sign = Math.sign(playbackRate.value);\n  const abs = Math.abs(playbackRate.value);\n  const newRate = abs * rateDelta;\n  playbackRate.value = sign * clamp(newRate);\n}\nfunction decreaseRate() {\n  const sign = Math.sign(playbackRate.value);\n  const abs = Math.abs(playbackRate.value);\n  const newRate = abs / rateDelta;\n  playbackRate.value = sign * clamp(newRate);\n}\n\n\n// either moves to reverse time (at -1x) or slows down by rateDelta\nfunction reverseOrIncreaseReversePlaybackRate() {\n  forceRate.value = false;\n  const sign = Math.sign(playbackRate.value);\n  if (sign > 0) {\n    playbackRate.value = -Math.min(playbackRate.value, 1);\n    return;\n  }\n  const abs = Math.abs(playbackRate.value);\n  let ezrate = Math.floor(Math.log10(abs));\n  ezrate -= sign * Math.log10(rateDelta);\n  playbackRate.value = sign * clamp(Math.pow(10, Math.abs(ezrate)));\n}\n\n// etiher switches to forward time (at 1x) or speeds up by rateDelta\nfunction forwardOrIncreaseForwardPlaybackRate() {\n  forceRate.value = false;\n  const sign = Math.sign(playbackRate.value);\n  if (sign < 0 ) {\n    playbackRate.value = -Math.max(playbackRate.value,-1);\n    return;\n  }\n  const abs = Math.abs(playbackRate.value);\n  let ezrate = Math.floor(Math.log10(abs));\n  ezrate += sign * Math.log10(rateDelta);\n  playbackRate.value = sign * clamp(Math.pow(10, Math.abs(ezrate)));\n}\n\nconst { smAndDown } = useDisplay();\nconst mobile = computed(() => smAndDown && supportsTouchscreen());\n\nconst allowClickOutside = ref(false);\nfunction onClickOutside() {\n  // console.log('onclickoutside', playbackVisible.value, allowClickOutside.value);\n  if (playbackVisible.value && allowClickOutside.value) {\n    playbackVisible.value = false;\n    return;\n  }\n  allowClickOutside.value = playbackVisible.value;\n}\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_icon_button = _resolveComponent(\"icon-button\")!\n  const _component_playback_control = _resolveComponent(\"playback-control\")!\n  const _component_v_dialog = _resolveComponent(\"v-dialog\")!\n  const _directive_click_outside = _resolveDirective(\"click-outside\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      useOldControl\n        ? (_openBlock(), _createBlock(_component_icon_button, {\n            key: 0,\n            id: \"reverse-speed\",\n            \"fa-icon\": 'angles-left',\n            onActivate: _cache[0] || (_cache[0] = \n          () => {\n            reverseOrIncreaseReversePlaybackRate();\n            timePlaying.value = true;\n          }\n        ),\n            color: color,\n            \"focus-color\": color,\n            \"tooltip-text\": playbackRate.value < 0 ? 'Reverse Faster' : 'Reverse',\n            \"tooltip-location\": \"top\",\n            \"tooltip-offset\": \"5px\",\n            faSize: \"1x\",\n            \"show-tooltip\": !mobile.value\n          }, null, 8, [\"tooltip-text\", \"show-tooltip\"]))\n        : _createCommentVNode(\"\", true),\n      useOldControl\n        ? (_openBlock(), _createBlock(_component_icon_button, {\n            key: 1,\n            id: \"forward-speed\",\n            \"fa-icon\": 'angles-right',\n            onActivate: _cache[1] || (_cache[1] = \n          () => {\n            if (!_unref(timePlaying)) {\n              timePlaying.value = true;\n            } else {\n              forwardOrIncreaseForwardPlaybackRate();\n            }\n            emit('speed-up', playbackRate.value);\n          }\n        ),\n            color: color,\n            \"focus-color\": color,\n            \"tooltip-text\": playbackRate.value > 0 ? 'Faster' : 'Forward',\n            \"tooltip-location\": \"top\",\n            \"tooltip-offset\": \"5px\",\n            faSize: \"1x\",\n            \"show-tooltip\": !mobile.value\n          }, null, 8, [\"tooltip-text\", \"show-tooltip\"]))\n        : _createCommentVNode(\"\", true),\n      _createVNode(_component_icon_button, {\n        onActivate: _cache[2] || (_cache[2] = () => {\n          reverseRate();\n          emit('update:reverse', playbackRate.value < 0);\n        }),\n        \"md-icon\": playbackRate.value < 0 ? 'mdi-step-forward-2' : 'mdi-step-backward-2',\n        color: color,\n        \"focus-color\": color,\n        \"tooltip-text\": playbackRate.value < 0 ? 'Play time forward' : 'Play time backwards',\n        \"tooltip-location\": \"top\",\n        \"tooltip-offset\": \"5px\",\n        \"show-tooltip\": !mobile.value,\n        \"md-size\": \"18\"\n      }, null, 8, [\"md-icon\", \"tooltip-text\", \"show-tooltip\"]),\n      _createVNode(_component_icon_button, {\n        id: \"play-pause-icon\",\n        \"fa-icon\": !_unref(timePlaying) ? 'play' : 'pause',\n        onActivate: _cache[3] || (_cache[3] = \n          () => {\n            timePlaying.value = !_unref(timePlaying);\n            emit('update:playing', _unref(timePlaying));\n          }\n        ),\n        color: color,\n        \"focus-color\": color,\n        \"tooltip-text\": \"Play/Pause\",\n        \"tooltip-location\": \"top\",\n        \"tooltip-offset\": \"5px\",\n        faSize: \"1x\",\n        \"show-tooltip\": !mobile.value\n      }, null, 8, [\"fa-icon\", \"show-tooltip\"]),\n      (!useOldControl)\n        ? (_openBlock(), _createBlock(_component_icon_button, {\n            key: 2,\n            id: \"slow-down\",\n            \"fa-icon\": 'angles-down',\n            onActivate: _cache[4] || (_cache[4] = \n          () => {\n            decreaseRate();\n            timePlaying.value = true;\n            emit('slow-down', playbackRate.value);\n          }\n        ),\n            color: color,\n            \"focus-color\": color,\n            \"tooltip-text\": `Slow down ${rateDelta}x`,\n            \"tooltip-location\": \"top\",\n            \"tooltip-offset\": \"5px\",\n            faSize: \"1x\",\n            \"show-tooltip\": !mobile.value\n          }, null, 8, [\"tooltip-text\", \"show-tooltip\"]))\n        : _createCommentVNode(\"\", true),\n      (!useOldControl)\n        ? (_openBlock(), _createBlock(_component_icon_button, {\n            key: 3,\n            id: \"speed-up\",\n            \"fa-icon\": 'angles-up',\n            onActivate: _cache[5] || (_cache[5] = \n          () => {\n            increaseRate();\n            timePlaying.value = true;\n            emit('speed-up', playbackRate.value);\n          }\n        ),\n            color: color,\n            \"focus-color\": color,\n            \"tooltip-text\": `Speed up ${rateDelta}x`,\n            \"tooltip-location\": \"top\",\n            \"tooltip-offset\": \"5px\",\n            faSize: \"1x\",\n            \"show-tooltip\": !mobile.value\n          }, null, 8, [\"tooltip-text\", \"show-tooltip\"]))\n        : _createCommentVNode(\"\", true),\n      _createVNode(_component_icon_button, {\n        id: \"reset\",\n        \"fa-icon\": 'rotate',\n        onActivate: _cache[6] || (_cache[6] = \n          () => {\n            playbackRate.value = 100;\n            timePlaying.value = false;\n            forceRate.value = false;\n            emit('reset');\n          }\n        ),\n        color: color,\n        \"focus-color\": color,\n        \"tooltip-text\": \"Reset\",\n        \"tooltip-location\": \"top\",\n        \"tooltip-offset\": \"5px\",\n        faSize: \"1x\",\n        \"show-tooltip\": !mobile.value\n      }, null, 8, [\"show-tooltip\"]),\n      (!useInline)\n        ? (_openBlock(), _createBlock(_component_v_dialog, {\n            key: 4,\n            modelValue: playbackVisible.value,\n            \"onUpdate:modelValue\": _cache[11] || (_cache[11] = ($event: any) => ((playbackVisible).value = $event)),\n            scrim: false,\n            location: \"top\",\n            offset: \"40\",\n            \"location-strategy\": \"connected\",\n            persistent: \"\",\n            \"no-click-animation\": \"\",\n            \"retain-focus\": false\n          }, {\n            activator: _withCtx(({ props }) => [\n              _createVNode(_component_icon_button, _mergeProps({\n                id: \"speed-control-icon\",\n                onActivate: _cache[7] || (_cache[7] = \n              () => {\n                playbackVisible.value = !playbackVisible.value;\n              }\n            ),\n                \"fa-icon\": playbackVisible.value ? 'times' : 'gauge-high',\n                color: color,\n                \"focus-color\": color,\n                \"tooltip-text\": \"More Speed Controls\",\n                \"tooltip-location\": \"top\",\n                \"tooltip-offset\": \"5px\",\n                faSize: \"1x\",\n                \"show-tooltip\": !mobile.value\n              }, props), null, 16, [\"fa-icon\", \"show-tooltip\"])\n            ]),\n            default: _withCtx(() => [\n              (playbackVisible.value)\n                ? (_openBlock(), _createBlock(_component_playback_control, {\n                    key: 0,\n                    class: \"desktop-playback-control\",\n                    \"model-value\": playbackRate.value,\n                    \"onUpdate:modelValue\": _cache[8] || (_cache[8] = \n            (value) => {\n              forceRate.value = false;\n              playbackRate.value = value;\n              emit('set-rate', value);\n            }\n          ),\n                    paused: !_unref(timePlaying),\n                    onPaused: _cache[9] || (_cache[9] = (paused) => {\n            timePlaying.value = !paused;\n            emit('update:playing', !paused);\n          }),\n                    \"max-power\": Math.log10(maxSpeed),\n                    max: Math.log10(maxSpeed) + 1,\n                    color: color,\n                    inline: false,\n                    \"show-close-button\": \"\",\n                    onClose: _cache[10] || (_cache[10] = \n            () => {\n              playbackVisible.value = false;\n            }\n          )\n                  }, null, 8, [\"model-value\", \"paused\", \"max-power\", \"max\"]))\n                : _createCommentVNode(\"\", true)\n            ]),\n            _: 1\n          }, 8, [\"modelValue\"]))\n        : _createCommentVNode(\"\", true),\n      useInline\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [\n            _createVNode(_component_icon_button, {\n              id: \"speed-control-icon\",\n              onActivate: _cache[12] || (_cache[12] = \n            () => {\n              playbackVisible.value = !playbackVisible.value;\n              allowClickOutside.value = false; // prevent onClickOutside from hiding it.\n            }\n          ),\n              \"fa-icon\": playbackVisible.value ? 'times' : 'gauge-high',\n              color: color,\n              \"focus-color\": color,\n              \"tooltip-text\": \"Time Controls\",\n              \"tooltip-location\": \"top\",\n              \"tooltip-offset\": \"5px\",\n              faSize: \"1x\",\n              \"show-tooltip\": !mobile.value\n            }, null, 8, [\"fa-icon\", \"show-tooltip\"]),\n            _withDirectives(_createVNode(_component_playback_control, {\n              class: \"mobile-playback-control\",\n              \"model-value\": playbackRate.value,\n              \"onUpdate:modelValue\": _cache[13] || (_cache[13] = \n            (value) => {\n              forceRate.value = false;\n              playbackRate.value = value;\n              emit('set-rate', value);\n            }\n          ),\n              paused: !_unref(timePlaying),\n              onPaused: _cache[14] || (_cache[14] = ($event: any) => (timePlaying.value = !$event)),\n              \"max-power\": Math.log10(maxSpeed),\n              max: Math.log10(maxSpeed) + 1,\n              color: color,\n              inline: true,\n              \"inline-button\": \"\",\n              onClose: _cache[15] || (_cache[15] = \n            () => {\n              playbackVisible.value = false;\n            }\n          )\n            }, null, 8, [\"model-value\", \"paused\", \"max-power\", \"max\"]), [\n              [_vShow, playbackVisible.value],\n              [_directive_click_outside, onClickOutside]\n            ])\n          ]))\n        : _createCommentVNode(\"\", true)\n    ]),\n    showText\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, _toDisplayString(Math.round(playbackRate.value)) + \"x \" + _toDisplayString(_unref(timePlaying) ? '' : '(Paused)'), 1))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","<template>\n  <div id=\"speed-control\">\n    <div id=\"speed-buttons\">\n      <icon-button\n        v-if=\"useOldControl\"\n        id=\"reverse-speed\"\n        :fa-icon=\"'angles-left'\"\n        @activate=\"\n          () => {\n            reverseOrIncreaseReversePlaybackRate();\n            timePlaying = true;\n          }\n        \"\n        :color=\"color\"\n        :focus-color=\"color\"\n        :tooltip-text=\"playbackRate < 0 ? 'Reverse Faster' : 'Reverse'\"\n        tooltip-location=\"top\"\n        tooltip-offset=\"5px\"\n        faSize=\"1x\"\n        :show-tooltip=\"!mobile\"\n      ></icon-button>\n      \n      <icon-button \n        v-if=\"useOldControl\"\n        id=\"forward-speed\"\n        :fa-icon=\"'angles-right'\"\n        @activate=\"\n          () => {\n            if (!timePlaying) {\n              timePlaying = true;\n            } else {\n              forwardOrIncreaseForwardPlaybackRate();\n            }\n            emit('speed-up', playbackRate);\n          }\n        \"\n        :color=\"color\"\n        :focus-color=\"color\"\n        :tooltip-text=\"playbackRate > 0 ? 'Faster' : 'Forward'\"\n        tooltip-location=\"top\"\n        tooltip-offset=\"5px\"\n        faSize=\"1x\"\n        :show-tooltip=\"!mobile\"\n      ></icon-button>\n      \n      <!-- <icon-button \n        v-if=\"!useOldControl\"\n        id=\"reverse-direction\"\n        :fa-icon=\"'angles-left'\"\n        @activate=\"\n          () => {\n            setDirection('reverse')\n            timePlaying = true\n          }\n        \"\n        :color=\"color\"\n        :focus-color=\"color\"\n        tooltip-text=\"Reverse\"\n        tooltip-location=\"top\"\n        tooltip-offset=\"5px\"\n        faSize=\"1x\"\n        :show-tooltip=\"!mobile\"\n      ></icon-button> -->\n      \n      <!-- <icon-button \n        v-if=\"!useOldControl\"\n        id=\"forward-direction\"\n        :fa-icon=\"'angles-right'\"\n        @activate=\"\n          () => {\n            setDirection('forward');\n            timePlaying = true\n          }\n        \"\n        :color=\"color\"\n        :focus-color=\"color\"\n        tooltip-text=\"Forward\"\n        tooltip-location=\"top\"\n        tooltip-offset=\"5px\"\n        faSize=\"1x\"\n        :show-tooltip=\"!mobile\"\n      ></icon-button> -->\n      <icon-button\n        @activate=\"() => {\n          reverseRate();\n          emit('update:reverse', playbackRate < 0);\n        }\"\n        :md-icon=\"playbackRate < 0 ? 'mdi-step-forward-2' : 'mdi-step-backward-2'\"\n        :color=\"color\"\n        :focus-color=\"color\"\n        :tooltip-text=\"playbackRate < 0 ? 'Play time forward' : 'Play time backwards'\"\n        tooltip-location=\"top\"\n        tooltip-offset=\"5px\"\n        :show-tooltip=\"!mobile\"\n        md-size=\"18\"\n      >\n      </icon-button>\n      \n      <icon-button \n        id=\"play-pause-icon\"\n        :fa-icon=\"!timePlaying ? 'play' : 'pause'\"\n        @activate=\"\n          () => {\n            timePlaying = !timePlaying;\n            emit('update:playing', timePlaying);\n          }\n        \"\n        :color=\"color\"\n        :focus-color=\"color\"\n        tooltip-text=\"Play/Pause\"\n        tooltip-location=\"top\"\n        tooltip-offset=\"5px\"\n        faSize=\"1x\"\n        :show-tooltip=\"!mobile\"\n      ></icon-button>\n      \n      <icon-button \n        v-if=\"!useOldControl\"\n        id=\"slow-down\"\n        :fa-icon=\"'angles-down'\"\n        @activate=\"\n          () => {\n            decreaseRate();\n            timePlaying = true;\n            emit('slow-down', playbackRate);\n          }\n        \"\n        :color=\"color\"\n        :focus-color=\"color\"\n        :tooltip-text=\"`Slow down ${rateDelta}x`\"\n        tooltip-location=\"top\"\n        tooltip-offset=\"5px\"\n        faSize=\"1x\"\n        :show-tooltip=\"!mobile\"\n      ></icon-button>\n      \n      <icon-button \n        v-if=\"!useOldControl\"\n        id=\"speed-up\"\n        :fa-icon=\"'angles-up'\"\n        @activate=\"\n          () => {\n            increaseRate();\n            timePlaying = true;\n            emit('speed-up', playbackRate);\n          }\n        \"\n        :color=\"color\"\n        :focus-color=\"color\"\n        :tooltip-text=\"`Speed up ${rateDelta}x`\"\n        tooltip-location=\"top\"\n        tooltip-offset=\"5px\"\n        faSize=\"1x\"\n        :show-tooltip=\"!mobile\"\n      ></icon-button>\n      \n      \n\n      <icon-button \n        id=\"reset\"\n        :fa-icon=\"'rotate'\"\n        @activate=\"\n          () => {\n            playbackRate = 100;\n            timePlaying = false;\n            forceRate = false;\n            emit('reset');\n          }\n        \"\n        :color=\"color\"\n        :focus-color=\"color\"\n        tooltip-text=\"Reset\"\n        tooltip-location=\"top\"\n        tooltip-offset=\"5px\"\n        faSize=\"1x\"\n        :show-tooltip=\"!mobile\"\n      ></icon-button>\n\n      <v-dialog\n        v-if=\"!useInline\"\n        v-model=\"playbackVisible\"\n        :scrim=\"false\"\n        location=\"top\"\n        offset=\"40\"\n        location-strategy=\"connected\"\n        persistent\n        no-click-animation\n        :retain-focus=\"false\"\n      >\n        <template v-slot:activator=\"{ props }\">\n          <icon-button\n            id=\"speed-control-icon\"\n            @activate=\"\n              () => {\n                playbackVisible = !playbackVisible;\n              }\n            \"\n            :fa-icon=\"playbackVisible ? 'times' : 'gauge-high'\"\n            :color=\"color\"\n            :focus-color=\"color\"\n            tooltip-text=\"More Speed Controls\"\n            tooltip-location=\"top\"\n            tooltip-offset=\"5px\"\n            faSize=\"1x\"\n            :show-tooltip=\"!mobile\"\n            v-bind=\"props\"\n          ></icon-button>\n        </template>\n        <playback-control\n          class=\"desktop-playback-control\"\n          v-if=\"playbackVisible\"\n          :model-value=\"playbackRate\"\n          @update:modelValue=\"\n            (value: number) => {\n              forceRate = false;\n              playbackRate = value;\n              emit('set-rate', value);\n            }\n          \"\n          :paused=\"!timePlaying\"\n          @paused=\"(paused: boolean) => {\n            timePlaying = !paused;\n            emit('update:playing', !paused);\n          }\"\n          :max-power=\"Math.log10(maxSpeed)\"\n          :max=\"Math.log10(maxSpeed) + 1\"\n          :color=\"color\"\n          :inline=\"false\"\n          show-close-button\n          @close=\"\n            () => {\n              playbackVisible = false;\n            }\n          \"\n        />\n      </v-dialog>\n      <div v-if=\"useInline\" id=\"inline-speed-control\">\n        <icon-button\n          id=\"speed-control-icon\"\n          @activate=\"\n            () => {\n              playbackVisible = !playbackVisible;\n              allowClickOutside = false; // prevent onClickOutside from hiding it.\n            }\n          \"\n          :fa-icon=\"playbackVisible ? 'times' : 'gauge-high'\"\n          :color=\"color\"\n          :focus-color=\"color\"\n          tooltip-text=\"Time Controls\"\n          tooltip-location=\"top\"\n          tooltip-offset=\"5px\"\n          faSize=\"1x\"\n          :show-tooltip=\"!mobile\"\n        ></icon-button>\n\n        <playback-control\n          class=\"mobile-playback-control\"\n          v-show=\"playbackVisible\"\n          :model-value=\"playbackRate\"\n          @update:modelValue=\"\n            (value: number) => {\n              forceRate = false;\n              playbackRate = value;\n              emit('set-rate', value);\n            }\n          \"\n          :paused=\"!timePlaying\"\n          @paused=\"timePlaying = !$event\"\n          :max-power=\"Math.log10(maxSpeed)\"\n          :max=\"Math.log10(maxSpeed) + 1\"\n          :color=\"color\"\n          :inline=\"true\"\n          inline-button\n          v-click-outside=\"onClickOutside\"\n          @close=\"\n            () => {\n              playbackVisible = false;\n            }\n          \"\n        />\n      </div>\n    </div>\n    \n    <div v-if=\"showText\" id=\"speed-text\">{{ Math.round(playbackRate) }}x {{ timePlaying ? '' : '(Paused)'  }}</div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, watch } from 'vue';\nimport { useDisplay } from 'vuetify';\n\nimport { supportsTouchscreen } from \"@cosmicds/vue-toolkit\";\nimport { engineStore } from \"@wwtelescope/engine-pinia\";\n\nimport { usePlaybackControl } from '../wwt_playback_control';\n\ninterface Props {\n  store: ReturnType<typeof engineStore>;\n  color: string;\n  maxSpeed?: number;\n  defaultRate?: number;\n  useInline?: boolean;\n  showText?: boolean;\n  rateDelta?: number;\n  useOldControl?: boolean;\n}\n\nconst { \n  color, \n  maxSpeed, \n  defaultRate, \n  store, \n  showText, \n  rateDelta, \n  useInline,\n  useOldControl,\n} = withDefaults(defineProps<Props>(),\n  {\n    color: 'white',\n    maxSpeed: 10000,\n    defaultRate: 1,\n    useInline: false,\n    showText: false,\n    rateDelta: 10,\n    useOldControl: false,\n  }\n);\n\n\nconst playing = defineModel<boolean>('playing', {default: false, required: true});\nconst minSpeed = 1;\n\nconst emit = defineEmits<{\n  \"reset\": void,\n  \"update:reverse\": boolean,\n  \"update:playing\": boolean,\n  \"slow-down\": number,\n  \"speed-up\": number,\n  \"set-rate\": number,\n}>();\n\nconst playbackVisible = ref(false);\nconst forceRate = ref(false);\n\nconst { timePlaying, clockRate, setSpeed } = usePlaybackControl(store, false);\nsetSpeed(defaultRate);\n\ntimePlaying.value = playing.value;\nwatch(playing, (v) => {timePlaying.value = v;});\nwatch(timePlaying, (v) => {playing.value = v;});\n\nfunction clamp(val: number) {\n  return Math.min(Math.max(val, minSpeed), maxSpeed);\n}\n\nconst playbackRate = computed({\n  get: function(): number {\n    if (forceRate.value) {\n      const sign = Math.sign(clockRate.value);\n      return sign * Math.min(10, sign * clockRate.value);\n    }\n    return clockRate.value;\n  },\n  set: function(value: number) {\n    clockRate.value = Math.sign(value) * clamp(Math.abs(value));\n  }\n});\n\nfunction reverseRate() {\n  playbackRate.value = -playbackRate.value;\n}\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nfunction setDirection(direction: 'forward' | 'reverse' | null = null) {\n  playbackRate.value = direction == 'reverse' ? -Math.abs(playbackRate.value) : Math.abs(playbackRate.value);\n}\n\nfunction increaseRate() {\n  const sign = Math.sign(playbackRate.value);\n  const abs = Math.abs(playbackRate.value);\n  const newRate = abs * rateDelta;\n  playbackRate.value = sign * clamp(newRate);\n}\nfunction decreaseRate() {\n  const sign = Math.sign(playbackRate.value);\n  const abs = Math.abs(playbackRate.value);\n  const newRate = abs / rateDelta;\n  playbackRate.value = sign * clamp(newRate);\n}\n\n\n// either moves to reverse time (at -1x) or slows down by rateDelta\nfunction reverseOrIncreaseReversePlaybackRate() {\n  forceRate.value = false;\n  const sign = Math.sign(playbackRate.value);\n  if (sign > 0) {\n    playbackRate.value = -Math.min(playbackRate.value, 1);\n    return;\n  }\n  const abs = Math.abs(playbackRate.value);\n  let ezrate = Math.floor(Math.log10(abs));\n  ezrate -= sign * Math.log10(rateDelta);\n  playbackRate.value = sign * clamp(Math.pow(10, Math.abs(ezrate)));\n}\n\n// etiher switches to forward time (at 1x) or speeds up by rateDelta\nfunction forwardOrIncreaseForwardPlaybackRate() {\n  forceRate.value = false;\n  const sign = Math.sign(playbackRate.value);\n  if (sign < 0 ) {\n    playbackRate.value = -Math.max(playbackRate.value,-1);\n    return;\n  }\n  const abs = Math.abs(playbackRate.value);\n  let ezrate = Math.floor(Math.log10(abs));\n  ezrate += sign * Math.log10(rateDelta);\n  playbackRate.value = sign * clamp(Math.pow(10, Math.abs(ezrate)));\n}\n\nconst { smAndDown } = useDisplay();\nconst mobile = computed(() => smAndDown && supportsTouchscreen());\n\nconst allowClickOutside = ref(false);\nfunction onClickOutside() {\n  // console.log('onclickoutside', playbackVisible.value, allowClickOutside.value);\n  if (playbackVisible.value && allowClickOutside.value) {\n    playbackVisible.value = false;\n    return;\n  }\n  allowClickOutside.value = playbackVisible.value;\n}\n</script>\n\n<style lang=\"less\">\n\n#speed-control {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 10px;\n  //margin-left: 10px;\n\n  #speed-buttons {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n\n    @media (max-width: 600px) {\n      gap: 20px;\n    }\n\n    @media (min-width: 601px) {\n      gap: 10px;\n    }\n\n  }\n  \n  @media (orientation: landscape) {\n    // margin-left: 3rem;\n  }\n  \n  .icon-wrapper {\n    padding-inline: calc(0.3 * var(--default-line-height));\n    padding-block: calc(0.4 * var(--default-line-height));\n    border: 2px solid var(--accent-color);\n  }\n\n}\n\n#enclosing-playback-container.desktop-playback-control {\n  --tick-font-size: 12px;\n  margin-bottom: calc(2.5rem + 5px);\n  padding-right: 1rem;\n  \n}\n\n// account for the long 10000x text\n#enclosing-playback-container.inset {\n  padding-right: 1rem;\n}\n\n\n#inline-speed-control {\n  display: flex; \n  flex-grow: 0;\n  align-items: flex-end; \n  position: relative; \n  gap: 6px;\n\n#enclosing-playback-container.mobile-playback-control {\n    position: fixed;\n    width: calc(90% - 1rem);\n    left: calc(50% - 11px); // 9px is half the size close button\n    --off: 0; //calc(50%);\n    transform: translateX(-50%) translateY(var(--off)) !important;\n  }\n\n}\n\n\n#speed-text {\n  background-color: rgba(0, 0, 0, 0.5);\n  padding-inline: 0.4em;\n  border-radius: 0.3em;\n  font-size: calc(1 * var(--default-font-size));\n  text-wrap: nowrap;  \n  width: fit-content;\n  align-self: center;\n}\n\n</style>\n","import script from \"./SpeedControl.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./SpeedControl.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./SpeedControl.vue?vue&type=style&index=0&id=0a151368&lang=less\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"td__container\" }\nconst _hoisted_2 = {\n  key: 0,\n  class: \"td__date\"\n}\nconst _hoisted_3 = { class: \"td__date_date\" }\nconst _hoisted_4 = {\n  key: 1,\n  class: \"td__time\"\n}\nconst _hoisted_5 = { class: \"td__time_time\" }\nconst _hoisted_6 = {\n  key: 2,\n  class: \"td__timezone\"\n}\nconst _hoisted_7 = { class: \"td__timezone_tz\" }\nconst _hoisted_8 = {\n  key: 3,\n  class: \"td__time\"\n}\nconst _hoisted_9 = { class: \"td__time_time td__short_time\" }\n\nimport { computed } from 'vue';\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'TimeDisplay',\n  props: {\n  date: { type: Date, required: true },\n  ampm: { type: Boolean, default: false },\n  showDate: { type: Boolean, default: true, required: false },\n  showTimezone: { type: Boolean, default: true, required: false },\n  shortTimeDate: { type: Boolean, default: false, required: false },\n  timezone: { \n    type: String, \n    default: Intl.DateTimeFormat().resolvedOptions().timeZone, \n    required: false \n  }\n},\n  setup(__props) {\n\nconst props = __props;\n\nfunction pad(number: number, length: number = 2): string {\n  return String(number).padStart(length, '0');\n}\n\n\nconst hours = computed(() => {\n  if (props.ampm) {\n    const hour = props.date.getHours() % 12;\n    return hour === 0 ? 12 : hour;\n  } else {\n    return props.date.getHours();\n  }\n});\n\n\nconst ampm = computed(() => {\n  return props.date.getHours() >= 12 ? 'PM' : 'AM';\n});\n\nconst shortTimeDateString = computed(() => {\n  // return date formatted as Oct 3 9:00 AM\n  const year = props.date.getFullYear();\n  const month = props.date.toLocaleString('default', { month: 'short' });\n  const day = props.date.getDate();\n  const h = props.date.getHours() % 12;\n  const hour = h === 0 ? 12 : h;\n  const minute = pad(props.date.getMinutes());\n  const ampm = props.date.getHours() >= 12 ? 'PM' : 'AM';\n  const tz =  props.timezone;\n  return `${month} ${day} ${year} ${hour}:${minute} ${ampm}` + (props.showTimezone ? ` ${tz}` : '');\n});\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (props.showDate && !props.shortTimeDate)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n          _createElementVNode(\"span\", _hoisted_3, _toDisplayString(props.date.toLocaleString('default', { month: 'long' })) + \" \" + _toDisplayString(pad(props.date.getDate())) + \", \" + _toDisplayString(props.date.getFullYear()), 1)\n        ]))\n      : _createCommentVNode(\"\", true),\n    (!props.shortTimeDate)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [\n          _createElementVNode(\"span\", _hoisted_5, _toDisplayString(pad(hours.value)) + \":\" + _toDisplayString(pad(props.date.getMinutes())) + \":\" + _toDisplayString(pad(props.date.getSeconds())) + \" \" + _toDisplayString(props.ampm ? ampm.value : ''), 1)\n        ]))\n      : _createCommentVNode(\"\", true),\n    (props.showTimezone && !props.shortTimeDate)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [\n          _createElementVNode(\"span\", _hoisted_7, _toDisplayString(props.timezone), 1)\n        ]))\n      : _createCommentVNode(\"\", true),\n    (props.shortTimeDate)\n      ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [\n          _createElementVNode(\"span\", _hoisted_9, _toDisplayString(shortTimeDateString.value), 1)\n        ]))\n      : _createCommentVNode(\"\", true)\n  ]))\n}\n}\n\n})","<template>\n    <div class=\"td__container\">\n      <div class=\"td__date\" v-if=\"props.showDate && !props.shortTimeDate\">\n        <span class=\"td__date_date\">\n          {{ props.date.toLocaleString('default', { month: 'long' }) }} {{ pad(props.date.getDate()) }}, {{ props.date.getFullYear() }}\n        </span>\n      </div>\n      <div class=\"td__time\" v-if=\"!props.shortTimeDate\">\n        <span class=\"td__time_time\">{{ pad(hours) }}:{{ pad(props.date.getMinutes()) }}:{{ pad(props.date.getSeconds()) }} {{ props.ampm ? ampm : '' }}</span>\n      </div>\n      <div class=\"td__timezone\" v-if=\"props.showTimezone && !props.shortTimeDate\">\n        <span class=\"td__timezone_tz\">{{ props.timezone }}</span>\n      </div>\n      <div class=\"td__time\" v-if=\"props.shortTimeDate\"> \n        <span class=\"td__time_time td__short_time\">{{ shortTimeDateString }}</span>\n      </div>\n      \n   </div>  \n</template>\n\n\n\n<script setup lang=\"ts\">\nimport { computed, defineProps } from 'vue';\n\nconst props = defineProps({\n  date: { type: Date, required: true },\n  ampm: { type: Boolean, default: false },\n  showDate: { type: Boolean, default: true, required: false },\n  showTimezone: { type: Boolean, default: true, required: false },\n  shortTimeDate: { type: Boolean, default: false, required: false },\n  timezone: { \n    type: String, \n    default: Intl.DateTimeFormat().resolvedOptions().timeZone, \n    required: false \n  }\n}\n);\n\nfunction pad(number: number, length: number = 2): string {\n  return String(number).padStart(length, '0');\n}\n\n\nconst hours = computed(() => {\n  if (props.ampm) {\n    const hour = props.date.getHours() % 12;\n    return hour === 0 ? 12 : hour;\n  } else {\n    return props.date.getHours();\n  }\n});\n\n\nconst ampm = computed(() => {\n  return props.date.getHours() >= 12 ? 'PM' : 'AM';\n});\n\nconst shortTimeDateString = computed(() => {\n  // return date formatted as Oct 3 9:00 AM\n  const year = props.date.getFullYear();\n  const month = props.date.toLocaleString('default', { month: 'short' });\n  const day = props.date.getDate();\n  const h = props.date.getHours() % 12;\n  const hour = h === 0 ? 12 : h;\n  const minute = pad(props.date.getMinutes());\n  const ampm = props.date.getHours() >= 12 ? 'PM' : 'AM';\n  const tz =  props.timezone;\n  return `${month} ${day} ${year} ${hour}:${minute} ${ampm}` + (props.showTimezone ? ` ${tz}` : '');\n});\n\n\n</script>\n\n<style>\n\n.td__container {\n  margin: 1em;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  color: currentColor;\n}\n\n.td__container > div > span {\n  -webkit-user-select: none; /* Safari */\n  -ms-user-select: none; /* IE 10 and IE 11 */\n  user-select: none; /* Standard syntax */\n}\n\n.td__time {\n  width: max-content;\n}\n\n.td__time_time {\n  font-size: 1em;\n  color: inherit;\n  text-align: center;\n  text-wrap: nowrap;\n  width: fit-content;\n}\n\n.td__date {\n  width: max-content;\n}\n\n.td__date_date {\n  font-size: 0.75em;\n  color: inherit;\n  text-align: center;\n  text-wrap: nowrap;\n  width: fit-content;\n}\n\n.td__timezone {\n  width: max-content;\n}\n\n.td__timezone_tz {\n  font-size: 0.75em;\n  color: inherit;\n  text-align: center;\n  text-wrap: nowrap;\n  width: fit-content;\n}\n\n</style>","import script from \"./TimeDisplay.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./TimeDisplay.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./TimeDisplay.vue?vue&type=style&index=0&id=63a76c3e&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { useModel as _useModel, mergeModels as _mergeModels, defineComponent as _defineComponent } from 'vue'\nimport { resolveComponent as _resolveComponent, withKeys as _withKeys, createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, withCtx as _withCtx, normalizeStyle as _normalizeStyle, resolveDirective as _resolveDirective, openBlock as _openBlock, createElementBlock as _createElementBlock, withDirectives as _withDirectives, createBlock as _createBlock } from \"vue\"\n\nconst _hoisted_1 = { id: \"first-splash-row\" }\nconst _hoisted_2 = { id: \"splash-screen-text\" }\nconst _hoisted_3 = { class: \"highlight\" }\nconst _hoisted_4 = { id: \"splash-screen-acknowledgements\" }\nconst _hoisted_5 = { id: \"splash-screen-logos\" }\n\nimport {computed} from 'vue';\nexport interface Props {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  cssVars?: any;\n  title: string;\n  color?: string,\n  highlightColor?: string\n}\n\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'SplashScreen',\n  props: /*@__PURE__*/_mergeModels({\n    cssVars: { default: () => ({}) },\n    title: {},\n    color: {},\n    highlightColor: {}\n  }, {\n    \"modelValue\": { default: true },\n    \"modelModifiers\": {},\n  }),\n  emits: /*@__PURE__*/_mergeModels(['close'], [\"update:modelValue\"]),\n  setup(__props: any, { emit: __emit }) {\n\nconst props = __props;\n\nconsole.log(props.cssVars);\n\nconst cssVars = computed(() => {\n  return {\n    ...props.cssVars,\n    ...{'--accent-color': props.color == null ? props.cssVars['--accent-color'] : props.color},\n    ...{'--accent-color2': props.highlightColor == null ? props.cssVars['--accent-color2'] : props.highlightColor}\n  };\n});\n\nconst emits = __emit;\n\nconst showSplashScreen = _useModel(__props, \"modelValue\");\n\n\nfunction closeSplashScreen() {\n  showSplashScreen.value = false;\n  emits('close');\n}\n\n\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\")!\n  const _component_v_btn = _resolveComponent(\"v-btn\")!\n  const _component_credit_logos = _resolveComponent(\"credit-logos\")!\n  const _component_focus_trap = _resolveComponent(\"focus-trap\")!\n  const _component_v_overlay = _resolveComponent(\"v-overlay\")!\n  const _directive_click_outside = _resolveDirective(\"click-outside\")!\n\n  return (_openBlock(), _createBlock(_component_v_overlay, {\n    \"model-value\": showSplashScreen.value,\n    absolute: \"\",\n    opacity: \"0.6\",\n    style: _normalizeStyle(cssVars.value),\n    id: \"splash-overlay\"\n  }, {\n    default: _withCtx(() => [\n      _createVNode(_component_focus_trap, null, {\n        default: _withCtx(() => [\n          _withDirectives((_openBlock(), _createElementBlock(\"div\", {\n            id: \"splash-screen\",\n            style: _normalizeStyle(cssVars.value)\n          }, [\n            _createElementVNode(\"div\", _hoisted_1, [\n              _createVNode(_component_font_awesome_icon, {\n                id: \"close-splash-button\",\n                onClick: closeSplashScreen,\n                onKeyup: _withKeys(closeSplashScreen, [\"enter\"]),\n                icon: \"xmark\",\n                tabindex: \"0\"\n              }),\n              _createElementVNode(\"div\", _hoisted_2, [\n                _cache[0] || (_cache[0] = _createElementVNode(\"p\", null, \"Want to see the\", -1)),\n                _createElementVNode(\"p\", _hoisted_3, _toDisplayString(_ctx.title) + \"?\", 1)\n              ])\n            ]),\n            _createElementVNode(\"div\", null, [\n              _createVNode(_component_v_btn, {\n                class: \"splash-get-started\",\n                onClick: closeSplashScreen,\n                onKeyup: _withKeys(closeSplashScreen, [\"enter\"]),\n                color: cssVars.value['--accent-color'],\n                density: _ctx.$vuetify.display.xs ? 'compact' : 'default',\n                size: _ctx.$vuetify.display.width < 250 ? 'large' : 'x-large',\n                variant: \"elevated\",\n                rounded: \"lg\"\n              }, {\n                default: _withCtx(() => _cache[1] || (_cache[1] = [\n                  _createTextVNode(\" Get Started \")\n                ])),\n                _: 1\n              }, 8, [\"color\", \"density\", \"size\"])\n            ]),\n            _createElementVNode(\"div\", _hoisted_4, [\n              _cache[2] || (_cache[2] = _createTextVNode(\" Brought to you by \")),\n              _cache[3] || (_cache[3] = _createElementVNode(\"a\", {\n                href: \"https://www.cosmicds.cfa.harvard.edu/\",\n                target: \"_blank\",\n                rel: \"noopener noreferrer\"\n              }, \"Cosmic Data Stories\", -1)),\n              _cache[4] || (_cache[4] = _createTextVNode(\" and \")),\n              _cache[5] || (_cache[5] = _createElementVNode(\"a\", {\n                href: \"https://www.worldwidetelescope.org/home/\",\n                target: \"_blank\",\n                rel: \"noopener noreferrer\"\n              }, \"WorldWide Telescope\", -1)),\n              _cache[6] || (_cache[6] = _createTextVNode(\". \")),\n              _createElementVNode(\"div\", _hoisted_5, [\n                _createVNode(_component_credit_logos)\n              ])\n            ])\n          ], 4)), [\n            [_directive_click_outside, closeSplashScreen]\n          ])\n        ]),\n        _: 1\n      })\n    ]),\n    _: 1\n  }, 8, [\"model-value\", \"style\"]))\n}\n}\n\n})","<template>\n  <v-overlay\n    :model-value=\"showSplashScreen\"\n    absolute\n    opacity=\"0.6\"\n    :style=\"cssVars\"\n    id=\"splash-overlay\"\n  >\n    <focus-trap>\n    <div\n      id=\"splash-screen\"\n      v-click-outside=\"closeSplashScreen\"\n      :style=\"cssVars\"\n    >\n      <div\n        id=\"first-splash-row\"\n      >\n        <font-awesome-icon\n          id=\"close-splash-button\"\n          @click=\"closeSplashScreen\"\n          @keyup.enter=\"closeSplashScreen\"\n          icon=\"xmark\"\n          tabindex=\"0\"\n          />\n        <div id=\"splash-screen-text\">\n          <p>Want to see the</p>\n          <p class=\"highlight\">{{ title }}?</p>\n        </div>\n      </div>\n\n      <div>\n        <v-btn\n          class=\"splash-get-started\"\n          @click=\"closeSplashScreen\"\n          @keyup.enter=\"closeSplashScreen\"\n          :color=\"cssVars['--accent-color']\"\n          :density=\"$vuetify.display.xs ? 'compact' : 'default'\"\n          :size=\"$vuetify.display.width < 250 ? 'large' : 'x-large'\"\n          variant=\"elevated\"\n          rounded=\"lg\"\n        >\n          Get Started\n        </v-btn>\n      </div>\n    \n      <div id=\"splash-screen-acknowledgements\">\n        Brought to you by <a href=\"https://www.cosmicds.cfa.harvard.edu/\" target=\"_blank\" rel=\"noopener noreferrer\">Cosmic Data Stories</a> and <a href=\"https://www.worldwidetelescope.org/home/\" target=\"_blank\" rel=\"noopener noreferrer\">WorldWide Telescope</a>.\n        \n        <div id=\"splash-screen-logos\">\n          <credit-logos/>\n        </div>\n      </div>\n    </div>\n    </focus-trap>\n  </v-overlay>\n</template>\n\n\n<script setup lang=\"ts\">\nimport {computed} from 'vue';\nexport interface Props {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  cssVars?: any;\n  title: string;\n  color?: string,\n  highlightColor?: string\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n  cssVars: () => ({}),\n});\n\nconsole.log(props.cssVars);\n\nconst cssVars = computed(() => {\n  return {\n    ...props.cssVars,\n    ...{'--accent-color': props.color == null ? props.cssVars['--accent-color'] : props.color},\n    ...{'--accent-color2': props.highlightColor == null ? props.cssVars['--accent-color2'] : props.highlightColor}\n  };\n});\n\nconst emits = defineEmits(['close']);\n\nconst showSplashScreen = defineModel({ default: true });\n\n\nfunction closeSplashScreen() {\n  showSplashScreen.value = false;\n  emits('close');\n}\n\n\n</script>\n\n\n<style lang=\"less\">\n\n#splash-overlay {\n  align-items: center;\n  justify-content: center;\n  font-size: min(8vw, 7vh);\n}\n\n#splash-screen {\n  color: #E0E0E0;\n\n  @media (max-width: 699px) {\n    max-height: 80vh;\n    max-width: 90vw;\n  }\n\n  @media (min-width: 700px) {\n    max-height: 85vh;\n    max-width: min(70vw, 800px);\n  }\n\n\n  background-color: black;\n  backdrop-filter: blur(5px);\n  justify-content: space-around;\n  align-content: center;\n  padding-top: 2rem;\n  padding-bottom: 1rem;\n\n  border-radius: 30px;\n  border: min(1.2vw, 0.9vh) solid var(--accent-color);\n  overflow: auto;\n  font-family: 'Highway Gothic Narrow', 'Roboto', sans-serif;\n\n  div {\n    margin-inline: auto;\n    text-align: center;\n  }\n  // make a paragraph inside the div centered horizontally and vertically\n  p {\n    font-family: 'Highway Gothic Narrow', 'Roboto', sans-serif;\n    font-weight: bold;\n    vertical-align: middle;\n  }\n    \n  p.highlight {\n    color: var(--accent-color2);\n    text-transform: uppercase;\n    font-weight: bolder;\n  }\n  \n  p.small {\n    font-size: var(--default-font-size);\n    font-weight: bold;\n  }\n\n  #first-splash-row {\n    width: 100%;\n  }\n\n  #close-splash-button {\n    position: absolute;\n    top: 20px;\n    right: 20px;\n    text-align: end;\n    color: var(--accent-color);\n    font-size: min(5vw, 4vh);\n    padding: 0.25rem;\n    margin: -0.25rem;\n\n    &:hover {\n      cursor: pointer;\n    }\n  }\n\n  #splash-screen-text {\n    // in the grid, the text is in the 2nd column\n    display: flex;\n    flex-direction: column;\n    line-height: 130%;\n    \n  }\n\n  .splash-get-started {\n    border: 2px solid white;\n    font-size: calc(1.8 * var(--default-font-size));\n    margin-top: 5%;\n    margin-bottom: 2%;\n    font-weight: bold !important;\n  }\n\n  #splash-screen-guide {\n    margin-block: 1.5em;\n    font-size: min(5vw, 4vh);\n    line-height: 140%;\n    width: 75%;\n\n    .v-col{\n      padding: 0;\n    }\n    \n    .svg-inline--fa {\n      color:var(--accent-color);\n      margin: 0 10px;\n    }\n  }\n\n  #splash-screen-acknowledgements {\n    margin-top: 3rem;\n    font-size: calc(1.7 * var(--default-font-size));\n    line-height: calc(1.5 * var(--default-line-height));\n    width: 60%; \n  }\n\n  #splash-screen-logos {\n    margin-block: 0.75em;\n\n    img {\n    height: 5vmin;\n    vertical-align: middle;\n    margin: 2px;\n    }\n\n    @media only screen and (max-width: 600px) {\n      img {\n        height: 24px;\n      }\n    }\n\n    svg {\n      vertical-align: middle;\n      height: 24px;\n    }\n  }\n}\n\n</style>","import script from \"./SplashScreen.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./SplashScreen.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./SplashScreen.vue?vue&type=style&index=0&id=21f8dbd1&lang=less\"\n\nconst __exports__ = script;\n\nexport default __exports__","import Vue, { createApp, type Plugin } from \"vue\";\n\nimport { CreditLogos, FundingAcknowledgement, GeolocationButton, IconButton, LocationSelector } from \"@cosmicds/vue-toolkit\";\nimport PlanetParade from \"./PlanetParade.vue\";\n\nimport vuetify from \"../plugins/vuetify\";\n\nimport { FontAwesomeIcon } from \"@fortawesome/vue-fontawesome\";\n\nimport { WWTComponent, wwtPinia } from \"@wwtelescope/engine-pinia\";\n\nimport DateTimePicker from \"./components/DateTimePicker.vue\";\nimport LocationSearch from \"./components/LocationSearch.vue\";\nimport PlaybackControl from './components/PlaybackControl.vue';\nimport SpeedControl from \"./components/SpeedControl.vue\";\nimport TimeDisplay from \"./components/TimeDisplay.vue\";\nimport SplashScreen from \"./SplashScreen.vue\";\nimport { FocusTrap } from \"focus-trap-vue\";\n\n\n\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport {\n  faBookOpen,\n  faChevronDown,\n  faChevronUp,\n  faCircleXmark,\n  faGear,\n  faLocationDot,\n  faMagnifyingGlass,\n  faPlay,\n  faPause,\n  faTimes,\n  faVideo,\n  faXmark,\n  faGaugeHigh,\n  faAnglesLeft,\n  faAnglesRight,\n  faAnglesUp,\n  faAnglesDown,\n  faRotate,\n} from \"@fortawesome/free-solid-svg-icons\";\n\nlibrary.add(faBookOpen);\nlibrary.add(faChevronDown);\nlibrary.add(faChevronUp);\nlibrary.add(faCircleXmark);\nlibrary.add(faGear);\nlibrary.add(faLocationDot);\nlibrary.add(faMagnifyingGlass);\nlibrary.add(faPlay);\nlibrary.add(faPause);\nlibrary.add(faTimes);\nlibrary.add(faVideo);\nlibrary.add(faXmark);\nlibrary.add(faGaugeHigh);\nlibrary.add(faAnglesLeft);\nlibrary.add(faAnglesRight);\nlibrary.add(faAnglesUp);\nlibrary.add(faAnglesDown);\nlibrary.add(faRotate);\n\n/** v-hide directive taken from https://www.ryansouthgate.com/2020/01/30/vue-js-v-hide-element-whilst-keeping-occupied-space/ */\n// Extract the function out, up here, so I'm not writing it twice\nconst update = (el: HTMLElement, binding: Vue.DirectiveBinding) => el.style.visibility = (binding.value) ? \"hidden\" : \"\";\n\ncreateApp(PlanetParade, {\n  wwtNamespace: \"planet-parade\"\n})\n \n  // Plugins\n  .use(wwtPinia as unknown as Plugin<[]>)\n  .use(vuetify)\n\n  // Directives\n  .directive(\n    /**\n    * Hides an HTML element, keeping the space it would have used if it were visible (css: Visibility)\n    */\n    \"hide\", {\n      // Run on initialisation (first render) of the directive on the element\n      beforeMount(el, binding, _vnode, _prevVnode) {\n        update(el, binding);\n      },\n      // Run on subsequent updates to the value supplied to the directive\n      updated(el, binding, _vnode, _prevVnode) {\n        update(el, binding);\n      }\n    })\n\n  // Components\n  .component(\"WorldWideTelescope\", WWTComponent)\n  .component('font-awesome-icon', FontAwesomeIcon)\n  .component('credit-logos', CreditLogos)\n  .component('funding-acknowledgement', FundingAcknowledgement)\n  .component('geolocation-button', GeolocationButton)\n  .component('icon-button', IconButton)\n  .component('location-selector', LocationSelector)\n  .component('location-search', LocationSearch)\n  .component('time-display', TimeDisplay)\n  .component('date-time-picker', DateTimePicker)\n  .component('speed-control', SpeedControl)\n  .component('playback-control', PlaybackControl)\n  .component('splash-screen', SplashScreen)\n  .component('focus-trap', FocusTrap)\n\n  // Mount\n  .mount(\"#app\");\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunk_cosmicds_planet_parade\"] = self[\"webpackChunk_cosmicds_planet_parade\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], () => (__webpack_require__(3537)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["useTimezone","selectedLocation","selectedTimezone","value","latitudeDeg","longitudeDeg","selectedTimezoneOffset","shortTimezone","Date","browserTimezone","Intl","DateTimeFormat","resolvedOptions","timeZone","browserTimezoneOffset","getTimezoneOffset","console","log","altAzToHADec","altRad","azRad","latRad","Math","PI","ra","atan2","sin","cos","tan","dec","asin","getJulian","utc","year","getUTCFullYear","month","getUTCMonth","day","getUTCDate","hour","getUTCHours","minute","getUTCMinutes","second","getUTCSeconds","getUTCMilliseconds","a","floor","b","c","d","jd","mstFromUTC2","longRad","lng","R2D","modifiedJD","julianCenturies","mst","horizontalToEquatorial","st","haDec","ha","raRad","D2R","decRad","equatorialToHorizontal","hourAngle","lat","sinAlt","altitude","cosAz","azimuth","acos","skyOpacityForSunAlt","sunAltRad","civilTwilight","astronomicalTwilight","min","max","atan","sunPlace","Place","set_names","set_classification","solarSystem","set_target","sun","set_zoomLevel","drawHorizon","renderContext","options","n","delta","triangleList","color","Color","load","round","opacity","settings","Settings","get_active","longitudeRad","get_locationLng","latitudeRad","get_locationLat","now","SpaceTimeController","get_now","i","points","map","point","raDecRad","Coordinates","raDecTo3d","addSubdividedTriangles","draw","drawSky","sunAltAz","get_RA","get_dec","WWTControl","scriptInterface","setForegroundOpacity","nameForObject","object","name","charAt","toUpperCase","slice","placeForObject","place","maxFOV","minFOV","maxFactor","minFactor","gMax","gMin","planetTextOffsetsY","planetTextOffsetsX","textOverlayForSolarSystemObject","text","glyphHeight","zoom","viewCamera","fov","exp","scale","sign","get_location","get_lat","up","Vector3d","create","location","y","x","Text3d","makeTextOverlays","batch","Text3dBatch","values","Object","keys","filter","key","isNaN","Number","forEach","moon","add","resetAltAzGridText","Grids","_altAzTextBatch","makeAltAzGridText","alt","directions","v","useCustomGlyphs","GLYPH_CACHE","cache","GlyphCache","root","window","origin","pathname","endsWith","length","imageUrl","xmlUrl","_texture","Texture","fromUrl","_webFile","WebFile","onStateChange","prototype","_glyphXmlReady","bind","send","_glyphCache","prepareBatch","drawPlanets","_opacity","Planets","_planetTextures","_loadPlanetTextures","elong","_geocentricElongation","_planetLocations","RA","raDif","_phaseAngle","distance","dista","abs","degreesToRadians","distb","sunMoonDist","sqrt","coronaOpacity","moonEffect","_planetScales","_drawPlanet","_planetDrawOrder","planetId","renderOneFrame","showHorizon","showSky","showPlanetLabels","this","get_backgroundImageset","renderType","get_dataSetType","sizeChange","canvas","width","parentNode","clientWidth","height","clientHeight","explorer","refresh","_crossHairs","Tile","lastDeepestLevel","deepestLevel","RenderTriangle","tilesInView","tilesTouched","set_metaNow","get__mover","set_now","get_currentDateTime","updatePlanetLocations","get_solarSystemMode","newCam","get_currentPosition","targetCamera","copy","space","get_galacticMode","gPoint","j2000toGalactic","targetAlt","targetAz","az","get_localHorizonMode","currentAltAz","equitorialToHorizon","fromRaDec","get_alt","get_az","get_complete","_fireArrived","singleton","set__mover","_notifyMoveComplete","updateClock","_updateViewParameters","clear","setupMatricesSpace3d","drawImageSet","get_foregroundImageset","set_foregroundImageset","gl","_foregroundCanvas","saveDevice","device","_fgDevice","clearRect","save","globalAlpha","drawImage","restore","uiController","render","Annotation","prepBatch","_annotations","item","drawBatch","_lastMouseMove","raDecDown","getCoordinatesForScreenPoint","_hoverTextPoint","_annotationHover","_hoverText","_drawHoverText","imageset","get_catalogHipsImagesets","get_hipsProperties","get_catalogSpreadSheetLayer","enabled","lastVersion","get_version","constellation","Constellations","containment","findConstellationForPoint","_drawSkyOverlays","_planetTextOverlays","viewTransform","fromArgb","worldSave","get_world","viewSave","get_view","projSave","get_projection","get_current","get_showCrosshairs","_drawCrosshairs","tilesAllLoaded","TileCache","get_queueCount","setupMatricesOverlays","_fadeFrame","_frameCount","decimateQueue","processQueue","currentRenderGeneration","TourPlayer","get_playing","set_crossFadeFrame","set_world","set_view","set_projection","ms","_lastUpdate","trianglesRendered","trianglesCulled","capturingVideo","dumpFrameParams","waitDownload","captureFrameForVideo","_videoBlobReady","format","nextFrame","get_doneDumping","frameDumping","cancelFrameDump","drawEcliptic","drawColor","drawCircle","_eclipticOverviewLineList","_eclipticYear","obliquity","meanObliquityOfEcliptic","get_jNow","mat","Matrix3d","_rotationX","daysPerYear","DT","isLeap","_monthDays","_eclipticCount","jYear","utcToJulian","dPrev","dStart","SimpleLineList","set_depthBuffered","m","daysThisMonth","sunRaDec","getPlanetLocationJD","sunEcliptic","CT","eq2Ec","dd","addLine","_transformCoordinate","drawLines","drawSkyOverlays","get_showConstellationPictures","freestandingMode","drawArtwork","get_showConstellationFigures","constellationsFigures","URLHelpers","engineAssetUrl","get_showEclipticGrid","drawEclipticGrid","get_eclipticGridColor","get_showEclipticGridText","drawEclipticGridText","get_showGalacticGrid","drawGalacticGrid","get_galacticGridColor","get_showGalacticGridText","drawGalacticGridText","get_showAltAzGrid","drawAltAzGrid","get_altAzGridColor","get_showAltAzGridText","drawAltAzGridText","get_showPrecessionChart","drawPrecessionChart","get_precessionChartColor","get_showEcliptic","get_eclipticColor","get_showEclipticOverviewText","drawEclipticText","get_showGrid","drawEquitorialGrid","get_equatorialGridColor","get_showEquatorialGridText","drawEquitorialGridText","get_showConstellationBoundries","constellationsBoundries","get_showConstellationSelection","get_showConstellationLabels","drawConstellationNames","Colors","get_yellow","SECONDS_PER_DAY","MILLISECONDS_PER_DAY","secondsInterval","MILLISECONDS_PER_INTERVAL","useSun","store","_selectedTime","_selectedTimezoneOffset","waitForReady","then","selectedTime","locationRad","sunPosition","getSunPositionAtTime","time","getTimeforSunAlt","altDeg","minTime","maxTime","sunAlt","rising","setting","_hoisted_1","id","_hoisted_2","_hoisted_3","_hoisted_4","class","_hoisted_5","style","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","UUID_KEY","OPT_OUT_KEY","SKIP_INTRO_CONTENT_KEY","__name","props","wwtNamespace","default","setup","__props","STORY_DATA_URL","API_BASE_URL","maybeUUID","localStorage","getItem","storedOptOut","skipIntroContent","toLowerCase","existingUser","uuid","v4","setItem","infoTimeMs","videoPlayingTimeMs","videoPlaying","videoOpened","videoPlayed","appStartTimestamp","infoStartTimestamp","videoPlayingStartTimestamp","userSelectedSearchLocations","userSelectedMapLocations","engineStore","useWWTKeyboardControls","touchscreen","supportsTouchscreen","smAndDown","smAndUp","xs","queryHideSplash","URLSearchParams","search","get","splash","showSplashScreen","backgroundImagesets","sheet","layersLoaded","positionSet","accentColor","accentColor2","buttonColor","tab","showAltAzGrid","showEcliptic","showLocationSelector","playing","showControls","showConstellations","inIntro","showPrivacyDialog","datePickerOpen","skipIntroChecked","showPlanetVisiblity","wwtStats","timeResetCount","reverseCount","playPauseCount","speedups","slowdowns","rateSelections","startTime","optOut","responseOptOut","geocodingOptions","access_token","selectedLocationText","updateSelectedLocationText","searchErrorMessage","localSelectedDate","fakeUTC","set","getTime","newTime","wwtSettings","doWWTModifications","_makeAltAzGridText","boundRenderOneFrame","newFrameRender","originalUpdatePlanetLocations","planetScales","newUpdatePlanetLocations","threeD","set_zoomMax","planetIsVisible","planetName","date","planetPos","AstroCalc","getPlanet","altAz","sunVis","dateTime","mercuryVis","mercury","venusVis","venus","marsVis","mars","jupiterVis","jupiter","saturnVis","saturn","uranusVis","uranus","neptuneVis","neptune","skyBackgroundImagesets","iset","push","altTime","setTimeout","resetCamera","applySetting","updateAltAzGrid","updateAltAzGridText","updateEcliptic","updateConstellations","updateWWTLocation","setClockSync","setClockRate","createUserEntry","setInterval","currentTime","updateEclipticColor","addEventListener","event","includes","showVideoSheet","document","visibilityState","updateUserData","resetData","ready","isLoading","inNorthernHemisphere","smallSize","mobile","xSmallSize","cssVars","showTextSheet","_value","selectSheet","video","querySelector","_event","pause","closeSplashScreen","sheetType","blurActiveElement","getTextForLocation","setLocationFromFeature","feature","center","catch","_err","setLocationFromSearchFeature","searchProvider","updateLocationFromMap","fetch","method","headers","response","json","content","exists","status","undefined","user_uuid","body","JSON","stringify","user_selected_search_locations","user_selected_map_locations","app_time_ms","info_time_ms","video_time_ms","video_opened","video_played","wwt_time_reset_count","wwt_reverse_count","wwt_play_pause_count","wwt_speedups","wwt_slowdowns","wwt_rate_selections","wwt_start_stop_times","assign","infoTime","videoTime","delta_app_time_ms","delta_info_time_ms","delta_video_time_ms","delta_wwt_time_reset_count","delta_wwt_reverse_count","delta_wwt_play_pause_count","keepalive","Promise","lonRad","sunAz","startAlt","startRADec","gotoRADecZoom","zoomDeg","instant","set_locationLat","set_locationLng","show","component","play","dt","setTime","checked","String","_inNorth","intro","_ctx","_cache","_component_WorldWideTelescope","_component_splash_screen","_component_font_awesome_icon","_component_icon_button","_component_geolocation_button","_component_location_search","_component_location_selector","_component_time_display","_component_date_time_picker","_component_speed_control","_component_credit_logos","_component_funding_acknowledgement","title","onClose","modelValue","$event","size","icon","onClick","onKeyup","tabindex","label","density","_","transition","elevation","onGeolocation","longitude","latitude","small","onSetLocation","onError","activator","scrim","rounded","ampm","timezone","ref","_playing","defaultRate","useInline","maxSpeed","onReset","_reverse","onSlowDown","rate","onSpeedUp","onSetRate","onActivate","mdSize","fullscreen","controls","src","type","href","target","rel","persistent","absolute","dense","align","cols","outlined","__exports__","icons","defaultSet","aliases","sets","mdi","locale","fallback","messages","en","theme","defaultTheme","editable","Boolean","step","clamp","zeroPad","pad2","emits","psuedoValue","editing","input","pad","toString","padStart","parseValue","parseFloat","parseInt","minValue","maxValue","stepValue","setValue","blurred","toNearest","isValid","clampValue","newVal","focus","newValue","oldValue","onChange","onBlur","ref_key","debug","useAmpm","editableTime","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","isAm","decrement","increment","limits","Infinity","_daysInMonth","units","changeValue","unit","limit","nextUnit","indexOf","prevUnit","displayHour","h","utcDate","toISOString","TapToInput","$slots","Function","_searchText","stayOpen","buttonSize","bgColor","__emit","emit","searchOpen","searchItem","searchResults","locationJustUpdated","menuOpen","comboFocused","searchInput","cssStyles","itemText","performForwardGeocodingSearch","info","features","focusCombobox","blurCombobox","blur","toggleSearch","onFocusChange","focused","timedJustUpdatedLocation","clearSearchData","items","solo","onInput","onKeydown","menu","append","$props","$setup","$data","$options","inline","inlineButton","showCloseButton","$emit","hidePlayButton","isPaused","reverseTime","index","val","valueToMark","useBuiltInTicks","ticks","marks","base","logBase","log10","log2","E","sequence","rightSide","Array","fill","leftSide","reverse","seq","concat","fromSymLogIndex","inverseTransform","isArray","out","absValue","pow","transform","toSymlogIndex","makeSymmetric","right","left","linspace","start","stop","symmLinspace","symLog","SymmetricalLogTransform","components","VSlider","maxPower","paused","smallScreen","mounted","container","getElementById","setProperty","resizeObserver","ResizeObserver","entries","track","tickContainer","psc","s","scrollWidth","classList","remove","observe","data","symlog","myTicks","methods","pre","pos","computed","rt","usePlaybackControl","clockRate","timePlaying","togglePlay","setSpeed","newRate","newIsPlaying","minSpeed","showText","rateDelta","useOldControl","required","playbackVisible","forceRate","playbackRate","reverseRate","increaseRate","decreaseRate","reverseOrIncreaseReversePlaybackRate","ezrate","forwardOrIncreaseForwardPlaybackRate","allowClickOutside","onClickOutside","_component_playback_control","faSize","offset","onPaused","showDate","showTimezone","shortTimeDate","number","hours","shortTimeDateString","toLocaleString","tz","highlightColor","_component_focus_trap","$vuetify","display","variant","update","el","binding","visibility","PlanetParade","use","wwtPinia","vuetify","directive","beforeMount","_vnode","_prevVnode","updated","WWTComponent","CreditLogos","FundingAcknowledgement","GeolocationButton","IconButton","LocationSelector","LocationSearch","TimeDisplay","DateTimePicker","SpeedControl","PlaybackControl","SplashScreen","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","deferred","O","result","chunkIds","fn","priority","notFulfilled","fulfilled","j","every","splice","r","getter","__esModule","definition","o","defineProperty","enumerable","g","globalThis","e","obj","prop","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}